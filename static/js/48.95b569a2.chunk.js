(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[48],{1519:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(9),i=a.n(r),o=a(19),c=a(12),s=a(37),l=a(26),u=a(20),m=a.n(u),p=a(1583),d=a.n(p),f=a(0),b=a.n(f),x=a(1565),E=a(380),y="/api/balances",T="/api/deposit_virtual_accounts",g="/api/top_up_flow_setting",_="/api/top_up_token",v="/api/tax_payment_requests",h=function(e){return"/api/tax_payment_requests/payment_reports/".concat(e)},O="/api/tax_payment_requests/payment_reports",I="/api/tax_payment_requests_files",S=function(e){return"/api/tax_payment_requests_files/".concat(e)},C=function(e){return"/api/tax_payment_requests/".concat(e,"/retry_payment")},N="PENDING",w="COMPLETED",k="FAILED",D=[{type:"ALL_STATUSES",label:"All Statuses"},{type:N,label:"Pending"},{type:w,label:"Completed"},{type:k,label:"Failed"}],j="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",U={DOWNLOAD:{xendit:"/images/icons/download-bd-template-icon-blue.svg",instamoney:"/images/icons/download-bd-template-icon-purple.svg"},FILE:{xendit:"/images/icons/file-icon-blue.svg",instamoney:"/images/icons/file-icon-purple.svg",grey:"/images/icons/file-icon-grey.svg"}},A={currency:"USD",rate:1},B={currency:"IDR",rate:14800},L=a(1575),R=a.n(L),F=a(189),M=a(48),P=a(1573),W=a(647),H=a(513),G=a(31),q=a.n(G),K=a(80),V=a(288),z=a.n(V),Y=a(50),X=a(1585),Q=a.n(X),J=function(e){var t=z()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case w:return b.a.createElement(R.a,{text:t,variant:"success"});case N:return b.a.createElement(R.a,{text:t,variant:"warning"});case k:return b.a.createElement(R.a,{text:t,variant:"danger"});default:return b.a.createElement(R.a,{text:t})}},Z=function(e,t){return[{dataField:"status",text:e("tableHeaderStatus"),formatter:J,type:"string",headerStyle:{width:"15%"}},{dataField:"created",text:e("tableHeaderDateCreated"),formatter:F.h,type:"date",headerStyle:{width:"15%"}},{dataField:"uploader_name",text:e("tableHeaderUploaderName"),type:"string",headerStyle:{width:"20%"}},{dataField:"reference",text:e("tableHeaderReferenceNum"),type:"string",headerStyle:{width:"20%"}},{dataField:"amount",text:e("tableHeaderAmount"),type:"number",headerStyle:{width:"25%"},formatter:function(e){return e>=0?Object(P.b)(e,t,!0):"-"}}]},$=function(e){var t=e.t,a=e.onButtonClick;return b.a.createElement(K.r,{icon:"/images/lady-desk-computer.svg",caption:t("noRecordsTitle"),subtitle:t("noRecordsDescription")},b.a.createElement(m.a,{variant:"secondary",customCss:"account-balance-button",onClick:a,id:"create-tax-payment"},t("create")))},ee=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.t,n=t.row,r=t.axiosPost,o=t.notify,c=t.onSuccessfulCreation,n&&n.status===k){e.next=4;break}return o({type:"error",message:a("retryNotAvailable")}),e.abrupt("return");case 4:return e.next=6,r(C(n.id));case 6:if(!(s=e.sent).error_code){e.next=10;break}return o({type:"error",message:a("errorMessages:unexpectedErrorOccured")}),e.abrupt("return");case 10:c(s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.t,n=t.row,r=t.axiosGet,o=t.notify,n.status===w){e.next=4;break}return o({type:"error",message:a("downloadNotAvailable")}),e.abrupt("return");case 4:return e.next=6,r(h(n.id));case 6:if(!(c=e.sent).error_code){e.next=10;break}return o({type:"error",message:a("errorMessages:unexpectedErrorOccured")}),e.abrupt("return");case 10:window.open(c.url,"_blank");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,r,o,c,s,l,u,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.t,r=t.selectedRows,o=t.axiosPost,c=t.notify,(s=t.setIsFetchingBatchDownloadUrl)(!0),0!==(l=r.reduce((function(e,t){return t.status===w?[].concat(Object(n.a)(e),[t.id]):e}),[])).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,o(O,{tax_payment_request_ids:l});case 7:if(u=e.sent,s(!1),!u.error_code){e.next=13;break}return m=Object(Y.f)(u.error_code,a,{action:Q()(a("commonWords:download"))}),c({type:"error",message:m}),e.abrupt("return");case 13:window.open(u.url,"_blank");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){return{amountConverted:Object(P.b)(e,B.currency),amountOriginal:Object(P.b)(e*A.rate/B.rate,A.currency)}},re=function(e){var t=e.t,a=e.amount;if(a<0)return null;var n=ne(a),r=n.amountConverted,i=n.amountOriginal;return b.a.createElement("div",null,b.a.createElement("div",{className:"modal__content-box"},t("modalLabelVATAmount"),b.a.createElement("ul",{class:"color-charcoal m-2 pl-2"},b.a.createElement("li",null,r),b.a.createElement("li",null,i))),b.a.createElement("span",{className:"text-sm"},t("forexRateApplied",{currency1:A.currency,rate1:A.rate,currency2:B.currency,rate2:B.rate})))},ie=a(81),oe=a(3),ce=a(27),se=a(115),le=a.n(se),ue=a(1729),me=a(1642),pe=a(28),de=(a(1990),function(e){var t=e.t,a=e.apiCall,r=e.entity,s=e.environment,l=e.balance,u=e.balanceErrorMessage,p=e.isFetchingCashBalance,d=e.defaultCurrency,x=Object(f.useState)([]),E=Object(c.a)(x,2),y=E[0],v=E[1],h=Object(f.useState)(""),O=Object(c.a)(h,2),I=O[0],S=O[1],C=Object(f.useState)(""),N=Object(c.a)(C,2),w=N[0],k=N[1],D=Object(f.useState)(""),j=Object(c.a)(D,2),U=j[0],A=j[1],B=Object(f.useState)(!1),L=Object(c.a)(B,2),R=L[0],F=L[1],M=Object(f.useState)(!1),W=Object(c.a)(M,2),H=W[0],G=W[1],q=Object(f.useState)(!1),V=Object(c.a)(q,2),z=V[0],Y=V[1],X=Object(f.useState)(!1),Q=Object(c.a)(X,2),J=Q[0],Z=Q[1],$=Object(f.useState)({MANDIRI:!1,BCA:!1}),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne="DEVELOPMENT"===s;Object(f.useEffect)((function(){re()}),[]);var re=function(){var e=Object(o.a)(i.a.mark((function e(){var o,s,l,u,m,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(""),F(!0),e.next=4,Promise.all([a.axiosGet(T),a.axiosGet(g)]);case 4:if(o=e.sent,s=Object(c.a)(o,2),l=s[0],u=s[1],F(!1),!l.error_code&&!u.error_code){e.next=12;break}return A(t("errorMessages:unexpectedError")),e.abrupt("return");case 12:m=l.map((function(e){return{bankCode:e.bank_code,number:e.virtual_account_number,name:e.name}})),(u.should_use_new_top_up_flow||r===pe.a.INSTAMONEY)&&(p={bankCode:me.b[r].BANK_CODE,number:me.b[r].NUMBER,name:me.b[r].NAME},m=[].concat(Object(n.a)(m),[p]),se()),v([].concat(Object(n.a)(y),Object(n.a)(m)));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(""),G(!0),e.next=4,a.axiosGet(_);case 4:t=e.sent,G(!1),S(t.token);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(""),Y(!0),e.next=4,a.axiosPost(_);case 4:if(!(n=e.sent).error_code){e.next=8;break}return k(t("errorMessages:unexpectedError")),e.abrupt("return");case 8:Y(!1),S(n.token);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b.a.createElement(K.z,{preserveMobile:!0},b.a.createElement("div",{className:"account-balance-container"},b.a.createElement("div",null,b.a.createElement("p",{className:"m-0 color-ash-dark text-fair font-weight-bold"},t("yourCashBalance")),p?b.a.createElement("div",{className:"mt-2"},b.a.createElement(le.a,{size:"md"})):u?b.a.createElement("p",{className:"font-weight-bold m-0"},u):function(e,t){return b.a.createElement(b.a.Fragment,null,b.a.createElement("span",{className:"text-lg color-ash-dark font-weight-bold mr-2"},e),b.a.createElement("span",{className:"text-lg font-weight-bold"},Object(P.b)(t,e,!1)))}(d,l)),b.a.createElement("div",{className:"account-balance-button-group"},b.a.createElement(m.a,{variant:"secondary",customCss:"account-balance-button",onClick:function(){return Z(!0)},isDisabled:ne},t("topup")))),b.a.createElement(ue.a,{banks:y,whitelistPrefix:I,generateWhitelistPrefix:de,showModal:J,handleClose:function(){return Z(!1)},onHowToTopUpClick:function(e){Z(!1),ae((function(t){return Object(oe.a)(Object(oe.a)({},t),{},Object(ie.a)({},e,!0))}))},isFetchingTopUpBalance:R,isFetchingWhitelistPrefix:H,isGeneratingPrefix:z,fetchTopUpBalanceError:U,whitelistPrefixError:w}),!Object(ce.isEmpty)(y)&&b.a.createElement(b.a.Fragment,null,b.a.createElement(K.eb,{title:t("mandiriTopUpInstructions:instructionsTitle"),content:Object(me.c)(t,y[0].number,r),showModal:te.MANDIRI,handleClose:function(){return ae((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{MANDIRI:!1})}))}}),b.a.createElement(K.eb,{title:t("bcaTopUpInstructions:instructionsTitle"),content:Object(me.a)(t,me.b.NUMBER,r,I||t("prefixNotGenerated")),showModal:te.BCA,handleClose:function(){return ae((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{BCA:!1})}))}})))});de.defaultProps={balance:0};var fe=Object(E.a)(["tax","bcaTopUpInstructions","mandiriTopUpInstructions"])(de),be=a(49),xe=a.n(be),Ee=a(151),ye=a.n(Ee),Te=a(468),ge=a(149),_e=a.n(ge),ve=a(1579),he=ve.h().shape({file_id:ve.i().required(),currency:ve.i().required(),reference:ve.i().required()}),Oe=(ve.h().shape({ids:ve.a().of(ve.i()).required()}),function(e){var t=e.t,a=e.showModal,n=e.handleClose,r=e.apiCall,s=r.axiosPost,u=r.axiosPlainRequest,p=r.axiosGet,d=e.isMobileView,E=e.entity,y=e.currency,T=e.onSuccessfulCreation,g=e.onFailedCreation,_=Object(f.useState)(""),h=Object(c.a)(_,2),O=h[0],C=h[1],N=Object(f.useState)({}),w=Object(c.a)(N,2),k=w[0],D=w[1],L=Object(f.useState)(-1),R=Object(c.a)(L,2),F=R[0],M=R[1],P=Object(f.useState)(!1),W=Object(c.a)(P,2),H=W[0],G=W[1],q=Object(f.useState)(""),V=Object(c.a)(q,2),z=V[0],Y=V[1],X=Object(f.useState)(""),Q=Object(c.a)(X,2),J=Q[0],Z=Q[1],$=function(){D({}),C(""),Z(""),M(-1)},ee=function(e){e.stopPropagation(),$()},te=b.a.createElement("div",{className:"file-upload-content-section"},b.a.createElement("div",{className:"modal__icon-container"},b.a.createElement("img",{src:U.FILE.grey,alt:"tax-file-icon"})),b.a.createElement(le.a,null)),ae=function(){var e=Object(o.a)(i.a.mark((function e(a){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(""),n=a[0],r=Object(ce.isEmpty)(n.type)?j:n.type,!Object(ce.isEmpty)(a)&&r===j){e.next=6;break}return Z(t("FILE_NOT_EXCEL_ERROR")),e.abrupt("return");case 6:return e.next=8,s(I);case 8:if(!(o=e.sent).error_code){e.next=12;break}return Z(Object(Te.a)(o.error_code,t)),e.abrupt("return");case 12:return o.amount&&o.amount>0&&M(o.amount),e.abrupt("return",re({id:o.id,url:o.upload_url,file:n}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(o.a)(i.a.mark((function e(a){var n,r,o,c,s,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.id,r=a.url,o=a.file,c=o.name,s=o.type,e.next=4,u(r,{method:"PUT",processData:!1,data:o,headers:{"Content-Type":Object(ce.isEmpty)(s)?j:s,"x-amz-acl":"authenticated-read"}});case 4:if(!(l=e.sent).error_code){e.next=8;break}return Z(Object(Te.a)(l.error_code,t)),e.abrupt("return");case 8:return e.next=10,p(S(n));case 10:return(m=e.sent).error_code||M(m.amount),e.abrupt("return",{id:n,name:c});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),t=he.cast({reference:O,currency:y,file_id:k.id}),e.next=4,s(v,t);case 4:if(a=e.sent,G(!1),$(),!a.error_code){e.next=10;break}return g(),e.abrupt("return");case 10:T(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){$(),n()},se=b.a.createElement("div",{className:"modal__footer"},b.a.createElement(m.a,{onClick:oe,variant:"secondary",customCss:d?"":"mr-3"},t("commonWords:cancel")),b.a.createElement(m.a,{onClick:ie,isLoading:H,isDisabled:Object(ce.isEmpty)(k)||!O,id:"submit-tax-payment"},t("commonWords:create"))),ue=b.a.createElement(K.E,{infoPanel:!0,icon:l.e,customCss:"mb-3"},b.a.createElement("div",{className:"text-left"},b.a.createElement(x.a,{i18nKey:"tax:infoPanel"},"Please ensure that the template that you upload is the",b.a.createElement("strong",null," latest one"),"."))),me=b.a.createElement("div",{className:"d-flex mb-3"},b.a.createElement("div",{className:"modal__step-item"},"1"),b.a.createElement("div",null,b.a.createElement("div",{className:"d-flex align-items-center"},b.a.createElement("img",{src:U.DOWNLOAD[E],alt:"download-template-icon",height:16}),b.a.createElement("a",{className:"download-template-button",href:"https://tax-payment-request-files.s3-us-west-2.amazonaws.com/public/tax_payment_template_20200915.xlsx",target:"_blank",rel:"noopener noreferrer"},t("downloadTemplate"))),b.a.createElement("p",{className:"text-left text-sm color-ash-dark mb-0"},t("downloadTemplateDesc")))),pe=b.a.createElement("div",{className:"mb-3"},b.a.createElement("div",{className:"modal__step-item"},"2"),b.a.createElement("div",{className:"d-flex flex-column align-items-start"},b.a.createElement("p",{className:"mb-1 font-weight-bold text-left"},t("uploadFilled")),b.a.createElement(K.v,{name:"bd_file",customCss:"modal__file-upload ".concat(k.name&&!J?"modal__file-upload--success":""," ").concat(J?"modal__file-upload--error":""),content:function(e){var a=U.FILE.grey;return e&&(a=U.FILE[E]),b.a.createElement("div",null,b.a.createElement("div",{className:"clear-file"},b.a.createElement(m.a,{onClick:ee,variant:"secondary",customCss:"clear-file-close-button",isDisabled:Object(ce.isEmpty)(k)&&Object(ce.isEmpty)(O)},b.a.createElement("div",{className:"clear-file-close-button__content"},b.a.createElement("img",{src:"/images/icons/x-icon.svg",alt:"x-icon",className:"clear-file-close-button__icon"}),b.a.createElement("span",{className:"color-ash-dark clear-file-close-button__text"},t("commonWords:clear"))))),!J&&b.a.createElement("div",{className:"modal__icon-container"},b.a.createElement("img",{src:a,alt:"upload-file-icon"})),e?b.a.createElement("p",{className:"font-weight-bold m-0"},e):b.a.createElement("p",{className:"font-weight-bold m-0 text-center"},t("clickThisArea")))}(k.name),uploadFunction:ae,uploadingContent:te,onFileChange:function(e){if(e){var t=e.name;C(t.split(".")[0]),D(e)}},id:"upload-template"}),function(e){var t=e.t,a=e.amount;if(!(a<0)){var n=ne(a),r=n.amountConverted,i=n.amountOriginal;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"modal__content-box mt-1 w-100"},"".concat(t("modalLabelVATAmount"),": "),[r,i].join(" / ")),b.a.createElement("span",{className:"text-sm"},t("forexRateApplied",{currency1:A.currency,rate1:A.rate,currency2:B.currency,rate2:B.rate})))}}({t:t,amount:F}),J&&b.a.createElement("p",{className:"color-danger my-1 text-left"},J))),de=b.a.createElement("div",{className:"mb-3"},b.a.createElement("div",{className:"modal__step-item"},"3"),b.a.createElement("div",{className:"d-flex flex-column align-items-start"},b.a.createElement("div",{className:"d-flex mb-2 align-items-center justify-content-center"},b.a.createElement("p",{className:"mr-2 mb-0 font-weight-bold"},t("reference")),b.a.createElement(ye.a,{size:"sm",content:t("referenceTooltip"),placement:"right"})),b.a.createElement(_e.a,{onChange:function(e){e.preventDefault(),Y(""),C(e.target.value)},value:O,placeholder:t("referencePlaceholder"),errorMessage:z})));return b.a.createElement(xe.a,{showModal:a,handleClose:oe,preserveMobileView:!0,title:t("createTaxPayment"),closeButton:!0,size:"sm",footer:se,customCss:"upload-file-modal"},ue,me,pe,de)});Oe.defaultProps={entity:"xendit"};var Ie=Object(E.a)(["tax","errorMessages","commonWords"])(Oe),Se=M.c.TODAY,Ce=M.c.LAST_1_MONTH;t.default=Object(E.a)(["tax","errorMessages","commonWords","transactionDetails"])((function(e){var t=e.t,a=e.apiCall,r=a.axiosGet,u=a.axiosPost,p=a.axiosPlainRequest,E=e.user,T=e.environment,g=e.dateFormat,_=e.isMobileView,h=e.entity,O=e.notify,I=e.business.country_of_operation,S=e.defaultCurrency,C=Object(f.useState)(D[0]),N=Object(c.a)(C,2),k=N[0],j=N[1],U=Object(f.useState)(new Date(Ce)),A=Object(c.a)(U,2),B=A[0],L=A[1],R=Object(f.useState)(new Date(Se)),F=Object(c.a)(R,2),P=F[0],G=F[1],V=Object(f.useState)(""),z=Object(c.a)(V,2),X=z[0],Q=z[1],J=Object(f.useState)([]),ne=Object(c.a)(J,2),ie=ne[0],oe=ne[1],ce=Object(f.useState)([]),se=Object(c.a)(ce,2),le=se[0],ue=se[1],me=Object(f.useState)([]),pe=Object(c.a)(me,2),de=pe[0],be=pe[1],xe=Object(f.useState)(!0),Ee=Object(c.a)(xe,2),ye=Ee[0],Te=Ee[1],ge=Object(f.useState)(""),_e=Object(c.a)(ge,2),ve=_e[0],he=_e[1],Oe=Object(f.useState)(!1),Ne=Object(c.a)(Oe,2),we=Ne[0],ke=Ne[1],De=Object(f.useState)(!1),je=Object(c.a)(De,2),Ue=je[0],Ae=je[1],Be=Object(f.useState)({title:"",subtitle:"",type:"",showModal:!1}),Le=Object(c.a)(Be,2),Re=Le[0],Fe=Le[1],Me=Object(f.useState)(!0),Pe=Object(c.a)(Me,2),We=Pe[0],He=Pe[1],Ge=Object(f.useState)(0),qe=Object(c.a)(Ge,2),Ke=qe[0],Ve=qe[1],ze=Object(f.useState)(""),Ye=Object(c.a)(ze,2),Xe=Ye[0],Qe=Ye[1],Je=Object(f.useState)(!1),Ze=Object(c.a)(Je,2),$e=Ze[0],et=Ze[1],tt=function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe(""),et(!0),e.next=4,r(y);case 4:if(a=e.sent,et(!1),!a.error_code){e.next=9;break}return Qe(t("fetchBalanceError")),e.abrupt("return");case 9:Ve(a.cash_balance);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(!0),he(""),e.next=4,r(v);case 4:if(a=e.sent,Te(!1),!a.error_code){e.next=10;break}return be([]),he(Object(Y.f)(a.error_code,t)),e.abrupt("return");case 10:be(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){tt(),at()}),[]),Object(f.useEffect)((function(){oe(function(e,t){var a=t.startDateFilter,n=t.endDateFilter,r=t.searchFilter,i=t.statusFilter;return e.filter((function(e){if(q()(e.created).isBetween(a,n,"date","[]")&&(0===r.length||e.reference.includes(r))&&(i.type===D[0].type||e.status===i.type))return e}))}(de,{startDateFilter:B,endDateFilter:P,searchFilter:X,statusFilter:k})),ue([])}),[de,B,P,X,k]);var nt,rt=function(e){Ae(!1),Fe({title:t("modalTitleOnSuccessfulCreate"),subtitle:t("modalDescriptionOnSuccessfulCreate"),type:"success",showModal:!0,additionalContent:re({t:t,amount:e.amount})}),be((function(t){return[].concat(Object(n.a)(t.filter((function(t){return t.id!==e.id}))),[e])}))},it=function(e){var t=e.t,a=e.axiosPost,n=e.axiosGet,r=e.notify,i=e.onSuccessfulCreation;return{width:"5%",items:[{text:t("commonComponents:retry"),onClickHandler:function(e){return ee({t:t,row:e,axiosPost:a,notify:r,onSuccessfulCreation:i})}},{text:t("commonWords:download"),onClickHandler:function(e){return te({t:t,row:e,axiosGet:n,notify:r})}}]}}({t:t,axiosPost:u,axiosGet:r,notify:O,onSuccessfulCreation:rt}),ot=function(e){var t=e.statusFilter,a=e.setStatusFilter,n=b.a.createElement("div",{className:"filter-options"},b.a.createElement("ul",null,D.map((function(e,t){return b.a.createElement("li",{key:t,onClick:function(){return a(e)}},e.label)}))));return b.a.createElement(K.q,{displayText:t.label,children:[n]})}({statusFilter:k,setStatusFilter:j}),ct=function(e){var t=e.t,a=e.onButtonClick,n=e.isButtonDisabled,r=e.isButtonLoading,i=e.selectedRows;return[b.a.createElement("div",{className:"table-bar__divider vertical-divider"}),b.a.createElement("p",{className:"color-ash-dark my-auto min-width-100"},i.length," ",t("selected")),b.a.createElement(W.a,{placement:"top",overlay:b.a.createElement(H.a,null,b.a.createElement("span",{className:"text-sm color-white"},t("downloadTooltip")))},b.a.createElement(m.a,{variant:"primary",block:!0,customCss:"min-width-150",onClick:a,isDisabled:n,isLoading:r,iconLeft:b.a.createElement(s.a,{icon:l.p})},t("download")))]}({t:t,onButtonClick:function(){return ae({t:t,selectedRows:le,axiosPost:u,notify:O,setIsFetchingBatchDownloadUrl:ke})},isButtonDisabled:!le.length||!le.find((function(e){return e.status===w})),isButtonLoading:we,selectedRows:le}),st={selectRowMode:"checkbox",onSelectRow:function(e,t){ue((function(a){return t?[].concat(Object(n.a)(a),[e]):a.filter((function(t){return t.id!==e.id}))}))},onSelectAllRow:function(e){return ue(e?Object(n.a)(ie):[])},tableHeaderColumns:Z(t,S),tableContentRows:ie,actionButtonConfig:it,isLoading:ye,loadingText:t("loadingText"),isError:ve.length>0,errorContent:(nt=ve,b.a.createElement(K.t,{text:nt})),isEmpty:!de.length||!ie.length,emptyContent:$({t:t,onButtonClick:function(){return Ae(!0)}})},lt=function(e){var t=e.startDateFilter,a=e.setStartDateFilter,n=e.endDateFilter,r=e.setEndDateFilter;return{start:t,end:n,inputFormat:e.dateFormat.date_time_picker,outputFormat:M.a.GMT_MS_Z,onChange:function(e,t){var n=new Date(t);"start"===e?a(n):"end"===e&&r(n)},customCss:"filter-item"}}({startDateFilter:B,setStartDateFilter:L,endDateFilter:P,setEndDateFilter:G,dateFormat:g}),ut={value:X,onChange:function(e){e.preventDefault(),Q(e.target.value)},placeholder:t("taxPaymentSearchBarPlaceholder"),position:"inline",customCss:"filter-item"};return b.a.createElement("div",null,We&&b.a.createElement(K.E,{infoPanel:!0,icon:l.v,customCss:"mt-3"},b.a.createElement(x.a,{i18nKey:"tax:taxPaymentReminder"},b.a.createElement("strong",null,"IMPORTANT"),": Pay and file your taxes on time according to your Local Tax Authorities regulations."),b.a.createElement("span",{className:"info-panel-close-button"},b.a.createElement(K.h,{icon:b.a.createElement(s.a,{size:"sm",icon:l.H}),customCss:"mr-8",onClick:function(){return He(!1)}}))),b.a.createElement(fe,{apiCall:{axiosGet:r,axiosPost:u,axiosPlainRequest:p},isMobileView:_,user:E,entity:h,environment:T,onClickCreate:function(){return Ae(!0)},balance:Ke,balanceErrorMessage:Xe,isFetchingCashBalance:$e,countryOfOperation:I,defaultCurrency:S}),b.a.createElement(K.z,{customBodyCss:"px-0 pt-0 pb-0 tax-payments-table"},b.a.createElement("div",{className:"d-flex justify-content-end p-4 table-top-container"},b.a.createElement("div",{className:"my-auto"},b.a.createElement(m.a,{customCss:"account-balance-button",onClick:function(){return Ae(!0)}},t("create")))),b.a.createElement(d.a,{stickyHeader:!0,filters:[ot],tableConfig:st,dateFilterConfig:lt,searchBarConfig:ut,actionButtonConfig:it,rightButtons:ct})),b.a.createElement(Ie,{showModal:Ue,handleClose:function(){return Ae(!1)},apiCall:{axiosPost:u,axiosPlainRequest:p,axiosGet:r},isMobileView:_,onSuccessfulCreation:rt,onFailedCreation:function(){Ae(!1),Fe({title:t("modalTitleOnFailedCreate"),subtitle:t("modalDescriptionOnFailedCreate"),type:"danger",showModal:!0,additionalContent:b.a.createElement("div",null,b.a.createElement("div",{className:"modal__content-box"},t("modalLabelVATAmount"),": ",t("transactionDetails:N/A")),b.a.createElement("span",{className:"text-sm"},t("forexRateApplied",{currency1:"USD",rate1:"1",currency2:"IDR",rate2:"14.800"})))})},entity:h,currency:S,countryOfOperation:I}),b.a.createElement(K.j,Object.assign({},Re,{handleClose:function(){Fe({title:"",subtitle:"",type:"",showModal:!1})}})))}))},1573:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return s}));var n=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},r=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},o=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=i(e,n),o="IDR"===t?r.replace(/,/g,"."):r,c=a?"".concat(t," "):"",s="".concat(c).concat(o);return s},c=function(e,t,a){var n=t?o(e,t):i(e),r=n.split("-").join(""),c="".concat((null!=a?a:e>0)?"+ ":"- "," ").concat(r);return 0===e&&(c=n),c},s=function(e){return"".concat((100*e).toFixed(2),"%")}},1575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(a(0)),r=c(a(2)),i=c(a(6)),o=c(a(1576));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(1577);var l=function(e){var t,a=e.text,r=e.iconLeft,c=e.customCss,l=e.variant,u=(0,i.default)((s(t={"status-pill":!0},"status-pill-".concat(l),l),s(t,c,c),t));return n.default.createElement(o.default,{text:a,iconLeft:r,customCss:u})};l.propTypes={text:r.default.string,iconLeft:r.default.any,variant:r.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:r.default.string};var u=l;t.default=u},1576:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(467)},1577:function(e,t,a){},1585:function(e,t,a){var n=a(470);e.exports=function(e){return n(e).toLowerCase()}},1642:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c}));var n={xendit:{entity_name:"Xendit"},instamoney:{entity_name:"Instamoney"}},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=n[a],o=i.entity_name;return[{title:"ATM",instructions:[{text:e("bcaTopUpInstructions:atmStep1")},{text:e("bcaTopUpInstructions:atmStep2")},{text:e("bcaTopUpInstructions:atmStep3")},{text:e("bcaTopUpInstructions:atmStep4")},{text:e("bcaTopUpInstructions:atmStep5",{entity_name:o}),additionalData:t,additionalDataLabel:e("bcaTopUpInstructions:accountNumber",{entity_name:o})},{text:e("bcaTopUpInstructions:atmStep6")},{text:e("bcaTopUpInstructions:atmStep7")},{text:e("bcaTopUpInstructions:atmStep8"),additionalData:r,additionalDataLabel:e("bcaTopUpInstructions:whitelistPrefix")},{text:e("bcaTopUpInstructions:atmStep9")},{text:e("bcaTopUpInstructions:atmStep10")},{text:e("bcaTopUpInstructions:atmStep11")}]},{title:"i-BANKING",instructions:[{text:e("bcaTopUpInstructions:iBankingStep1")},{text:e("bcaTopUpInstructions:iBankingStep2")},{text:e("bcaTopUpInstructions:iBankingStep3")},{text:e("bcaTopUpInstructions:iBankingStep4"),additionalData:r,additionalDataLabel:e("bcaTopUpInstructions:whitelistPrefix")},{text:e("bcaTopUpInstructions:iBankingStep5")},{text:e("bcaTopUpInstructions:iBankingStep6")},{text:e("bcaTopUpInstructions:iBankingStep7")},{text:e("bcaTopUpInstructions:iBankingStep8")}]},{title:"M-BANKING",instructions:[{text:e("bcaTopUpInstructions:mBankingStep1")},{text:e("bcaTopUpInstructions:mBankingStep2")},{text:e("bcaTopUpInstructions:mBankingStep3")},{text:e("bcaTopUpInstructions:mBankingStep4",{entity_name:o}),additionalData:t,additionalDataLabel:e("bcaTopUpInstructions:accountNumber",{entity_name:o})},{text:e("bcaTopUpInstructions:mBankingStep5")},{text:e("bcaTopUpInstructions:mBankingStep6")},{text:e("bcaTopUpInstructions:mBankingStep7")},{text:e("bcaTopUpInstructions:mBankingStep8"),additionalData:r,additionalDataLabel:e("bcaTopUpInstructions:whitelistPrefix")},{text:e("bcaTopUpInstructions:mBankingStep9")}]}]},i={xendit:{BANK_CODE:"BCA",NUMBER:"0703053707",NAME:"PT Sinar Digital Terdepan"},instamoney:{BANK_CODE:"BCA",NUMBER:"0700110800",NAME:"PT Syaftraco"}},o={xendit:{company_code:"88608",company_name:"PT SINAR DIGITAL TERDEPAN",entity_name:"Xendit",service_provider:"Xendit 88608"},instamoney:{company_code:"89251",company_name:"89251 INSTAMONEY",entity_name:"Instamoney",service_provider:"Instamoney 89251"}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=o[a],r=n.company_code,i=n.company_name,c=n.entity_name,s=n.service_provider;return[{title:"ATM",instructions:[{text:e("mandiriTopUpInstructions:atmStep1")},{text:e("mandiriTopUpInstructions:atmStep2")},{text:e("mandiriTopUpInstructions:atmStep3")},{text:e("mandiriTopUpInstructions:atmStep4",{company_code:r,company_name:i}),additionalData:r,additionalDataLabel:e("mandiriTopUpInstructions:companyCode",{entity_name:c})},{text:e("mandiriTopUpInstructions:atmStep5",{entity_name:c}),additionalData:t,additionalDataLabel:e("mandiriTopUpInstructions:vaNumber",{entity_name:c})},{text:e("mandiriTopUpInstructions:atmStep6")},{text:e("mandiriTopUpInstructions:atmStep7")},{text:e("mandiriTopUpInstructions:atmStep8")},{text:e("mandiriTopUpInstructions:atmStep9")},{text:e("mandiriTopUpInstructions:atmStep10")}]},{title:"i-BANKING",instructions:[{text:e("mandiriTopUpInstructions:iBankingStep1")},{text:e("mandiriTopUpInstructions:iBankingStep2")},{text:e("mandiriTopUpInstructions:iBankingStep3")},{text:e("mandiriTopUpInstructions:iBankingStep4")},{text:e("mandiriTopUpInstructions:iBankingStep5")},{text:e("mandiriTopUpInstructions:iBankingStep6",{service_provider:s})},{text:e("mandiriTopUpInstructions:iBankingStep7")},{text:e("mandiriTopUpInstructions:iBankingStep8",{entity_name:c}),additionalData:t,additionalDataLabel:e("mandiriTopUpInstructions:vaNumber",{entity_name:c})},{text:e("mandiriTopUpInstructions:iBankingStep9")},{text:e("mandiriTopUpInstructions:iBankingStep10")},{text:e("mandiriTopUpInstructions:iBankingStep11")},{text:e("mandiriTopUpInstructions:iBankingStep12")},{text:e("mandiriTopUpInstructions:iBankingStep13")}]},{title:"M-BANKING",instructions:[{text:e("mandiriTopUpInstructions:mBankingStep1")},{text:e("mandiriTopUpInstructions:mBankingStep2")},{text:e("mandiriTopUpInstructions:mBankingStep3")},{text:e("mandiriTopUpInstructions:mBankingStep4")},{text:e("mandiriTopUpInstructions:mBankingStep5",{service_provider:s})},{text:e("mandiriTopUpInstructions:mBankingStep6")},{text:e("mandiriTopUpInstructions:mBankingStep7",{entity_name:c}),additionalData:t,additionalDataLabel:e("mandiriTopUpInstructions:vaNumber",{entity_name:c})},{text:e("mandiriTopUpInstructions:mBankingStep8")},{text:e("mandiriTopUpInstructions:mBankingStep9")},{text:e("mandiriTopUpInstructions:mBankingStep10")},{text:e("mandiriTopUpInstructions:mBankingStep11")}]}]}},1661:function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"k",(function(){return s})),a.d(t,"m",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"j",(function(){return p})),a.d(t,"l",(function(){return d})),a.d(t,"e",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"i",(function(){return x}));var n=a(28),r={SELECTED_BANK_ACCOUNT:{id:"",bank_code:"",account_number:"",account_name:""},WITHDRAWAL_BODY:function(e){return{bank_account_id:"",amount:"",end_date:"",withdrawal_type:e?"FULL_WITHDRAWAL":"CUSTOM_WITHDRAWAL"}}},i={GET_BALANCE:"/api/balances",GET_TRANSACTIONS:"/api/transaction-history",POST_TRANSACTION_REPORT_REQUESTS:"/api/transaction_report_requests",VIRTUAL_ACCOUNT_DEPOSIT:"/api/deposit_virtual_accounts",TOP_UP_FLOW_SETTING:"/api/top_up_flow_setting",TOP_UP_TOKEN:"/api/top_up_token",BANK_ACCOUNTS:"/api/bank-accounts",WITHDRAWALS:"/api/withdrawals",WITHDRAWAL_TYPE:"/api/autowithdrawal-settings"},o={xendit:["INCOMING_PAYMENT","DEPOSIT","REFUND","INCOMING_TRANSFER","CARD","DISBURSEMENT","WITHDRAWAL","OTHER","EWALLET","RETAIL_OUTLET","QR_CODE","DIRECT_DEBIT"],instamoney:["INCOMING_PAYMENT","DEPOSIT","WITHDRAWAL","REFUND","INCOMING_TRANSFER","DISBURSEMENT","EWALLET","RETAIL_OUTLET","DIRECT_DEBIT","OTHER"]},c={CASH:"CASH",HOLDING:"HOLDING"},s={FULL_WITHDRAWAL:"FULL_WITHDRAWAL",CUSTOM_WITHDRAWAL:"CUSTOM_WITHDRAWAL"},l=function(e,t){var a=function(e){return[{type:"INCOMING_PAYMENT",label:e("paymentsFilter")},{type:"DEPOSIT",label:e("depositsFilter")},{type:"REFUND",label:e("refundsFilter")},{type:"INCOMING_TRANSFER",label:e("transfersFilter")},{type:"CARD",label:e("cardsFilter"),entity:n.a.XENDIT},{type:"EWALLET",label:e("ewalletFilter")},{type:"QR_CODE",label:"QR",entity:n.a.XENDIT},{type:"RETAIL_OUTLET",label:e("retailOutletFilter")},{type:"DIRECT_DEBIT",label:e("directDebitFilter")}]}(e),r=function(e){return[{type:"DISBURSEMENT",label:e("disbursementsFilter")},{type:"WITHDRAWAL",label:e("withdrawalsFilter")},{type:"OTHER",label:e("othersFilter")}]}(e);return[{title:e("moneyIn"),children:a.filter((function(e){return!e.entity||e.entity===t}))},{title:e("moneyOut"),children:r.filter((function(e){return!e.entity||e.entity===t}))}]},u={xendit:{BANK_CODE:"BCA",NUMBER:"0703053707",NAME:"PT Sinar Digital Terdepan"},instamoney:{BANK_CODE:"BCA",NUMBER:"0700110800",NAME:"PT Syaftraco"}},m={BCA:"/images/bca-logo.svg",MANDIRI:"/images/mandiri-logo.svg"},p=5e5,d=function(e){return{width:"5%",items:[{field:"id",text:e("commonWords:copyTransactionID"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"reference",text:e("commonWords:copyReference"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},f={xendit:{CASH:"totalBalance",HOLDING:"totalPending"},instamoney:{CASH:"totalBalance",HOLDING:"totalInTransit"}},b={title:"",subtitle:"",type:"",showModal:!1},x={exportCash:{name:"export",counterLabel:"counterExportCash",lastLabel:"lastRatingExportCash",radioKey:"easyDescExportCash",feedbackKey:"improvedDescExportCash"},withdrawal:{name:"withdrawal",counterLabel:"counterWithdrawal",lastLabel:"lastRatingWithdrawal",radioKey:"easyDescWithdrawal",feedbackKey:"improvedDescWithdrawal"}}},1662:function(e,t,a){},1729:function(e,t,a){"use strict";var n=a(12),r=a(0),i=a.n(r),o=a(27),c=a(380),s=a(231),l=a(20),u=a.n(l),m=a(49),p=a.n(m),d=a(80),f=a(472),b=a.n(f),x=a(697),E=a.n(x),y=a(1661),T=(a(1662),function(e){var t=e.t,a=e.showModal,c=e.onHowToTopUpClick,l=e.handleClose,m=e.banks,f=e.whitelistPrefix,x=e.isFetchingTopUpBalance,T=e.isFetchingWhitelistPrefix,g=e.isGeneratingPrefix,_=e.fetchTopUpBalanceError,v=e.generateWhitelistPrefix,h=e.whitelistPrefixError,O=Object(r.useState)(0),I=Object(n.a)(O,2),S=I[0],C=I[1],N=i.a.createElement(u.a,{customCss:"cash-tab-modal-button",onClick:l},t("commonWords:okay"));return i.a.createElement(p.a,{title:t("topUpBalanceModalTitle"),showModal:a,handleClose:l,customCssBody:"text-left",footer:N,largeHeader:!0,leftAligned:!0,closeButton:!0,scrollable:!0,preserveMobileView:!0},i.a.createElement("p",null,t("topUpBalanceModalSubtitle")),x?i.a.createElement("div",{className:"d-flex"},i.a.createElement(d.X,{size:"lg"}),i.a.createElement("span",{className:"ml-2"},t("loadingTopUpModal"))):_?i.a.createElement(d.u,{message:_}):!Object(o.isEmpty)(m)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"d-flex mb-4"},m.map((function(e,t){return i.a.createElement("div",{key:t,className:"topup-bank-selector ".concat(t===S?"active":""),onClick:function(){return C(t)}},i.a.createElement(s.a,{src:y.a[e.bankCode],width:60}))}))),i.a.createElement("div",{className:"d-flex justify-content-between align-items-start"},i.a.createElement("div",null,i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("paymentMethod")),i.a.createElement("p",{className:"color-ash-dark"},m[S].bankCode)),i.a.createElement(u.a,{size:"sm",variant:"secondary",onClick:function(){return c(m[S].bankCode)}},t("howToTopUp"))),i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("accountName")),i.a.createElement("p",{className:"color-ash-dark"},m[S].name),i.a.createElement("div",{className:"mb-3"},i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("accountNumber")),i.a.createElement(b.a,{useDefaultValue:!0,defaultValue:m[S].number,value:m[S].number,disabled:!0,copyText:t("commonWords:copy"),copiedText:t("commonWords:copied"),labelInterval:1e3})),"BCA"===m[S].bankCode&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb-4"},i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("whitelistPrefixDescription")),Object(o.isEmpty)(f)?i.a.createElement(E.a,{disabled:!0,useDefaultValue:!0,onActionClicked:v,value:t("prefixNotGenerated"),defaultValue:t("prefixNotGenerated"),actionLabel:t("commonWords:generate"),errorMessage:h,isLoading:T||g}):i.a.createElement(b.a,{disabled:!0,useDefaultValue:!0,value:f,defaultValue:f,errorMessage:h,isLoading:T||g,copyText:t("commonWords:copy"),copiedText:t("commonWords:copied"),labelInterval:1e3})),i.a.createElement("div",{className:"topup-whitelist-info p-3 mb-3"},t("whitelistInformation")))))});T.defaultProps={t:function(){},showModal:!1,banks:[],whitelistPrefix:"",fetchTopUpBalanceError:"",whitelistPrefixError:""},t.a=Object(c.a)(["transactions","commonWords"])(T)},1990:function(e,t,a){}}]);