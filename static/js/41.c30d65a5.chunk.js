(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[41],{1492:function(e,t,a){"use strict";a.r(t);var r=a(24),n=a(3),o=a(9),s=a.n(o),i=a(19),c=a(12),l=a(0),u=a.n(l),d=a(67),m=a(380),p=a(289),f=a.n(p),b=a(284),v=a(205),E=a(26),h=a(20),g=a.n(h),O=a(150),_=a(80),x=a(1565),j=a(49),S=a.n(j),y=(a(1884),Object(m.a)("settingsDisbursements")((function(e){var t=e.t,a=e.isModalOpen,r=e.onModalClose,n=e.onAgreeClicked,o=e.business,s=e.isLoading,i=e.locale,c=u.a.createElement("div",{className:"consent-modal-footer"},u.a.createElement("div",{className:"d-flex align-items-center justify-content-center custom-modal-footer"},u.a.createElement(g.a,{onClick:n,isLoading:s},t("agreeAndContinue"))));return u.a.createElement(S.a,{showModal:a,handleClose:r,preserveMobileView:!0,customCssBody:"text-left",title:t("consentTitle"),footer:c,closeButton:!0},u.a.createElement("p",{className:"mb-4"},t("consentP1"),u.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"id"===i?"https://docs.xendit.co/id/xendisburse/":"https://docs.xendit.co/xendisburse/"},t("learnMore"))),u.a.createElement("p",{className:"mb-4"},t("consentP2")),u.a.createElement("p",null," ",t("consentP3")),u.a.createElement("ul",{className:"disbursement-consent-list"},u.a.createElement("li",null,t("consentLI1",{businessName:o.name})),u.a.createElement("li",null,t("consentLI2")),u.a.createElement("li",null,u.a.createElement(x.a,{i18nKey:"consentLI3",t:t},"Agree and consent to the",u.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.xendit.co/".concat(i,"/terms-and-conditions/")}," ","Xendit Terms and Conditions"," "),"including and not limited to all terms regarding the use of Disbursement Services."))))}))),w=a(97),C=a(149),T=a.n(C),k=a(28),N=function(e){var t=e.t,a=e.description,r=e.loadingText,n=e.loadingError,o=e.isLoading,s=e.isSubmitting,i=e.inputError,c=e.onChangeForm,l=e.onSubmitForm,d=e.canEdit,m=e.navRef,p=e.currentDescription,f=e.entity===k.a.INSTAMONEY,E=""===a||a===p;return u.a.createElement("section",{id:"disbursements",className:"settings-page-card-first",ref:m},u.a.createElement(_.z,{customCss:"p-3 mt-0",isLoading:o,loadingText:r,isError:n,errorText:n,preserveMobile:!0},f&&u.a.createElement("div",null,u.a.createElement("p",{className:"font-weight-bold text-md"},t("disbursements")),u.a.createElement("p",{className:"color-ash-dark mb-15"},u.a.createElement(x.a,{i18nKey:"disbursementsDescriptionIM"},"Our disbursements allows you to send money to bank accounts across Indonesia. You have the option to choose between instant and T+1 (H+1/SKN/Kliring) transfer. Learn more about"," ",u.a.createElement("a",{href:"https://docs.instamoney.co/dashboard-docs/disbursements.html",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-weight-bold cursor-pointer"},"disbursements"))),u.a.createElement("p",{className:"color-ash-dark mb-30"},u.a.createElement(x.a,{i18nKey:"setYourCallbackURL"},"To set your callback URLs,"," ",u.a.createElement(w.Link,{className:"text-primary font-weight-bold cursor-pointer",to:"/settings/developers#callbacks"},"click here")))),u.a.createElement("div",null,u.a.createElement("p",{className:"font-weight-bold ".concat(f?"text-fair":"text-md")},t("defaultDescription")),u.a.createElement("p",{className:"color-ash-dark mb-15"},t("descriptionExplanation"))),u.a.createElement(_.gb,{method:"POST",onChange:c,onSubmit:l,formGroupCss:"m-0"},u.a.createElement(b.a,null,u.a.createElement(v.a,{lg:6},u.a.createElement(T.a,{name:"inputDescription",value:a,useDefaultValue:!0,defaultValue:a,errorMessage:i,disabled:!d}))),d&&u.a.createElement(g.a,{type:"submit",isLoading:s,isDisabled:E,customCss:"mt-3"},t("commonWords:save")))))};N.defaultProps={t:function(){},description:"",loadingText:"",loadingError:"",isLoading:!1,isSubmitting:!1,inputError:"",onChangeForm:function(){},onSubmitForm:function(){}};var A=Object(m.a)(["settingsDisbursements","commonWords"])(N),L=function(e){var t=e.onSubmitForm,a=e.onChangeForm,r=e.emailSender,n=e.emailFooter,o=e.emailError,s=e.footerError,i=e.isSubmitting,c=e.canEdit,l=e.currentSettings,d=e.t,m=""===r,p=r===l.email&&n===l.footer;return u.a.createElement(_.gb,{method:"POST",onSubmit:t,onChange:a},u.a.createElement(b.a,null,u.a.createElement(v.a,{lg:6},u.a.createElement(T.a,{label:d("emailSender"),name:"emailSender",value:r,useDefaultValue:!0,defaultValue:r,errorMessage:o,disabled:!c})),u.a.createElement(v.a,{lg:6},u.a.createElement(T.a,{label:d("emailFooter"),name:"emailFooter",value:n,useDefaultValue:!0,defaultValue:n,errorMessage:s,disabled:!c}))),c&&u.a.createElement(g.a,{type:"submit",isLoading:i,customCss:"mt-3",isDisabled:m||p},d("commonWords:save")))};L.defaultProps={onSubmitForm:function(){},onChangeForm:function(){},emailSender:"",emailFooter:"",emailError:"",footerError:"",isSubmitting:!1,canEdit:!1,t:function(){}};var M=Object(m.a)(["settingsDisbursements","commonWords"])(L),I=a(231),D=function(e){return"/images/email-receipt-template-".concat(e,".svg")},P=function(e){var t=e.email,a=e.footer,r=e.emailPreviewPlaceholder,n=e.footerPreviewPlaceholder,o=e.entity;return u.a.createElement("div",{className:"disb-email-receipt"},u.a.createElement("div",{className:"email-receipt-sender"},u.a.createElement("span",{className:"font-weight-bold"},t||r)),u.a.createElement("div",{className:"email-receipt-footer "},u.a.createElement("span",{className:"font-weight-bold text-xs"},a||n)),u.a.createElement(I.a,{src:D(o)}))};P.defaultProps={email:"",footer:"",emailPreviewPlaceholder:"",footerPreviewPlaceholder:""};var R=P,F=function(e){var t=e.t,a=e.isLoading,r=e.title,n=e.sectionId,o=e.email,s=e.footer,i=e.emailError,c=e.footerError,l=e.loadingError,d=e.loadingText,m=e.onSubmitForm,p=e.onChangeForm,f=e.isSubmitting,b=e.emailPreviewPlaceholder,v=e.footerPreviewPlaceholder,E=e.canEdit,h=e.currentSettings,g=e.navRef,O=e.isMobileView,x=e.entity;return u.a.createElement("section",{id:n,className:"settings-page-card",ref:g},u.a.createElement(_.z,{customCss:"p-3 mt-0",isLoading:a,loadingText:d,isError:l,errorText:l,preserveMobile:!0},u.a.createElement("p",{className:"text-md font-weight-bold"},r),u.a.createElement("p",{className:"color-ash-dark mb-15"},t("customizeFooter")),u.a.createElement("div",{className:"email-receipt-form-section mb-5"},u.a.createElement(M,{onSubmitForm:m,onChangeForm:p,emailSender:o,emailFooter:s,emailError:i,footerError:c,isSubmitting:f,currentSettings:h,canEdit:E})),!O&&u.a.createElement("div",{className:"email-receipt-preview-section"},u.a.createElement("p",{className:"text-fair font-weight-bold"},t("preview")),u.a.createElement(R,{email:o,footer:s,emailPreviewPlaceholder:b,footerPreviewPlaceholder:v,entity:x}))))};F.defaultProps={t:function(){},isLoading:!1,title:"",sectionId:"",email:"",footer:"",emailError:"",footerError:"",loadingError:"",loadingText:"",onSubmitForm:function(){},onChangeForm:function(){},isSubmitting:!1,emailPreviewPlaceholder:"",footerPreviewPlaceholder:""};var U=Object(m.a)("settingsDisbursements")(F),V=Object(m.a)("settingsDisbursements")((function(e){var t=e.t,a=e.navRef;return u.a.createElement("section",{id:"remittances",className:"mt-30",ref:a},u.a.createElement(_.z,{customCss:"p-3 mt-0",preserveMobile:!0},u.a.createElement("div",null,u.a.createElement("p",{className:"font-weight-bold text-md"},t("remittances")),u.a.createElement("p",{className:"color-ash-dark mb-15"},u.a.createElement(x.a,{i18nKey:"remittanceDescription"},"Remittance allows you to send money to bank accounts across Indonesia. Learn more about"," ",u.a.createElement("a",{href:"https://docs.instamoney.co/remittances-apireference",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-weight-bold cursor-pointer"},"remittance"))),u.a.createElement("p",{className:"color-ash-dark mb-0"},u.a.createElement(x.a,{i18nKey:"setYourCallbackURL"},"To set your callback URLs,"," ",u.a.createElement(w.Link,{className:"text-primary font-weight-bold cursor-pointer",to:"/settings/developers#callbacks"},"click here"))))))})),B=a(1719),W=a.n(B),z=a(294),Y=a.n(z),K=a(211),G=a.n(K),Z=a(290),H=a.n(Z),q=a(37),J=a(1575),X=a.n(J),$=function(e){var t=e.full_name,a=e.index;if(t){var r=t[0].toUpperCase(),n=a%5===0?"bg-active":"bg-initial-".concat(a%5);return u.a.createElement("div",{className:"initial-circle d-flex".concat(n?" ".concat(n):"")},u.a.createElement("div",{className:"color-white m-auto"},r))}return u.a.createElement("div",{className:"initial-circle bg-initial-pending"})},Q=function(e){var t=e.full_name,a=e.email;return u.a.createElement("div",{className:"email-name-section"},t&&u.a.createElement("p",{className:"name-text"},t),u.a.createElement("p",{className:"email-text"},a))},ee=function(e,t){var a=e.first_level,r=e.second_level,n=e.pending;return u.a.createElement("div",{className:"approval-level-pills"},n?u.a.createElement(X.a,{variant:"warning",text:"Pending"}):u.a.createElement(u.a.Fragment,null,a&&u.a.createElement(X.a,{variant:"first-level",text:t?"1st Level":"1st Level Approver",customCss:"mr-1"}),r&&u.a.createElement(X.a,{variant:"second-level",text:t?"2nd Level":"2nd Level Approver"})))},te=function(e,t,a,r){var n=r.onEdit,o=r.onDelete,s=r.isMobileView,i=r.isDisabled,c="PENDING"===t.status,l=i?"cursor-not-allowed":"cursor-pointer";return u.a.createElement("div",{className:"d-flex justify-content-end"},!c&&u.a.createElement(I.a,{src:"/images/icons/icon_edit_".concat(i?"disabled":"grey",".svg"),className:"".concat(l," mr-2"),onClick:function(){!i&&n(t)},width:s?20:24}),u.a.createElement(I.a,{src:"/images/icons/icon_delete".concat(i?"_disabled":"",".svg"),className:l,onClick:function(){!i&&o(t)},width:s?20:24}))},ae=function(e,t,a,r){var n=t.initial,o=t.full_name,s=t.email,i=t.approval_level;return u.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},u.a.createElement("div",null,u.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},u.a.createElement("div",{className:"mr-2"},$(n)),Q({full_name:o,email:s})),u.a.createElement("div",{className:"mt-2"},ee(i,!0))),te(0,t,0,r))},re=function(e,t,a,r,n){return r?[{dataField:"all",formatter:ae,formatExtraData:{onEdit:t,onDelete:a,t:e,isMobileView:r,isDisabled:n},style:{width:"100%"},headerAttrs:{hidden:!0}}]:[{dataField:"initial",formatter:$,style:{width:"4%"},headerAttrs:{hidden:!0}},{dataField:"approver",formatter:function(e){return Q(e)},style:{width:"20%"},headerAttrs:{hidden:!0}},{dataField:"approval_level",formatter:function(e){return ee(e,r)},style:{width:"66%"},headerAttrs:{hidden:!0}},{dataField:"buttons",formatter:te,formatExtraData:{onEdit:t,onDelete:a,t:e,isMobileView:r,isDisabled:n},style:{width:"10%"},headerAttrs:{hidden:!0}}]},ne=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=t.join(", ");return u.a.createElement("div",{className:"result-invite-wrapper-mla"},u.a.createElement("p",{className:"text-body-2 mb-04 font-weight-bold".concat(a?" color-danger":"")},e,a&&u.a.createElement("span",{className:"color-black-400"}," (",r,")")),u.a.createElement("p",{className:"text-body-2 mb-0 color-black-400"},n||"-"))},oe=function(e){var t=e.t,a=e.users,r=e.onAddApprover,o=e.onEditApprover,s=e.onDeleteApprover,i=e.isMobileView,c=e.firstLevelApprovers,l=e.secondLevelApprovers,d=e.isEnabled,m=e.errorMessage,p=a.filter((function(e){var t=e.id,a=e.can_approve,r=c.includes(t)||l.includes(t);return a&&r})),b=function(e,t,a){return e.map((function(e,r){var o=e.id,s=e.full_name,i=e.email,c=e.status;return Object(n.a)(Object(n.a)({},e),{},{initial:{full_name:s,index:r},approver:{full_name:s,email:i},approval_level:{first_level:t.includes(o),second_level:a.includes(o),pending:"PENDING"===c}})}))}(p,c,l),v=u.a.createElement(_.t,{text:m}),h=u.a.createElement(_.r,{caption:t("emptyApproversCaption"),subtitle:t("emptyApproversSubtitle")}),O=u.a.createElement("div",{className:"bd-multi-level-approval-table-header"},u.a.createElement("span",null,t("batchApprover")),f()(m)&&u.a.createElement(g.a,{iconLeft:u.a.createElement(q.a,{icon:E.C}),onClick:r,size:i?"sm":"md",isDisabled:!d},t("addNew")));return u.a.createElement("div",{className:"bd-multi-level-approval-table".concat(d?"":" disabled")},O,m?v:f()(p)?h:u.a.createElement(H.a,{noBorder:!0,tableHeaderColumns:re(t,o,s,i,!d),tableContentRows:b}))};oe.defaultProps={users:[],onAddApprover:function(){},onEditApprover:function(){},onDeleteApprover:function(){},firstLevelApprovers:[],secondLevelApprovers:[],t:function(){}};var se=oe,ie=function(e){var t,a,r,n,o=e.t,s=e.isLoading,i=e.loadingText,c=e.errorMessage,l=e.sectionId,d=e.navRef,m=e.title,p=e.batchAmountThreshold,b=e.transAmountThreshold,v=e.batchAmountThresholdError,E=e.transAmountThresholdError,h=e.onChangeForm,O=e.checked,x=e.setChecked,j=e.onSubmit,S=e.isEnabled,y=e.onToggleClick,w=e.currentBDConfiguration,C=e.isSubmitting,k=e.isToggleSwitching,N=e.isMobileView,A=e.users,L=e.firstLevelApprovers,M=e.secondLevelApprovers,I=e.onAddApprover,D=e.onEditApprover,P=e.onDeleteApprover,R=e.usersErrorMessage,F=w.approval_configurations,U=w.skip_first_level_approval,V=S&&(null===(t=F[0])||void 0===t||null===(a=t.thresholds)||void 0===a?void 0:a.batch_threshold_amount)||"",B=S&&(null===(r=F[0])||void 0===r||null===(n=r.thresholds)||void 0===n?void 0:n.transaction_threshold_amount)||"",z=!f()(v)||!f()(E),K=O===U&&Number(p)===V&&Number(b)===B||z,Z=u.a.createElement("div",{className:"ml-10"},u.a.createElement("p",{className:"color-black-400"},o("skipFirstLevelApproval")),u.a.createElement("p",{className:"color-black-400 mb-0"},o("ifAnyThresholdMet"))),H=u.a.createElement(se,{users:A,firstLevelApprovers:L,secondLevelApprovers:M,isMobileView:N,isEnabled:S,onAddApprover:I,onEditApprover:D,onDeleteApprover:P,errorMessage:R,t:o});return u.a.createElement("section",{id:l,className:"settings-page-card",ref:d},u.a.createElement(_.z,{customCss:"p-3 mt-0",isLoading:s,loadingText:i,isError:c,errorText:c},u.a.createElement("div",{className:"d-flex justify-content-between"},u.a.createElement("h5",null,W()(m)),u.a.createElement("div",null,u.a.createElement(Y.a,{isOn:S,toggleText:{on:o("commonWords:enabled"),off:o("commonWords:disabled")},textPosition:"left",onClick:y}))),k?u.a.createElement("div",{className:"d-flex justify-content-center"},u.a.createElement(_.X,{size:"lg",className:"my-auto"}),u.a.createElement("p",{className:"text-body-1 my-auto ml-2"},i)):u.a.createElement(u.a.Fragment,null,u.a.createElement("p",{className:"color-black-400 mb-24"},o("setMultiLevelApproval")),u.a.createElement("form",{className:"multi-level-approval-form",onSubmit:j},u.a.createElement(T.a,{customCss:"mb-16",value:p,label:o("batchAmountThreshold"),name:"batch",onChange:h,placeholder:"100.000.000",type:"number",disabled:!S,isError:v,errorMessage:v}),u.a.createElement(T.a,{customCss:"mb-20",value:b,label:o("transAmountThreshold"),name:"trans",onChange:h,placeholder:"100.000.000",type:"number",disabled:!S,isError:E,errorMessage:E}),u.a.createElement(G.a,{customCss:"h-auto",checked:O,label:Z,onChange:x,disabled:!S}),u.a.createElement(g.a,{customCss:"mt-24",isDisabled:K,isLoading:C,onClick:j,type:"submit"},o("commonWords:save"))),H)))};ie.defaultProps={currentBDConfiguration:{approval_configurations:[],skip_first_level_approval:!1}};var ce=ie,le=a(291),ue=a.n(le),de=a(1954),me=a(1666),pe=function(e){var t=e.t,a=e.isModalOpen,r=e.onChangeEmail,n=e.emailValue,o=e.setEmails,s=e.emails,i=e.isLoadingSubmit,c=e.errorMessage,l=e.extraAction,d=e.closeModal,m=e.inviteEmails,p=e.onCaptchaVerifyCallback,f=e.recaptchaRef,b=c||0===s.length||i,v=u.a.createElement("div",{className:"mt-24"},u.a.createElement(g.a,{onClick:d,variant:"secondary",customCss:"mr-16"},t("commonWords:cancel")),u.a.createElement(g.a,{onClick:m,disabled:b,isLoading:i},t("commonWords:add")));return u.a.createElement(S.a,{showModal:a,title:t("inviteMLATitle"),footer:v,handleClose:d,preserveMobileView:!0},u.a.createElement("div",{className:"text-left"},u.a.createElement("p",{className:"text-body-2 mb-16"},t("inviteMLABody")),u.a.createElement(ue.a,{value:n,onChange:r,errorMessage:c,customCss:"invite-mla-text-area",helperText:t("useCommaOrSpace"),pillsTextAreaConfig:{items:s,setItems:o,validPattern:O.EMAIL,extraAction:l},placeholder:"user@mail.com"}),u.a.createElement(de.ReCaptcha,{ref:f,action:"login",sitekey:me.a.KEYS.SITE_KEY,verifyCallback:p})))};pe.defaultProps={emails:[]};var fe=pe,be=a(191),ve=function(e){var t=e.t,a=e.isModalOpen,r=e.emails,n=e.closeModal,o=r.success,s=r.fail;return u.a.createElement(be.a,{size:"md",showModal:a,handleClose:n,preserveMobileView:!0,type:"success",title:t("approverInvited"),additionalContent:u.a.createElement(u.a.Fragment,null,ne(t("invitationSentTo"),o),s.length>0&&ne(t("invitationFailed"),s,!0,t("userExist")))})};ve.defaultProps={emails:{success:[],fail:[]}};var Ee=ve,he=function(e){var t=e.t,a=e.showModal,r=e.handleClose,n=e.onClickAddTeamMember,o=e.onClickInviteTeamMember;return u.a.createElement(S.a,{title:t("addApprover"),showModal:a,closeButton:!0,handleClose:r,size:"sm",preserveMobileView:!0},u.a.createElement("div",{className:"approver-option-container",onClick:n},u.a.createElement("h6",null,t("addTeamMember")),u.a.createElement("p",{className:"text-body-2 color-black-400 mb-0"},t("addFromExisting"))),u.a.createElement("div",{className:"approver-option-container mb-0",onClick:o},u.a.createElement("h6",null,t("inviteUsingEmail")),u.a.createElement("p",{className:"text-body-2 color-black-400 mb-0"},t("inviteExternal"))))},ge=a(81),Oe=function(e){var t=e.editUserConfig,a=e.setEditUserConfig,r=e.handleClose,o=e.onSave,s=e.t,i=t.isLoading,c=t.showModal,l=t.approverToEdit,d=t.updatedApprovalLevel,m=l.full_name,p=l.email,f=l.first_level,b=l.second_level,v=d.first_level,E=d.second_level,h=!(v||E)||f===v&&b===E,O=u.a.createElement("div",{className:"edit-approver-modal-button-section"},u.a.createElement(g.a,{onClick:r,variant:"ghost",customCss:"cancel-button"},s("commonWords:cancel")),u.a.createElement(g.a,{onClick:function(){!h&&o()},isLoading:i,isDisabled:h},s("commonWords:save"))),_=u.a.createElement("div",{className:"approver-to-edit-section"},$({full_name:m,index:0}),Q({full_name:m,email:p})),x=function(e){var r=e.target,o=r.checked,s=r.name;a(Object(n.a)(Object(n.a)({},t),{},{updatedApprovalLevel:Object(n.a)(Object(n.a)({},d),{},Object(ge.a)({},s,o))}))},j=u.a.createElement("div",{className:"approver-checkbox-section mt-4"},u.a.createElement(G.a,{label:s("firstLevelApprover"),name:"first_level",onChange:x,checked:v,disabled:i,customCss:"mb-3"}),u.a.createElement(G.a,{label:s("secondLevelApprover"),name:"second_level",onChange:x,checked:E,disabled:i}));return u.a.createElement(S.a,{title:s("editUserApproval"),showModal:c,handleClose:r,footer:O,size:"sm",preserveMobileView:!0},u.a.createElement("div",{className:"my-4"},_,j))};Oe.defaultProps={editUserConfig:{approverToEdit:{full_name:"",email:"",first_level:!1,second_level:!1},updatedApprovalLevel:{first_level:!1,second_level:!1}},t:function(){}};var _e=Oe,xe=a(115),je=a.n(xe),Se=function(e){var t=e.t,a=e.showModal,r=e.handleClose,n=e.isFetchingUsers,o=e.users,s=e.onCheckedUser,i=e.isAddButtonDisabled,c=e.onAdd,l=e.isAdding,d=e.checkedUsers,m=o.map((function(e){var t=d.includes(e.id);return u.a.createElement("div",{className:"not-approver-member-list",onClick:function(){return s(e)}},u.a.createElement(G.a,{checked:t,onClick:function(){return s(e)},customCss:"my-auto mr-18"}),u.a.createElement("div",null,u.a.createElement("p",{className:"font-weight-bold mb-0"},e.full_name),u.a.createElement("p",{className:"color-black-".concat(t?"400":"300"," mb-0")},e.email)))})),p=u.a.createElement("div",{className:"not-approver-member-list-container justify-content-center text-center"},n?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"d-flex justify-content-center"},u.a.createElement(je.a,{size:"md"})),u.a.createElement("p",{className:"my-3 color-black-400"},t("loadingContent"))):u.a.createElement("div",{className:"not-approver-member-list-container"},m)),f=u.a.createElement("div",{className:"d-flex justify-content-center mt-4"},u.a.createElement(g.a,{variant:"ghost",customCss:"mr-8",onClick:r},t("commonWords:cancel")),u.a.createElement(g.a,{customCss:"ml-8",isDisabled:i,onClick:c,isLoading:l},t("commonWords:add")));return u.a.createElement(S.a,{title:t("addApproverFromExisting"),showModal:a,customCssBody:"text-left add-approver-from-existing-modal",handleClose:r,preserveMobileView:!0,footer:f},u.a.createElement("p",{className:"color-black-400 add-approver-from-existing-subtitle"},t("addApproverThatDontHavePermission")),p)},ye="/settings",we="/api/disbursement_settings",Ce="/api/disbursement_email_settings",Te="/api/batch_disbursement_settings",ke="/api/activate_disbursement",Ne="/api/batch_disbursements_configuration",Ae="/api/businesses/users",Le="/api/batch_disbursements_configuration/invite_approver",Me="/api/batch_disbursements_configuration/approver",Ie="example@email.com",De="This is how a footer looks like",Pe={email:"",footer:""},Re={showModal:!1,approverToDelete:{},isLoading:!1},Fe={showModal:!1,approverToEdit:{},updatedApprovalLevel:{},isLoading:!1},Ue=a(492),Ve=a(50);t.default=Object(d.o)(Object(m.a)(["settingsDisbursements","settingsMain","errorMessages","commonWords"])((function(e){var t=e.apiCall,a=t.axiosGet,o=t.axiosPost,d=t.axiosPatch,m=t.axiosPut,p=t.axiosDelete,h=e.history,x=e.user,j=e.business,S=e.businessSettings,w=e.environment,C=e.notify,T=e.locale,N=e.entity,L=e.t,M=e.isMobileView,I=e.defaultCurrency,D=e.isLive,P=x.can_administer,R=j.permission.exclude_dashboard_page,F=j.id,B=j.environment,W=j.country_of_operation,z=function(e){return{DISBURSEMENTS:{TITLE:{xendit:e("defaultDescription"),instamoney:e("disbursements")},SECTION:"disbursements"},MULTI_LEVEL_APPROVAL:{TITLE:e("multiLevelApproval"),SECTION:"multi-level-approval"},DISBURSEMENTS_NOTIFICATIONS:{TITLE:e("emailReceiptTemplate"),SECTION:"disbursement-notifications"},BD_NOTIFICATIONS:{TITLE:e("batchEmailReceiptTemplate"),SECTION:"bd-notifications"},REMITTANCES:{TITLE:e("remittances"),SECTION:"remittances"}}}(L),Y=N===k.a.XENDIT,K=N===k.a.INSTAMONEY,G=Object(Ue.a)(R),Z=K&&G.remittance,H=G.disbursement,q=Y&&G.batch_disbursement,J=Object(l.useRef)(),X=Object(l.useRef)(),ee=Object(l.useRef)(),te=Object(l.useRef)(),ae=Object(l.useRef)(),re=Object(l.useRef)(),ne=function(e){var t=[];return H&&t.push({name:z.DISBURSEMENTS.TITLE[N],section:z.DISBURSEMENTS.SECTION,ref:J},{name:z.DISBURSEMENTS_NOTIFICATIONS.TITLE,section:z.DISBURSEMENTS_NOTIFICATIONS.SECTION,ref:ee}),q&&t.push({name:z.BD_NOTIFICATIONS.TITLE,section:z.BD_NOTIFICATIONS.SECTION,ref:te}),Z&&t.push({name:z.REMITTANCES.TITLE,section:z.REMITTANCES.SECTION,ref:ae}),mt&&t.splice(1,0,{name:z.MULTI_LEVEL_APPROVAL.TITLE,section:z.MULTI_LEVEL_APPROVAL.SECTION,ref:J}),t},oe=Object(l.useState)(!1),se=Object(c.a)(oe,2),ie=se[0],le=se[1],ue=Object(l.useState)(!1),de=Object(c.a)(ue,2),pe=de[0],be=de[1],ve=Object(l.useState)(S.can_view_disbursement),ge=Object(c.a)(ve,2),Oe=ge[0],xe=ge[1],je=Object(l.useState)({title:"",subtitle:"",type:"",showModal:!1,size:""}),Be=Object(c.a)(je,2),We=Be[0],ze=Be[1],Ye=Object(l.useState)(""),Ke=Object(c.a)(Ye,2),Ge=Ke[0],Ze=Ke[1],He=Object(l.useState)(!1),qe=Object(c.a)(He,2),Je=qe[0],Xe=qe[1],$e=Object(l.useState)(""),Qe=Object(c.a)($e,2),et=Qe[0],tt=Qe[1],at=Object(l.useState)(!1),rt=Object(c.a)(at,2),nt=rt[0],ot=rt[1],st=Object(l.useState)(""),it=Object(c.a)(st,2),ct=it[0],lt=it[1],ut=Object(l.useState)(!1),dt=Object(c.a)(ut,2),mt=dt[0],pt=dt[1],ft=Object(l.useState)(!1),bt=Object(c.a)(ft,2),vt=bt[0],Et=bt[1],ht=Object(l.useState)(""),gt=Object(c.a)(ht,2),Ot=gt[0],_t=gt[1],xt=Object(l.useState)(""),jt=Object(c.a)(xt,2),St=jt[0],yt=jt[1],wt=Object(l.useState)(""),Ct=Object(c.a)(wt,2),Tt=Ct[0],kt=Ct[1],Nt=Object(l.useState)(""),At=Object(c.a)(Nt,2),Lt=At[0],Mt=At[1],It=Object(l.useState)(!1),Dt=Object(c.a)(It,2),Pt=Dt[0],Rt=Dt[1],Ft=Object(l.useState)(!1),Ut=Object(c.a)(Ft,2),Vt=Ut[0],Bt=Ut[1],Wt=Object(l.useState)(""),zt=Object(c.a)(Wt,2),Yt=zt[0],Kt=zt[1],Gt=Object(l.useState)(!1),Zt=Object(c.a)(Gt,2),Ht=Zt[0],qt=Zt[1],Jt=Object(l.useState)([]),Xt=Object(c.a)(Jt,2),$t=Xt[0],Qt=Xt[1],ea=Object(l.useState)([]),ta=Object(c.a)(ea,2),aa=ta[0],ra=ta[1],na=Object(l.useState)(!1),oa=Object(c.a)(na,2),sa=oa[0],ia=oa[1],ca=Object(l.useState)(""),la=Object(c.a)(ca,2),ua=la[0],da=la[1],ma=Object(l.useState)(!1),pa=Object(c.a)(ma,2),fa=pa[0],ba=pa[1],va=Object(l.useState)([]),Ea=Object(c.a)(va,2),ha=Ea[0],ga=Ea[1],Oa=Object(l.useState)(""),_a=Object(c.a)(Oa,2),xa=_a[0],ja=_a[1],Sa=Object(l.useState)(""),ya=Object(c.a)(Sa,2),wa=ya[0],Ca=ya[1],Ta=Object(l.useState)(!1),ka=Object(c.a)(Ta,2),Na=ka[0],Aa=ka[1],La=Object(l.useState)(!1),Ma=Object(c.a)(La,2),Ia=Ma[0],Da=Ma[1],Pa=Object(l.useState)({success:[],fail:[]}),Ra=Object(c.a)(Pa,2),Fa=Ra[0],Ua=Ra[1],Va=Object(l.useState)(!1),Ba=Object(c.a)(Va,2),Wa=Ba[0],za=Ba[1],Ya=Object(l.useState)([]),Ka=Object(c.a)(Ya,2),Ga=Ka[0],Za=Ka[1],Ha=Object(l.useState)(!1),qa=Object(c.a)(Ha,2),Ja=qa[0],Xa=qa[1],$a=Object(l.useState)(""),Qa=Object(c.a)($a,2),er=Qa[0],tr=Qa[1],ar=Object(l.useState)(Re),rr=Object(c.a)(ar,2),nr=rr[0],or=rr[1],sr=Object(l.useState)(Fe),ir=Object(c.a)(sr,2),cr=ir[0],lr=ir[1],ur=Object(l.useState)(!1),dr=Object(c.a)(ur,2),mr=dr[0],pr=dr[1],fr=Object(l.useState)(""),br=Object(c.a)(fr,2),vr=br[0],Er=br[1],hr=Object(l.useState)(""),gr=Object(c.a)(hr,2),Or=gr[0],_r=gr[1],xr=Object(l.useState)(""),jr=Object(c.a)(xr,2),Sr=jr[0],yr=jr[1],wr=Object(l.useState)(""),Cr=Object(c.a)(wr,2),Tr=Cr[0],kr=Cr[1],Nr=Object(l.useState)(""),Ar=Object(c.a)(Nr,2),Lr=Ar[0],Mr=Ar[1],Ir=Object(l.useState)(!1),Dr=Object(c.a)(Ir,2),Pr=Dr[0],Rr=Dr[1],Fr=Object(l.useState)(!1),Ur=Object(c.a)(Fr,2),Vr=Ur[0],Br=Ur[1],Wr=Object(l.useState)(""),zr=Object(c.a)(Wr,2),Yr=zr[0],Kr=zr[1],Gr=Object(l.useState)(""),Zr=Object(c.a)(Gr,2),Hr=Zr[0],qr=Zr[1],Jr=Object(l.useState)(""),Xr=Object(c.a)(Jr,2),$r=Xr[0],Qr=Xr[1],en=Object(l.useState)(""),tn=Object(c.a)(en,2),an=tn[0],rn=tn[1],nn=Object(l.useState)(""),on=Object(c.a)(nn,2),sn=on[0],cn=on[1],ln=Object(l.useState)(!1),un=Object(c.a)(ln,2),dn=un[0],mn=un[1],pn=Object(l.useState)(""),fn=Object(c.a)(pn,2),bn=fn[0],vn=fn[1],En=Object(l.useState)(Pe),hn=Object(c.a)(En,2),gn=hn[0],On=hn[1],_n=Object(l.useState)(Pe),xn=Object(c.a)(_n,2),jn=xn[0],Sn=xn[1],yn=Object(l.useState)(!1),wn=Object(c.a)(yn,2),Cn=wn[0],Tn=wn[1],kn=Object(l.useState)(!1),Nn=Object(c.a)(kn,2),An=Nn[0],Ln=Nn[1],Mn=Object(l.useState)([]),In=Object(c.a)(Mn,2),Dn=In[0],Pn=In[1],Rn=Object(l.useState)(!1),Fn=Object(c.a)(Rn,2),Un=Fn[0],Vn=Fn[1],Bn=Object(l.useState)([]),Wn=Object(c.a)(Bn,2),zn=Wn[0],Yn=Wn[1];Object(l.useEffect)((function(){if(!Z){Zn(),Hn();var e={environment:B,name:"showMultiLevelApproval"},t={key:F,country:W,custom:{user_email:x.email,entity:N}};Object(Ve.h)(e,t,(function(e){P&&(pt(e),e&&(Xn(),fo(),io()))}))}}),[w]);var Kn=function(e,t,a,r,n,o){ze({title:e,subtitle:t,type:a,showModal:!0,additionalContent:r,preserveMobileView:n,size:o})},Gn=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return be(!0),e.next=3,d(ke,{can_view_disbursement:!0});case 3:if(!(t=e.sent).error_code){e.next=9;break}return be(!1),le(!1),C({type:"error",message:L("failActivatingDisbursement")}),e.abrupt("return");case 9:be(!1),le(!1),xe(t.can_view_disbursement),Kn(L("enabled"),L("enabledMessage"),"success");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe(!0),tt(""),e.next=4,a(we);case 4:if(t=e.sent,Xe(!1),!t.error_code){e.next=9;break}return tt(t.error_code),e.abrupt("return");case 9:Ze(t.disbursement_description),vn(t.disbursement_description);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Hn=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[qn()],Y&&t.push(Jn()),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qn=function(){var e=Object(i.a)(s.a.mark((function e(){var t,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pr(!0),Er(""),e.next=4,a(Ce);case 4:if(t=e.sent,pr(!1),!t.error_code){e.next=9;break}return Er(L("loadDisbursementError")),e.abrupt("return");case 9:if(!f()(t)){e.next=13;break}return e.next=12,$n();case 12:return e.abrupt("return");case 13:r=t[0],o=r.sender_email,i=r.custom_field,kr(o),i&&Mr(i.footer),On(Object(n.a)(Object(n.a)({},gn),{},{email:o,footer:i?i.footer:""}));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br(!0),Kr(""),e.next=4,a(Te);case 4:if(t=e.sent,Br(!1),!t.error_code){e.next=9;break}return Kr(L("loadBDReceiptError")),e.abrupt("return");case 9:rn(t.batch_disbursement_support_email||j.email),cn(t.batch_disbursement_email_footer),Sn(Object(n.a)(Object(n.a)({},jn),{},{email:t.batch_disbursement_support_email||j.email,footer:t.batch_disbursement_email_footer||""}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xn=function(){var e=Object(i.a)(s.a.mark((function e(){var t,r,n,o,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bt(!0),Kt(""),e.next=4,a(Ne);case 4:if(t=e.sent,Bt(!1),!t.error_code){e.next=11;break}if("BATCH_DISBURSEMENT_CONFIGURATION_NOT_FOUND_ERROR"!==t.error_code){e.next=9;break}return e.abrupt("return");case 9:return Kt(L("loadMultiLevelApprovalError")),e.abrupt("return");case 11:za(t),r=t.approval_configurations,f()(r)||(r.forEach((function(e){var t=e.user_ids;0===e.approval_index?Qt(t):ra(t)})),n=t.skip_first_level_approval,Rt(n),(o=t.approval_configurations[0].thresholds)&&(i=o.batch_threshold_amount,c=o.transaction_threshold_amount,_t(i),yt(c)),Et(!0));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$n=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(Ce,{email:x.email});case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qn=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={disbursement_description:Ge},ot(!0),lt(""),e.next=6,o(we,a);case 6:if(r=e.sent,ot(!1),!r.error_code){e.next=11;break}return so({response:r,type:"description"}),e.abrupt("return");case 11:C({type:"success",message:L("successfulDescriptionSave")});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eo=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(Lr&&Lr.length>130)){e.next=4;break}return _r(L("footerTooLong")),e.abrupt("return");case 4:return Rr(!0),yr(""),_r(""),a={email:Tr,footer:Lr},e.next=10,m(Ce,a);case 10:if(r=e.sent,Rr(!1),!r.error_code){e.next=15;break}return so({response:r,type:"disbursement"}),e.abrupt("return");case 15:C({type:"success",message:L("successfulReceiptSave",{value:"Disbursement"})});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),to=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),sn&&sn.length>130&&qr(L("footerTooLong")),mn(!0),Qr(""),qr(""),a={batch_disbursement_support_email:an,batch_disbursement_email_footer:sn},e.next=8,d(Te,a);case 8:if(r=e.sent,mn(!1),!r.error_code){e.next=13;break}return so({response:r,type:"bd"}),e.abrupt("return");case 13:C({type:"success",message:L("successfulReceiptSave",{value:"Batch disbursement"})});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ao=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),qt(!0),Et(!0),a={currency:I,skip_first_level_approval:Pt,approval_configurations:[{user_ids:$t,approval_index:0,thresholds:{batch_threshold_amount:Number(Ot),transaction_threshold_amount:Number(St)}},{user_ids:aa,approval_index:1,thresholds:{batch_threshold_amount:Number(Ot),transaction_threshold_amount:Number(St)}}]},e.next=6,xo(a);case 6:if(r=e.sent,qt(!1),!r.error_code){e.next=11;break}return Kn(L("commonWords:failed"),Object(Ve.f)(r.error_code,L),"danger"),e.abrupt("return");case 11:za(a),Kn(L("commonWords:success"),L("successSaveMultiLevelApproval"),"success");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ro=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Et(!vt),vt?oo():no();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),no=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia(!0),t=[],Ga.forEach((function(e){return e.can_approve&&t.push(e.id)})),a={currency:I,skip_first_level_approval:Pt,approval_configurations:[{user_ids:t,approval_index:0},{user_ids:[],approval_index:1}]},e.next=6,xo(a);case 6:if(r=e.sent,ia(!1),!r.error_code){e.next=12;break}return Kn(L("commonWords:failed"),L("errorEnableMultiLevelApproval"),"danger"),Et(!1),e.abrupt("return");case 12:za(r),Qt(t),ra([]);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oo=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia(!0),t={currency:I,skip_first_level_approval:!1,approval_configurations:[]},e.next=4,xo(t);case 4:if(a=e.sent,ia(!1),!a.error_code){e.next=10;break}return Kn(L("commonWords:failed"),L("errorDisableMultiLevelApproval"),"danger"),Et(!0),e.abrupt("return");case 10:za(a),_t(""),yt(""),Rt(!1),Qt([]),ra([]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),so=function(e){var t=e.response,a=e.type;"API_VALIDATION_ERROR"!==t.error_code?Kn(L("commonWords:failed"),L("errorMessages:unexpectedError"),"danger"):co({errors:t.errors,type:a})},io=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tr(""),Xa(!0),e.next=4,a(Ae);case 4:if(!(t=e.sent).error_code){e.next=9;break}return tr(L("errorMessages:unexpectedError")),Xa(!1),e.abrupt("return");case 9:Za(t),Xa(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),co=function(e){var t=e.errors,a=e.type;t.forEach((function(e){var t=e.field;if("disbursement"===a)switch(t){case"email":yr(L("errorMessages:requiredWithFormat",{value:"email"}));break;case"footer":_r(L("errorMessages:required",{value:"Footer"}))}else if("bd"===a)switch(t){case"batch_disbursement_support_email":Qr(L("errorMessages:requiredWithFormat",{value:"email"}));break;case"batch_disbursement_email_footer":qr(L("errorMessages:required",{value:"Footer"}))}else"description"===a&&lt(L("errorMessages:required",{value:"Description"}))}))},lo=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tn(!1),Ln(!0),t=[],Ga.forEach((function(e){var a=e.id,r=e.status,n=e.can_approve,o=e.email,s=e.full_name;"ACTIVE"!==r||n||t.push({id:a,email:o,full_name:s})})),Pn(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),uo=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vn(!0),Yn([]),e.next=4,jo({users:zn});case 4:if(t=e.sent,Vn(!1),Ln(!1),!t.error_code){e.next=10;break}return Kn(L("errorSaveApproverFromExisting"),null,"danger"),e.abrupt("return");case 10:io(),Xn(),Kn(L("saveTeamMemberSuccess"),mo,"success",null,!0,"md");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mo=u.a.createElement("div",{className:"success-save-team-member-subtitle"},u.a.createElement("p",{className:"font-weight-bold mb-0"},L("teamMemberAdded")),zn.map((function(e){var t=Dn.find((function(t){return t.id===e}));return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"color-black-400"},t.full_name," "),u.a.createElement("span",{className:"color-black-400"},"(",t.email,"), "))}))),po=P?!Oe&&u.a.createElement("div",{className:"disbursement-settings-banner-container"},u.a.createElement(_.E,{icon:E.e,text:L("cannotViewDisbursement"),infoPanel:!0,additionalItem:u.a.createElement(g.a,{onClick:function(){le(!0)}},L("enable"))})):u.a.createElement("div",{className:"disbursement-settings-banner-container"},u.a.createElement(_.E,{icon:E.e,text:L("onlyAdminCanEdit"),infoPanel:!0})),fo=function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?render=".concat(me.a.KEYS.SITE_KEY),e.async=!0,document.body.appendChild(e)},bo=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={users:ha,captchaToken:ua},Aa(!0),e.next=4,yo(t);case 4:if(a=e.sent,ba(!1),Aa(!1),!a.error_code){e.next=11;break}return re.current.execute(),Kn(L("commonWords:failed"),Object(Ve.f)(a.error_code,L),"danger"),e.abrupt("return");case 11:r={success:a.users_invited.map((function(e){return e.email})),fail:a.users_not_invited},Xn(),io(),Ua(r),Da(!0),ga([]);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vo=function(e){var t=e.full_name,a=e.email;return u.a.createElement("div",{className:"approver-to-delete-box"},u.a.createElement("div",{className:"mr-2"},$({full_name:t,index:0})),Q({full_name:t,email:a}))},Eo=function(){!nr.isLoading&&or(Re)},ho=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return or(Object(n.a)(Object(n.a)({},nr),{},{isLoading:!0})),e.next=3,So({user_id:nr.approverToDelete.id});case 3:if(!(t=e.sent).error_code){e.next=8;break}return Kn(L("commonWords:failed"),Object(Ve.f)(t.error_code,L),"danger"),Eo(),e.abrupt("return");case 8:or(Object(n.a)(Object(n.a)({},nr),{},{isLoading:!1,showModal:!1})),Kn(L("deleteApproverSuccess"),void 0,"success",vo(nr.approverToDelete),!0),Xn(),io();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),go=function(){!cr.isLoading&&lr(Fe)},Oo=function(){for(var e,t,a=Wa.approval_configurations,r=0;r<a.length;r++){var n=a[r];0===n.approval_index?e=n:t=n}return{currentFirstLevelConfig:e,currentSecondLevelConfig:t}},_o=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,o,i,c,l,u,d,m,p,f,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lr(Object(n.a)(Object(n.a)({},cr),{},{isLoading:!0})),t=cr.approverToEdit,a=cr.updatedApprovalLevel,o=t.id,i=a.first_level,c=a.second_level,l=Oo(),u=l.currentFirstLevelConfig,d=l.currentSecondLevelConfig,m=new Set(Object(r.a)(u.user_ids)),p=new Set(Object(r.a)(d.user_ids)),i?m.add(o):m.delete(o),c?p.add(o):p.delete(o),f=Object(n.a)(Object(n.a)({},Wa),{},{approval_configurations:[Object(n.a)(Object(n.a)({},u),{},{user_ids:Object(r.a)(m)}),Object(n.a)(Object(n.a)({},d),{},{user_ids:Object(r.a)(p)})]}),e.next=12,xo(f);case 12:if(b=e.sent,go(),!b.error_code){e.next=17;break}return Kn(L("commonWords:failed"),Object(Ve.f)(b.error_code,L),"danger"),e.abrupt("return");case 17:Kn(L("editApproverSuccess"),void 0,"success"),Xn(),io();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xo=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,n,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=4;break}return e.next=3,d(Ne,t);case 3:return e.abrupt("return",e.sent);case 4:return a=[d(Ne,t,{environment:"PRODUCTION"}),d(Ne,t,{environment:"DEVELOPMENT"})],e.next=7,Promise.all(a);case 7:if(r=e.sent,n=Object(c.a)(r,2),o=n[0],i=n[1],!o.error_code&&!i.error_code){e.next=15;break}return e.abrupt("return",o.error_code?o:i);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jo=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,n,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=4;break}return e.next=3,d(Me,t);case 3:return e.abrupt("return",e.sent);case 4:return a=[d(Me,t,{environment:"PRODUCTION"}),d(Me,t,{environment:"DEVELOPMENT"})],e.next=7,Promise.all(a);case 7:if(r=e.sent,n=Object(c.a)(r,2),o=n[0],i=n[1],!o.error_code&&!i.error_code){e.next=15;break}return e.abrupt("return",o.error_code?o:i);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),So=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,o,i,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=4;break}return e.next=3,p(Me,{},t);case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,p(Me,{environment:"PRODUCTION"},t);case 6:if((a=e.sent).error_code){e.next=12;break}return o=Oo(),i=o.currentFirstLevelConfig,c=o.currentSecondLevelConfig,l=Object(n.a)(Object(n.a)({},Wa),{},{approval_configurations:[Object(n.a)(Object(n.a)({},i),{},{user_ids:Object(r.a)(i.user_ids).filter((function(e){return e!==t.user_id}))}),Object(n.a)(Object(n.a)({},c),{},{user_ids:Object(r.a)(c.user_ids).filter((function(e){return e!==t.user_id}))})]}),e.next=12,d(Ne,l,{environment:"DEVELOPMENT"});case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yo=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=4;break}return e.next=3,o(Le,t);case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,o(Le,t,{environment:"PRODUCTION"});case 6:if((a=e.sent).error_code||f()(a.users_invited)){e.next=11;break}return r={users:[a.users_invited[0].id]},e.next=11,d(Me,r,{environment:"DEVELOPMENT"});case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(_.o,{title:L(M?"settingsMain:disbursements":"settingsMain:backToSettings"),goBack:function(){return h.push(ye)},bottomStickContent:M&&u.a.createElement(_.U,{items:ne(),isLoading:Je||mr||Vr||pe||Ja})}),u.a.createElement(b.a,null,!M&&u.a.createElement(v.a,{lg:2,className:"px-0"},u.a.createElement(_.U,{items:ne(),isLoading:Je||mr||Vr||pe})),u.a.createElement("div",{className:M?"col-12 px-0":"col-lg-10"},u.a.createElement("div",{className:M?"":"container"},Y&&po,H&&u.a.createElement(u.a.Fragment,null,u.a.createElement(A,{description:Ge,isLoading:Je,isSubmitting:nt,loadingText:L("loadingDescription"),loadingError:et,inputError:ct,onChangeForm:function(e){e.preventDefault(),"inputDescription"===e.target.name&&Ze(e.target.value)},onSubmitForm:Qn,canEdit:P,navRef:J,currentDescription:bn,entity:N}),mt&&u.a.createElement(ce,{t:L,sectionId:z.MULTI_LEVEL_APPROVAL.SECTION,navRef:X,title:z.MULTI_LEVEL_APPROVAL.TITLE,batchAmountThreshold:Ot,transAmountThreshold:St,batchAmountThresholdError:Tt,transAmountThresholdError:Lt,onChangeForm:function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,n=O.numeric.test(r)?"":L("amountMustBeNumeric");switch(a){case"batch":_t(r),kt(n);break;case"trans":yt(r),Mt(n)}},checked:Pt,setChecked:function(){return Rt(!Pt)},isLoading:Vt||Ja,errorMessage:Yt,loadingText:L("loadingMultiLevelApproval"),onSubmit:ao,isEnabled:vt,onToggleClick:ro,currentBDConfiguration:Wa,isSubmitting:Ht,isToggleSwitching:sa,isMobileView:M,users:Ga,usersErrorMessage:er,firstLevelApprovers:$t,secondLevelApprovers:aa,onDeleteApprover:function(e){or(Object(n.a)(Object(n.a)({},nr),{},{showModal:!0,additionalContent:vo(e),approverToDelete:e}))},onEditApprover:function(e){var t=e.id,a=e.email,r=e.full_name,o=e.approval_level,s=o.first_level,i=o.second_level;lr(Object(n.a)(Object(n.a)({},cr),{},{showModal:!0,approverToEdit:{id:t,email:a,full_name:r,first_level:s,second_level:i},updatedApprovalLevel:{first_level:s,second_level:i}}))},onAddApprover:function(){return Tn(!0)}}),u.a.createElement(U,{title:L("emailReceiptTemplate"),sectionId:"disbursement-notifications",email:Tr,footer:Lr,emailError:Sr,footerError:Or,loadingError:vr,onChangeForm:function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value;switch(a){case"emailSender":kr(r);break;case"emailFooter":Mr(r)}},onSubmitForm:eo,isSubmitting:Pr,isLoading:mr,loadingText:L("loadingDisbursementReceipt"),emailPreviewPlaceholder:Ie,footerPreviewPlaceholder:De,canEdit:P,navRef:ee,currentSettings:gn,isMobileView:M,entity:N})),q&&u.a.createElement(U,{title:L("batchEmailReceiptTemplate"),sectionId:"bd-notifications",email:an,footer:sn,emailError:$r,footerError:Hr,loadingError:Yr,onChangeForm:function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value;switch(a){case"emailSender":rn(r);break;case"emailFooter":cn(r)}},onSubmitForm:to,isSubmitting:dn,isLoading:Vr,loadingText:L("loadingBDReceipt"),emailPreviewPlaceholder:Ie,footerPreviewPlaceholder:De,canEdit:P,navRef:te,currentSettings:jn,isMobileView:M,entity:N}),Z&&u.a.createElement(V,{navRef:ae}))),u.a.createElement(_.j,Object.assign({},We,{handleClose:function(){ze({title:"",subtitle:"",type:"",showModal:!1,size:""})},buttonText:L("commonWords:okay")})),u.a.createElement(_.j,{title:L("areYouSureDelete"),type:"danger",showModal:nr.showModal,withCancel:!0,isButtonLoading:nr.isLoading,buttonText:L("commonWords:delete"),handleConfirm:ho,handleClose:Eo,additionalContent:nr.additionalContent,buttonType:"destructive",preserveMobileView:!0,customCss:"delete-approver-modal"}),u.a.createElement(_e,{editUserConfig:cr,setEditUserConfig:lr,onSave:_o,handleClose:go,t:L}),u.a.createElement(y,{isModalOpen:ie,onModalClose:function(){le(!1)},isLoading:pe,onAgreeClicked:Gn,business:j,locale:T}),u.a.createElement(fe,{t:L,isModalOpen:fa,emails:ha,setEmails:ga,emailValue:xa,isLoadingSubmit:Na,errorMessage:wa,onChangeEmail:function(e){ja(e.target.value),Ca("")},extraAction:function(e){switch(e){case"valid":ja("");break;case"invalid":Ca(L("invalidEmailFormat"));break;case"duplicate":Ca(L("emailDuplicateOnList"))}},closeModal:function(){return ba(!1)},inviteEmails:bo,recaptchaRef:re,onCaptchaVerifyCallback:function(e){da(e)}}),u.a.createElement(Ee,{t:L,isModalOpen:Ia,closeModal:function(){return Da(!1)},emails:Fa})),u.a.createElement(he,{t:L,showModal:Cn,handleClose:function(){return Tn(!1)},onClickAddTeamMember:lo,onClickInviteTeamMember:function(){Tn(!1),ba(!0)}}),u.a.createElement(Se,{t:L,showModal:An,handleClose:function(){return Ln(!1)},isFetchingUsers:Ja,users:Dn,onCheckedUser:function(e){var t=Object(r.a)(zn),a=zn.indexOf(e.id);a>-1?t.splice(a,1):t.push(e.id),Yn(t)},isAddButtonDisabled:f()(zn),onAdd:uo,isAdding:Un,checkedUsers:zn}))})))},1575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),n=i(a(2)),o=i(a(6)),s=i(a(1576));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(1577);var l=function(e){var t,a=e.text,n=e.iconLeft,i=e.customCss,l=e.variant,u=(0,o.default)((c(t={"status-pill":!0},"status-pill-".concat(l),l),c(t,i,i),t));return r.default.createElement(s.default,{text:a,iconLeft:n,customCss:u})};l.propTypes={text:n.default.string,iconLeft:n.default.any,variant:n.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:n.default.string};var u=l;t.default=u},1576:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(467)},1577:function(e,t,a){},1666:function(e,t,a){"use strict";t.a={KEYS:{SITE_KEY:"6LfsA4wUAAAAAD9sAY3KkG2Lyrt-muy2YuM6M2uz",REGISTRATION_PAGE_SITE_KEY:"6LdiVaUZAAAAABtXHRaFmm8Uj93-cAtbhfk90amr"}}},1719:function(e,t,a){var r=a(1720),n=a(288),o=r((function(e,t,a){return e+(a?" ":"")+n(t)}));e.exports=o},1720:function(e,t,a){var r=a(1721),n=a(1722),o=a(1725),s=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(n(t).replace(s,"")),e,"")}}},1721:function(e,t){e.exports=function(e,t,a,r){var n=-1,o=null==e?0:e.length;for(r&&o&&(a=e[++n]);++n<o;)a=t(a,e[n],n,e);return a}},1722:function(e,t,a){var r=a(1723),n=a(470),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=n(e))&&e.replace(o,r).replace(s,"")}},1723:function(e,t,a){var r=a(1724)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},1724:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},1725:function(e,t,a){var r=a(1726),n=a(1727),o=a(470),s=a(1728);e.exports=function(e,t,a){return e=o(e),void 0===(t=a?void 0:t)?n(e)?s(e):r(e):e.match(t)||[]}},1726:function(e,t){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(a)||[]}},1727:function(e,t){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return a.test(e)}},1728:function(e,t){var a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+a+"]",n="\\d+",o="[\\u2700-\\u27bf]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]",i="[^\\ud800-\\udfff"+a+n+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+s+"|"+i+")",m="(?:"+u+"|"+i+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",f="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,l].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),b="(?:"+[o,c,l].join("|")+")"+f,v=RegExp([u+"?"+s+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[r,u,"$"].join("|")+")",m+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[r,u+d,"$"].join("|")+")",u+"?"+d+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",u+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n,b].join("|"),"g");e.exports=function(e){return e.match(v)||[]}},1884:function(e,t,a){},1954:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=2)}([function(e,t){e.exports=a(0)},function(e,t){e.exports=a(2)},function(e,t,a){"use strict";a.r(t),a.d(t,"ReCaptcha",(function(){return v})),a.d(t,"loadRecaptcha",(function(){return E}));var r=a(0),n=a.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=d(e);if(t){var n=d(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return l(this,a)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(1);var p,f=function(){return"undefined"!=typeof window&&void 0!==window.grecaptcha&&void 0!==window.grecaptcha.execute},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(o,e);var t,a,r=c(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),m(u(t=r.call(this,e)),"execute",(function(){var e=t.props,a=e.sitekey,r=e.verifyCallback,n=e.action;t.state.ready&&window.grecaptcha.execute(a,{action:n}).then((function(e){void 0!==r&&r(e)}))})),m(u(t),"_updateReadyState",(function(){f()&&(t.setState((function(){return{ready:!0}})),clearInterval(p))})),t.state={ready:f()},t}return t=o,(a=[{key:"componentDidMount",value:function(){this.state.ready?this.execute():p=setInterval(this._updateReadyState,1e3)}},{key:"componentDidUpdate",value:function(e,t){this.state.ready&&!t.ready&&this.execute()}},{key:"componentWillUnmount",value:function(){clearInterval(p)}},{key:"render",value:function(){return this.state.ready?n.a.createElement("div",{id:this.props.elementID,"data-verifycallbackname":this.props.verifyCallbackName}):n.a.createElement("div",{id:this.props.elementID,className:"g-recaptcha"})}}])&&s(t.prototype,a),o}(r.Component);b.defaultProps={elementID:"g-recaptcha",verifyCallbackName:"verifyCallback"};var v=b,E=function(e){var t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js?render=".concat(e),document.body.appendChild(t)}}])}}]);