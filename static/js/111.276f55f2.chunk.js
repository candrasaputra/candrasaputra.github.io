(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[111],{1550:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),c=a(19),s=a(12),u=a(0),i=a.n(u),l=a(380),o=a(67),b=a(27),d=a(31),m=a.n(d),p=a(284),O=a(205),f=a(511),j="/retail_outlets",_=function(e){return"/api/callback_requests/request_payload_id=".concat(e)},h=function(e){return"/api/callback_requests/".concat(e)},E={1:"errorStatus1",3:"errorStatus3",4:"errorStatus4",5:"errorStatus5"},S=a(48),k=a(28),v=a(80);t.default=Object(o.o)(Object(l.a)("retailOutletsDetails")((function(e){var t=e.t,a=e.apiCall,n=e.match,l=e.history,o=e.user,d=e.environment,g=e.entity,x=o.can_manage_tech_settings,T=o.can_edit,C=x||g===k.a.INSTAMONEY&&T,w=Object(u.useState)(!1),D=Object(s.a)(w,2),y=D[0],N=D[1],B=Object(u.useState)(!1),L=Object(s.a)(B,2),q=L[0],A=L[1],R=Object(u.useState)(!1),F=Object(s.a)(R,2),I=F[0],J=F[1],P=Object(u.useState)([]),U=Object(s.a)(P,2),z=U[0],G=U[1],H=Object(u.useState)({}),K=Object(s.a)(H,2),M=K[0],W=K[1],Y=Object(u.useState)(!0),Q=Object(s.a)(Y,2),V=Q[0],X=Q[1],Z=Object(u.useState)(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=function(){l.push({pathname:j,state:{isFromDetailsPage:!0}})};Object(u.useEffect)((function(){N(!0),ne()}),[]),Object(u.useEffect)((function(){y&&ae()}),[d]);var ne=function(){var e=Object(c.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),t=n.params.id,e.next=4,a.axiosGet(_(t));case 4:if(c=e.sent,A(!1),!c.error_code&&"CALLBACK_URL_NOT_SET"!==c.status){e.next=9;break}return X(!1),e.abrupt("return");case 9:G(c.events),W(Object(b.omit)(c,["events","request_payload"]));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M.id,J(!0),e.next=4,a.axiosPost(h(t));case 4:J(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=z.map((function(e,t){return{id:t,date:m()(e.timestamp).format(S.a.DATE_WITHOUT_SECONDS),status:e.status,sender:e.resender_user_name||Object(b.startCase)(g)}})),se=ee&&i.a.createElement(p.a,{className:"px-2"},i.a.createElement(O.a,{md:5},i.a.createElement("p",{className:"color-ash-dark"},t("failureReason"))),i.a.createElement(O.a,{md:7},i.a.createElement("p",null,t(ee))));return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.o,{goBack:ae,title:t("headerTitle")}),q?i.a.createElement(v.z,{isLoading:q,loadingText:t("loadingRODetails")}):i.a.createElement(f.a,null,i.a.createElement(p.a,null,i.a.createElement(O.a,{lg:7},V&&i.a.createElement(v.g,{title:t("callbackDetailTitle"),tableContents:ce,clickableTable:!0,onTableDetailsClick:function(e){var t=z[e.id].status_code,a=Object(b.head)(t.toString());te(ee?"":E[a])},showCallbackButton:C,buttonText:t("resendCallback"),onButtonClick:re,isButtonLoading:I},se)))))})))}}]);