(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[8],{1620:function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(0)),o=i(r(2)),s=i(r(1621)),u=i(r(1622)),c=i(r(1623));function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(1624);var b=function(e){var t=p((0,a.useState)(u.default),2),r=t[0],n=t[1],o=p((0,a.useState)("eye"),2),i=o[0],l=o[1],m=p((0,a.useState)("password"),2),b=m[0],v=m[1],y=p((0,a.useState)(!1),2),h=y[0],O=y[1],g=e.validationText,w=g.letterText,j=g.numberText,x=g.minCharText,S=g.validationDesc,E=e.password,k=e.label,T=e.customCss,P=e.errorMessage,_=d(e,["validationText","password","label","customCss","errorMessage"]),C=function(){return/^(?=.*[A-z]).*$/.test(E)},M=function(){return/^(?=.*?[0-9]).*$/.test(E)},N=function(){return E.length>=8},I=function(e){return e()?D:h&&L},A=function(e){return e.class?" ".concat(e.class):""},D="dot-success",L="dot-error",R=[{class:I(C),text:w},{class:I(M),text:j},{class:I(N),text:x}];return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,f({value:E,label:k,customCss:T,errorMessage:P,isError:h,type:b,placeholder:"password",rightIcon:a.default.createElement("img",{src:r,alt:i}),rightIconAction:function(){n(r===u.default?s.default:u.default),l(r===u.default?"eye-slash":"eye"),v("password"===b?"text":"password")},onBlur:function(){var e=!C()||!M()||!N();O(e)},onFocus:function(){return O(!1)}},_)),E&&a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"password-desc"},S),a.default.createElement("ul",{className:"ul-input-password"},R.map((function(e,t){return a.default.createElement("li",{key:t},a.default.createElement("span",{className:"dot-input-password".concat(A(e))}),a.default.createElement("span",{className:"dot-text".concat(A(e))},e.text))})))))};b.propTypes={validationText:o.default.shape({letterText:o.default.string.isRequired,numberText:o.default.string.isRequired,minCharText:o.default.string.isRequired,validationDesc:o.default.string}).isRequired,password:o.default.any,label:o.default.string,customCss:o.default.string,errorMessage:o.default.string},b.defaultProps={validationText:{letterText:"",numberText:"",minCharText:"",validationDesc:""}};var v=b;t.default=v},1621:function(e,t,r){e.exports=r.p+"static/media/eye-slash.18d5e26c.svg"},1622:function(e,t,r){e.exports=r.p+"static/media/eye.2be267a8.svg"},1623:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r(149)},1624:function(e,t,r){},1625:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return{letterText:e("commonComponents:oneLetter"),numberText:e("commonComponents:oneNumber"),minCharText:e("commonComponents:charactersMinimum"),validationDesc:e("commonComponents:passValidationDesc")}}},1668:function(e,t,r){"use strict";var n=r(150);t.a=function(e){return n.passwordPattern.test(e)}},734:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),o=r(19),s=r(12),u=r(0),c=r.n(u),i=r(380),l=r(67),f=r(20),d=r.n(f),p=r(80),m=r(149),b=r.n(m),v=r(474),y=r.n(v),h=r(1620),O=r.n(h),g=r(1668),w=r(50),j=r(1625),x=function(e){return"/api/users/invitation_token=".concat(e)},S=function(e){return"/images/icons/icon-email-verified-".concat(e,".svg")};t.default=Object(l.o)(Object(i.a)(["userInvitation","errorMessages","commonWords","commonComponents"])((function(e){var t=e.apiCall,r=e.t,n=e.match,i=e.history,l=e.setIsEmailRedirectedRoute,f=e.canvasHash,m=e.entity,v=Object(u.useState)(!1),h=Object(s.a)(v,2),E=h[0],k=h[1],T=Object(u.useState)(!0),P=Object(s.a)(T,2),_=P[0],C=P[1],M=Object(u.useState)(!0),N=Object(s.a)(M,2),I=N[0],A=N[1],D=Object(u.useState)(""),L=Object(s.a)(D,2),R=L[0],q=L[1],W=Object(u.useState)(""),H=Object(s.a)(W,2),B=H[0],F=H[1],$=Object(u.useState)(""),J=Object(s.a)($,2),V=J[0],z=J[1],U=Object(u.useState)(""),Y=Object(s.a)(U,2),G=Y[0],K=Y[1],Q=Object(u.useState)(""),X=Object(s.a)(Q,2),Z=X[0],ee=X[1],te=Object(u.useState)(""),re=Object(s.a)(te,2),ne=re[0],ae=re[1],oe=Object(u.useState)(""),se=Object(s.a)(oe,2),ue=se[0],ce=se[1],ie=Object(u.useState)(""),le=Object(s.a)(ie,2),fe=le[0],de=le[1],pe=Object(u.useState)(""),me=Object(s.a)(pe,2),be=me[0],ve=me[1],ye=function(e){e.preventDefault();var t=e.target.name,r=e.target.value;switch(t){case"fullName":q(r),ee("");break;case"phoneNumber":F(r),ae("");break;case"password":z(r),ce("");break;case"confirmationPassword":K(r),de("")}},he=function(e){F(e),ae("")},Oe=function(){var e=Object(o.a)(a.a.mark((function e(r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.axiosPost(x(r));case 2:if(n=e.sent,A(!1),!n.error_code){e.next=7;break}return i.push("/404"),e.abrupt("return");case 7:return C(n.new_user),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){var e=n.params.invitationToken;e=e.includes("invitation_token")?e.split("=")[1]:e,Oe(e)}),[]);var ge=function(){var e=Object(o.a)(a.a.mark((function e(o){var s,u,c,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),s=(s=n.params.invitationToken).includes("invitation_token")?s.split("=")[1]:s,u=Object(g.a)(V),c=je(),u){e.next=8;break}return ce(r("passwordError")),e.abrupt("return");case 8:if(c){e.next=12;break}return ce(r("passwordNotMatch")),de(r("passwordNotMatch")),e.abrupt("return");case 12:return i={full_name:R,phone_number:B,password:V,canvas_hash:f},k(!0),ee(""),ae(""),ce(""),de(""),e.next=20,t.axiosPatch(x(s),i);case 20:if(l=e.sent,k(!1),!l.error_code){e.next=25;break}return xe(l),e.abrupt("return");case 25:we(l);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"signup-completed"}),e.next=4,localStorage.setItem("user",{});case 4:return e.next=6,localStorage.setItem("business",{});case 6:l&&l(!1),i.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){return V===G},xe=function(e){var t=e.error_code;"API_VALIDATION_ERROR"===t?Se(e.errors):ve(Object(w.f)(t,r))},Se=function(e){e.forEach((function(e){switch(e.field){case"full_name":ee(r("required"));break;case"phone_number":ae(r("phoneNumberError"));break;case"password":ce(r("passwordError"))}}))},Ee=localStorage.getItem("business")&&localStorage.getItem("user");return I?c.a.createElement(p.y,{text:r("commonWords:loading")}):_?c.a.createElement(p.W,{entity:m},be&&c.a.createElement(p.u,{message:be}),c.a.createElement(p.gb,{method:"POST",onSubmit:ge,onChange:ye},c.a.createElement(b.a,{label:r("fullNamePlaceHolder"),name:"fullName",placeholder:r("fullNamePlaceHolder"),value:R,errorMessage:Z}),c.a.createElement(y.a,{label:r("phoneNumber"),name:"phoneNumber",placeholder:r("userInvitation:phoneNumberPlaceholder"),value:B,errorMessage:ne,onChange:he,block:!0}),c.a.createElement(O.a,{label:r("passwordLabel"),placeholder:"*******",password:V,name:"password",value:V,errorMessage:ue,validationText:Object(j.a)(r)}),c.a.createElement(b.a,{label:r("confirmationPasswordLabel"),type:"password",name:"confirmationPassword",placeholder:"*******",value:G,errorMessage:fe}),c.a.createElement(d.a,{type:"submit",isLoading:E,block:!0,customCss:"mt-15"},r("register")))):c.a.createElement(p.Y,{iconSource:S(m),firstHeader:r("newAccountAdded"),showButton:!0,buttonLink:"/",buttonLabel:r(Ee?"backToDashboard":"loginNow"),onButtonClick:function(){l&&l(!1)},entity:m})})))}}]);