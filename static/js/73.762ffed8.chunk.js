(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[73],{1538:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r(9),o=r.n(a),c=r(19),i=r(12),s=r(0),u=r.n(s),l=r(1600),p=r(380),f=r(67),m=r(20),d=r.n(m),g=r(205),y=r(231),b=r(80),v=r(75),h=r(477),E=function(e){var t=Object(l.parse)(e.substring(1),{arrayFormat:"bracket"});return{client_id:t.client_id,redirect_uri:t.redirect_uri,response_type:t.response_type,scopes:t.scopes,state:t.state}},j=function(e,t){var r=e.client_id,n=e.redirect_uri,a=e.response_type;return!!(r&&n&&a)&&Object(h.a)(n,t)},x=r(27),O=(r(2167),80),C=80,N=32,k="/images/xendit_blue_logo@2x.png",w="/images/profile_default.png",_=function(e){return"/oauth/clients/".concat(e)},A="/oauth/authorize";t.default=Object(f.o)(Object(p.a)(["oAuthConsentPage","commonWords"])((function(e){var t=e.t,r=e.apiCall.axiosGet,a=e.location.search,p=e.business,f=e.environment,m=Object(s.useState)("DEVELOPMENT"===f),h=Object(i.a)(m,2),F=h[0],S=h[1],R=Object(s.useState)(""),I=Object(i.a)(R,2),P=I[0],U=I[1],T=Object(s.useState)(""),D=Object(i.a)(T,2),W=D[0],L=D[1],$=Object(s.useState)(!1),q=Object(i.a)($,2),B=q[0],M=q[1],J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(l.stringifyUrl)({url:e,query:t});return W.state&&!t.state&&(r+="&state=".concat(W.state)),window.location=r,null},V=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),n={scopes:t.scopes},e.next=4,r(_(t.client_id),n);case 4:if(a=e.sent,M(!1),!a.error_code){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,r(A,t);case 3:return(n=e.sent).error_code?J(t.redirect_uri,n):J(n.redirect_uri),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(o.a.mark((function e(t,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E(t),!j(a,r)){e.next=7;break}return L(a),e.next=5,V(a);case 5:(c=e.sent)&&(U(c),S("DEVELOPMENT"===c.environment),c.scopes&&!a.scopes&&L((function(e){return Object(n.a)(Object(n.a)({},e),{},{scopes:c.scopes})})));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){G(a,f)}),[]);return B?u.a.createElement(b.y,{text:t("commonWords:loading")}):W&&P?u.a.createElement("div",{className:"page-container"},u.a.createElement(g.a,{md:6,className:"m-auto"},u.a.createElement("div",{className:"consent-container ".concat(F?"test-mode":"")},F&&u.a.createElement("div",{className:"test-mode-header"},t("oAuthConsentPage:testModeHeader")),u.a.createElement("div",{className:"consent-header"},u.a.createElement(y.a,{src:k,width:O,className:"header-logo",alt:"xendit_logo"})),u.a.createElement("div",{className:"consent-body"},u.a.createElement("div",{className:"text-center"},u.a.createElement(y.a,{src:p.logo?"".concat(v.domain).concat(p.logo):w,width:C,roundedCircle:!0,alt:"business_logo"}),u.a.createElement("h4",{className:"mt-3 mb-2"},p.email)),u.a.createElement("br",null),u.a.createElement("h5",{className:"mb-3"},u.a.createElement(y.a,{src:P.application_logo||w,roundedCircle:!0,width:N,alt:"app_logo"}),u.a.createElement("span",{className:"text-name-blue"},"\u2002",P.application_name,"\xa0"),t("oAuthConsentPage:accessPermissionText"),":"),u.a.createElement("ul",null,W.scopes&&function(e){var t=[];return e.split(" ").forEach((function(e){var r=e.split("."),n=t.findIndex((function(e){return e.includes(r[0])}));n>-1&&!t[n].includes(r[1])?t[n]+="+"+r[1]:t.push(e)})),t}(W.scopes).map((function(e,r){var n=function(e,t){var r=e.split("."),n=Object(x.startCase)(Object(x.toLower)(r[0]));if(2===r.length){if("READ"===r[1])return t("oAuthConsentPage:permissionRead",{product:n});if("WRITE"===r[1])return t("oAuthConsentPage:permissionWrite",{product:n});if("READ+WRITE"===r[1]||"WRITE+READ"===r[1])return t("oAuthConsentPage:permissionReadWrite",{product:n})}return null}(e,t);return n&&u.a.createElement("li",{key:r},n)}))),u.a.createElement("br",null),u.a.createElement("p",{className:"text-sm"},t("oAuthConsentPage:agreementText",{appName:P.application_name})),u.a.createElement("div",{className:"d-flex justify-content-center mt-5"},u.a.createElement(d.a,{variant:"secondary",onClick:function(){J(W.redirect_uri,{error_code:"ACCESS_DENIED"})},customCss:"mr-2"},t("oAuthConsentPage:cancel")),u.a.createElement(d.a,{variant:"primary",onClick:function(){z(W)},customCss:"ml-2"},t("oAuthConsentPage:allow"))))))):u.a.createElement(b.t,{text:t("oAuthConsentPage:pageNotExist")})})))},1600:function(e,t,r){"use strict";var n=r(698),a=r(699),o=r(700),c=r(1633),i=r(1634),s=r(1635);function u(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function p(e,t){return t.decode?i(e):e}function f(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){var t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var a="string"===typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((function(t){return p(t,e)})):null===r?r:p(r,e);n[t]=a};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),o=Object.create(null);if("string"!==typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var c,i=a(e.split("&"));try{for(i.s();!(c=i.n()).done;){var l=c.value,f=s(t.decode?l.replace(/\+/g," "):l,"="),m=n(f,2),g=m[0],y=m[1];y=void 0===y?null:["comma","separator"].includes(t.arrayFormat)?y:p(y,t),r(p(g,t),y,o)}}catch(C){i.e(C)}finally{i.f()}for(var b=0,v=Object.keys(o);b<v.length;b++){var h=v[b],E=o[h];if("object"===typeof E&&null!==E)for(var j=0,x=Object.keys(E);j<x.length;j++){var O=x[j];E[O]=d(E[O],t)}else o[h]=d(E,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var r=o[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))}t.extract=m,t.parse=g,t.stringify=function(e,t){if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(r){return t.skipNull&&(null===(n=e[r])||void 0===n)||t.skipEmptyString&&""===e[r];var n},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[[l(t,e),"[",a,"]"].join("")]:[[l(t,e),"[",l(a,e),"]=",l(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[[l(t,e),"[]"].join("")]:[[l(t,e),"[]=",l(n,e)].join("")])}};case"comma":case"separator":return function(t){return function(r,n){return null===n||void 0===n||0===n.length?r:0===r.length?[[l(t,e),"=",l(n,e)].join("")]:[[r,l(n,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[l(t,e)]:[[l(t,e),"=",l(n,e)].join("")])}}}}(t),a={},c=0,i=Object.keys(e);c<i.length;c++){var s=i[c];r(s)||(a[s]=e[s])}var p=Object.keys(a);return!1!==t.sort&&p.sort(t.sort),p.map((function(r){var a=e[r];return void 0===a?"":null===a?l(r,t):Array.isArray(a)?a.reduce(n(r),[]).join("&"):l(r,t)+"="+l(a,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=s(e,"#"),a=n(r,2),o=a[0],c=a[1];return Object.assign({url:o.split("?")[0]||"",query:g(m(e),t)},t&&t.parseFragmentIdentifier&&c?{fragmentIdentifier:p(c,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign({encode:!0,strict:!0},r);var n=f(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),c=Object.assign(o,e.query),i=t.stringify(c,r);i&&(i="?".concat(i));var s=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(s="#".concat(l(e.fragmentIdentifier,r))),"".concat(n).concat(i).concat(s)}},1633:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},1634:function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(a){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function c(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=a.exec(e);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(t){var o=c(n[0]);o!==n[0]&&(r[n[0]]=o)}n=a.exec(e)}r["%C2"]="\ufffd";for(var i=Object.keys(r),s=0;s<i.length;s++){var u=i[s];e=e.replace(new RegExp(u,"g"),r[u])}return e}(e)}}},1635:function(e,t,r){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},2167:function(e,t,r){}}]);