(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[51],{1470:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(12),u=n(0),o=n.n(u),c=n(471),i=n(190),l=n(67),s=n(380),d=n(27),f=n(511),p=n(284),m=n(205),v=n(20),y=n.n(v),E=n(80),b=n(472),h=n.n(b),x=n(1966),D=n(1761),w=n(1888),g=n(31),O=n.n(g),I=n(48),C=n(1573),j=Object(c.b)((function(e){return Object(a.a)({},e.payoutDetails)}),(function(e){return Object(i.b)({fetchPayoutDetails:w.f,fetchDisbursementDetails:w.e,voidPayout:w.i},e)}));t.default=Object(l.o)(Object(s.a)(["payoutDetails","payoutCommon","commonWords"])(j((function(e){var t,n=e.t,a=e.environment,c=e.apiCall,i=c.axiosGet,l=c.axiosPost,s=e.history,v=e.user.can_edit,b=e.match,w=e.fetchPayoutDetails,g=e.fetchDisbursementDetails,j=e.voidPayout,P=e.isLoading,L=e.error,_=e.errorObj,N=e.payout,k=e.txnFees,A=e.isVoidLoading,F=e.voidError,S=e.voidErrorObj,M=N.external_id,T=N.email,R=N.status,V=N.amount,G=N.created,X=N.payout_url,q=N.claimed_timestamp,B=N.disbursement_id,W=Object(u.useState)(!1),z=Object(r.a)(W,2),H=z[0],J=z[1],U=q&&R!==D.c.COMPLETED?D.c.CLAIMED:R,Y=Object(D.g)(n,U),$=function(e){return O()(e).format(I.a.TABLE_DT_FORMAT)},K=[{label:n("urlLink"),value:(t=X,o.a.createElement(h.a,{disabled:!0,useDefaultValue:!0,defaultValue:t,type:"text",copyText:n("commonWords:copy"),copiedText:n("commonWords:copied")}))},{label:n("payoutCommon:extId"),value:M},{label:n("payoutCommon:recipientEmail"),value:T},{label:n("dateCreated"),value:G?$(G):"-"}],Q=o.a.createElement(y.a,{size:"md",isLoading:!1,onClick:function(){return J(!0)},variant:"secondary"},n("void"));return Object(u.useEffect)((function(){w(i,b.params.id)}),[a]),Object(u.useEffect)((function(){B&&g(i,B)}),[B]),o.a.createElement(o.a.Fragment,null,o.a.createElement(E.o,{title:n("payoutDetails"),goBack:function(){return s.goBack()},children:"PENDING"===R&&v&&Q}),P||L||Object(d.isEmpty)(N)?o.a.createElement(E.z,{isLoading:P,loadingText:n("loadingDetails"),isError:L,errorText:L&&_.message}):o.a.createElement(f.a,null,o.a.createElement(p.a,null,o.a.createElement(m.a,{lg:6},o.a.createElement(E.p,{title:n("payoutAmt"),items:K,amountValue:Object(C.b)(V||0,"IDR"),label:Y})),o.a.createElement(m.a,{lg:6},o.a.createElement(x.a,{currency:"IDR",formatDate:$,formatAmount:C.b,payout:N,txnFees:k})))),o.a.createElement(x.b,{showModal:H,payout:N,isLoading:A,handleClose:function(){return J(!1)},voidPayout:function(e){j(l,e)},error:F,voidError:S,currency:"IDR"}))}))))},1573:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return i}));var a=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},r=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},o=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=u(e,a),o="IDR"===t?r.replace(/,/g,"."):r,c=n?"".concat(t," "):"",i="".concat(c).concat(o);return i},c=function(e,t,n){var a=t?o(e,t):u(e),r=a.split("-").join(""),c="".concat((null!=n?n:e>0)?"+ ":"- "," ").concat(r);return 0===e&&(c=a),c},i=function(e){return"".concat((100*e).toFixed(2),"%")}},1575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),r=c(n(2)),u=c(n(6)),o=c(n(1576));function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1577);var l=function(e){var t,n=e.text,r=e.iconLeft,c=e.customCss,l=e.variant,s=(0,u.default)((i(t={"status-pill":!0},"status-pill-".concat(l),l),i(t,c,c),t));return a.default.createElement(o.default,{text:n,iconLeft:r,customCss:s})};l.propTypes={text:r.default.string,iconLeft:r.default.any,variant:r.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:r.default.string};var s=l;t.default=s},1576:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=n(467)},1577:function(e,t,n){},1761:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E}));var a=n(0),r=n.n(a),u=n(151),o=n.n(u),c=n(1575),i=n.n(c),l=n(288),s=n.n(l),d=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=s()(null===(n=v[t])||void 0===n?void 0:n.toLowerCase());switch(t){case"COMPLETED":return r.a.createElement(i.a,{text:u,variant:"success"});case"PENDING":return a?r.a.createElement(o.a,{id:"button-tooltip",placement:"right",content:e("pendingTooltip"),size:"lg"},r.a.createElement(i.a,{text:u,variant:"danger"})):r.a.createElement("div",{className:"payout-details status-label-wrapper"},r.a.createElement(i.a,{text:u,variant:"danger"}));case"CLAIMED":return r.a.createElement(i.a,{text:u,variant:"warning"});case"FAILED":return r.a.createElement(i.a,{text:u,variant:"danger"});default:return r.a.createElement(i.a,{text:u})}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IDR",n=function(t){return d(e,t,!0)},a=[{dataField:"status",text:e("status"),formatter:n},{dataField:"created",text:e("date"),type:"text"},{dataField:"external_id",text:e("extId"),type:"text"},{dataField:"email",text:e("recipientEmail"),type:"text"},{dataField:"amount",text:e("amount",{curr:t}),type:"text"}];return a},p=function(e,t,n){var a=[{field:"external_id",text:e("commonWords:copyExternalID"),textPressed:e("commonWords:valueCopied"),action:"copy"}];return n&&a.push({text:e("payoutVoid:voidPayout"),onClickHandler:function(e){t(e)},shouldHide:function(e){return e&&e.status!==v.PENDING}}),{width:"5%",items:a}},m=function(e){return[{title:"Status",children:[{type:"PENDING",label:v.PENDING},{type:"COMPLETED",label:v.COMPLETED},{type:"CLAIMED",label:v.CLAIMED},{type:"EXPIRED",label:v.EXPIRED},{type:"VOIDED",label:v.VOIDED},{type:"FAILED",label:v.FAILED}]}]},v={PENDING:"PENDING",COMPLETED:"COMPLETED",CLAIMED:"CLAIMED",EXPIRED:"EXPIRED",VOIDED:"VOIDED",FAILED:"FAILED"},y="IDR",E=1e4},1860:function(e,t,n){},1888:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return w})),n.d(t,"i",(function(){return g})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return N}));var a=n(9),r=n.n(a),u=n(19),o=n(61),c=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(d()),t.prev=1,t.next=4,e("/api/balances");case 4:if(!(a=t.sent).error_code){t.next=7;break}throw a;case 7:n(f(a.cash_balance)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(p(t.t0));case 13:n(d());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var o=Object(u.a)(r.a.mark((function u(o){var c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(n?v():m()),r.prev=1,n&&(t.page+=1),t.currency&&delete t.currency,t.search_query&&(t.external_id=t.search_query,delete t.search_query),r.next=7,e("/api/payouts",t);case 7:if(!(c=r.sent).error_code){r.next=11;break}throw o(y()),c;case 11:o(n?b(c):h(c)),a&&c.length<t.limit&&o(y()),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),o(E(r.t0));case 18:o(n?v():m());case 19:case"end":return r.stop()}}),u,null,[[1,15]])})));return function(e){return o.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e("/api/allowed-currency");case 3:if(!(a=t.sent).error_code){t.next=6;break}throw a;case 6:n(x(a.allowed_multicurrency)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(E(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},s=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(h(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return{type:o.d}},f=function(e){return{type:o.b,payload:e}},p=function(e){return{type:o.c,payload:e}},m=function(){return{type:o.o}},v=function(){return{type:o.j}},y=function(){return{type:o.i}},E=function(e){return{type:o.n,payload:e}},b=function(e){return{type:o.g,payload:e}},h=function(e){return{type:o.h,payload:e}},x=function(e){return{type:o.a,payload:e}},D=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(O()),n.prev=1,n.next=4,e("/api/payouts/".concat(t));case 4:if(!(u=n.sent).error_code){n.next=7;break}throw u;case 7:a(C(u)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a(I(n.t0));case 13:a(O());case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(O()),n.prev=1,n.next=4,e("/api/direct_disbursements/".concat(t));case 4:if(!(u=n.sent).error_code){n.next=7;break}throw u;case 7:a(j(u)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a(I(n.t0));case 13:a(O());case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(P()),n.prev=1,n.next=4,e("/api/payouts/".concat(t,"/void!"));case 4:if(!(u=n.sent).error_code){n.next=7;break}throw u;case 7:a(C(u)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a(L(n.t0));case 13:a(P());case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},O=function(){return{type:o.o}},I=function(e){return{type:o.n,payload:e}},C=function(e){return{type:o.m,payload:e}},j=function(e){return{type:o.e,payload:e}},P=function(){return{type:o.r}},L=function(e){return{type:o.q,payload:e}},_=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(k()),n.prev=1,n.next=4,e("/api/payouts",t);case 4:if(!(u=n.sent).error_code){n.next=7;break}throw u;case 7:a(F(u)),a(S(!0)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),a(A(n.t0));case 14:a(k());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(S(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(){return{type:o.l}},A=function(e){return{type:o.k,payload:e}},F=function(e){return{type:o.m,payload:e}},S=function(e){return{type:o.f,payload:e}}},1966:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var a=n(24),r=n(0),u=n.n(r),o=n(2),c=n.n(o),i=n(380),l=(n(54),n(80)),s=(n(31),n(27));n(1860);l.R.propTypes={title:c.a.string.isRequired,items:c.a.arrayOf(c.a.object).isRequired};var d=Object(i.a)("payoutDetails")((function(e){var t=e.t,n=e.currency,r=e.formatDate,o=e.formatAmount,c=e.payout,i=c.amount,d=c.created,f=c.status,p=c.expiration_timestamp,m=c.failed_timestamp,v=c.claimed_timestamp,y=c.completed_timestamp,E=e.txnFees,b=function(e){var t=e.status,n=e.date,a=e.showAmount,r=e.amount,o=e.amountName;return u.a.createElement("div",{className:"d-flex flex-column w-100 history-".concat(Object(s.toLower)(t))},u.a.createElement("span",{className:"font-weight-bold"},t),u.a.createElement("span",{className:"color-charcoal event-date"},n),a?u.a.createElement("span",{className:"d-flex justify-content-between align-items-center mt-4"},u.a.createElement("span",{className:"color-charcoal"},o),u.a.createElement("span",{className:"amount font-weight-bold"},r)):null)},h=function(e,t){var n=Object(a.a)(e);if(n=n.filter((function(e){return e.showStatus})),t.showStatus){var r=-1;n.map((function(e,t){e.futureEvent&&(r=t+1)})),r>=0?n.splice(r,0,t):n=Object(s.concat)(t,n)}return n}([{showStatus:"VOIDED"!==f&&"EXPIRED"!==f,eventStatus:"Completed",futureEvent:!y,eventElement:b({status:t("eventCompleted"),date:y?r(y):"",amountName:t("eventFee"),showAmount:!!y,amount:E?"".concat(o(E,n)):""})},{showStatus:"VOIDED"!==f&&"EXPIRED"!==f,eventStatus:"Claimed",futureEvent:!v,eventElement:b({status:t("eventClaimed"),date:v?r(v):"",amountName:t("eventAmount"),showAmount:!!v,amount:i?"".concat(o(i,n)):""})},{showStatus:"VOIDED"===f,eventStatus:"Voided",futureEvent:!1,eventElement:b({status:t("eventVoided")})},{showStatus:"EXPIRED"===f,eventStatus:"Expired",futureEvent:!1,eventElement:b({status:t("eventExpired"),date:r(p)})},{showStatus:!!d,eventStatus:"PENDING",futureEvent:!1,eventElement:b({status:t("eventPendingPayout"),date:r(d)})}],{showStatus:"FAILED"===f,eventStatus:"Failed",eventElement:b({status:t("eventFailed"),date:m?r(m):"-"})});return u.a.createElement("div",{className:"payout-event-history"},u.a.createElement(l.R,{title:t("eventHistory"),items:h}))})),f=n(512),p=n(336),m=n(335),v=Object(i.a)(["payoutVoid","payoutCommon"])((function(e){var t=e.t,n=e.currency,a=e.payout,r=a.id,o=a.external_id,c=a.amount,i=a.email,s=a.status,d=e.showModal,v=e.isLoading,y=e.error,E=e.errorObj,b=e.voidPayout,h=e.handleClose,x=u.a.createElement(u.a.Fragment,null,y?u.a.createElement("p",{className:"void-payout error-message-text"},E&&E.message||t("voidError")):null,u.a.createElement("div",{className:"void-payout-details"},u.a.createElement(f.a,null,u.a.createElement(p.a,{className:"label-input"},t("payoutCommon:extId")),u.a.createElement(m.a,{readOnly:!0,value:o})),u.a.createElement(f.a,null,u.a.createElement(p.a,{className:"label-input"},t("payoutAmount",{curr:n})),u.a.createElement(m.a,{readOnly:!0,value:c})),u.a.createElement(f.a,null,u.a.createElement(p.a,{className:"label-input"},t("payoutCommon:recipientEmail")),u.a.createElement(m.a,{readOnly:!0,value:i})))),D={type:"info",title:t("waitAMinute"),subtitle:t("voidAreYouSure"),withCancel:!0,buttonText:"Void",handleConfirm:function(){b(r)}},w={type:"success",title:t("voidedPayout"),subtitle:null,withCancel:!1,buttonText:null,handleConfirm:null},g="VOIDED"===s?w:D;return u.a.createElement(l.j,{title:g.title,subtitle:g.subtitle,showModal:d,isButtonLoading:v,handleClose:h,handleConfirm:g.handleConfirm,type:g.type,additionalContent:x,withCancel:g.withCancel,buttonText:g.buttonText})}))}}]);