(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[109],{1548:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(9),o=a.n(r),c=a(19),i=a(12),s=a(0),u=a.n(s),l=a(1598),d=a.n(l),p=a(380),b=a(27),m=a(1583),f=a.n(m),O=a(80),h=a(50),j=function(e){return[{dataField:"account_status",text:e("accountStatus")},{dataField:"id",text:e("id")},{dataField:"name",text:e("name")},{dataField:"external_id",text:e("externalId")},{dataField:"email",text:e("email")}]},x=function(e){return{width:"5%",items:[{field:"id",text:e("copyInvestorId"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"external_id",text:e("copyExternalId"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},v="/api/rdl-investors",S=function(e){return"/rdl-investors/".concat(e)},y=a(473);t.default=Object(p.a)(["rdlInvestors","commonComponents"])((function(e){var t=e.t,a=e.apiCall.axiosGet,r=e.history,l=e.environment,p=Object(s.useState)(""),m=Object(i.a)(p,2),C=m[0],g=m[1],E=Object(s.useState)([]),_=Object(i.a)(E,2),k=_[0],D=_[1],L=Object(s.useState)(!1),T=Object(i.a)(L,2),w=T[0],R=T[1],I=Object(s.useState)(!1),F=Object(i.a)(I,2),M=F[0],N=F[1],P=Object(s.useState)(!1),A=Object(i.a)(P,2),B=A[0],J=A[1],H=Object(s.useState)(!1),Q=Object(i.a)(H,2),U=Q[0],V=Q[1],W=Object(s.useState)(),q=Object(i.a)(W,2),G=q[0],z=q[1],K=Object(s.useState)(null),X=Object(i.a)(K,2),Y=X[0],Z=X[1],$=Object(s.useState)({title:"",subtitle:"",type:"",showModal:!1}),ee=Object(i.a)($,2),te=(ee[0],ee[1],function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),t=r.location.state&&r.location.state.isFromDetailsPage,e.next=4,d.a.getItem("LAST_RDL_INVESTORS");case 4:if(a=e.sent,!t||Object(b.isNull)(a)){e.next=17;break}return n=JSON.parse(a),D(n.rdlData),D(n.rdlData),R(n.hasNext),z(n.searchQuery),N(!1),e.next=14,d.a.removeItem("LAST_RDL_INVESTORS");case 14:r.replace({pathname:r.location.pathname,state:{}}),e.next=18;break;case 17:ae(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(s.useEffect)((function(){te()}),[l]),Object(s.useEffect)((function(){clearTimeout(Y),Z(setTimeout((function(){U&&!Object(b.isUndefined)(G)&&(G.length>2||0===G.length)&&(D([]),ae(!1),V(!1),J(!1))}),500))}),[G]);var ae=function(){var e=Object(c.a)(o.a.mark((function e(r){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r||(N(!0),D([])),c={environment:l},G&&(c.search_query=G.trim()),k.length>0&&(c.last_timestamp=Object(b.last)(k).created),e.next=6,a(v,c);case 6:if(i=e.sent,N(!1),!i.error_code){e.next=13;break}if(i.error_code!==y.a.REQUEST_ABORTED){e.next=11;break}return e.abrupt("return");case 11:return g(Object(h.f)(i.error_code,t)),e.abrupt("return");case 13:R(i.has_next),r?(D([].concat(Object(n.a)(k),Object(n.a)(i.docs))),J(!1)):D(i.docs);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne={isClickable:!0,tableHeaderColumns:j(t),tableContentRows:k,onClickLoadMore:function(){J(!0),ae(!0)},withLoadMore:w,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:B,isLoading:M,isError:!Object(b.isEmpty)(C),isEmpty:Object(b.isEmpty)(k),loadingText:t("loadingRDL"),errorContent:u.a.createElement(O.t,{text:C}),emptyContent:u.a.createElement(O.r,{caption:t("emptyRDL"),subtitle:t("emptyRDL")}),actionButtonConfig:x(t),onDetailsClicked:function(e){return function(e){r.replace({pathname:r.location.pathname,state:{isFromDetailsPage:!0}}),r.push({pathname:S(e.id)})}(e)}},re={value:G,onChange:function(e){e.preventDefault(),D([]),z(e.target.value),V(!0)},tooltip:t("searchTooltip"),tooltipPlacement:"bottom",placeholder:t("search"),position:"inline",customCss:"filter-item"};return u.a.createElement(f.a,{stickyHeader:!0,tableConfig:ne,searchBarConfig:re})}))}}]);