(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[105],{1547:function(e,t,a){"use strict";a.r(t);var n=a(24),o=a(9),r=a.n(o),c=a(19),i=a(12),s=a(0),u=a.n(s),l=a(1598),d=a.n(l),m=a(380),p=a(27),b=a(1583),f=a.n(b),O=a(80),x=a(50),h=function(e){return[{dataField:"id",text:e("id"),headerStyle:{width:"20%"}},{dataField:"given_name",text:e("givenName")},{dataField:"email",text:e("email")},{dataField:"ktp_number",text:e("ktpNumber")},{dataField:"type",text:e("type")},{dataField:"external_id",text:e("externalId")}]},j=function(e){return{width:"5%",items:[{field:"id",text:e("copyCustomerId"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"given_name",text:e("copyGivenName"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"email",text:e("copyEmail"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"ktp_number",text:e("copyKTPNumber"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"external_id",text:e("copyExternalId"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},y="/api/escrow-customers",C=function(e){return"/escrow-customers/".concat(e)},v=a(473);t.default=Object(m.a)(["escrowCustomers","commonComponents"])((function(e){var t=e.t,a=e.apiCall.axiosGet,o=e.history,l=e.environment,m=Object(s.useState)(""),b=Object(i.a)(m,2),E=b[0],S=b[1],g=Object(s.useState)([]),w=Object(i.a)(g,2),k=w[0],_=w[1],T=Object(s.useState)(!1),P=Object(i.a)(T,2),F=P[0],M=P[1],D=Object(s.useState)(!1),N=Object(i.a)(D,2),R=N[0],W=N[1],L=Object(s.useState)(!1),I=Object(i.a)(L,2),A=I[0],B=I[1],J=Object(s.useState)(!1),U=Object(i.a)(J,2),G=U[0],H=U[1],Q=Object(s.useState)(0),q=Object(i.a)(Q,2),K=q[0],z=q[1],V=Object(s.useState)(""),X=Object(i.a)(V,2),Y=X[0],Z=X[1],$=Object(s.useState)(null),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(s.useState)({title:"",subtitle:"",type:"",showModal:!1}),oe=Object(i.a)(ne,2),re=(oe[0],oe[1],function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),t=o.location.state&&o.location.state.isFromDetailsPage,e.next=4,d.a.getItem("LAST_ESCROW_CUSTOMERS");case 4:if(a=e.sent,!t||Object(p.isNull)(a)){e.next=17;break}return n=JSON.parse(a),_(n.escrowData),_(n.escrowData),M(n.hasNext),Z(n.searchQuery),W(!1),e.next=14,d.a.removeItem("LAST_ESCROW_CUSTOMERS");case 14:o.replace({pathname:o.location.pathname,state:{}}),e.next=18;break;case 17:ce(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(s.useEffect)((function(){re()}),[l]),Object(s.useEffect)((function(){G&&(z(0),_([]),ce(!1),H(!1))}),[K]),Object(s.useEffect)((function(){clearTimeout(te),ae(setTimeout((function(){G&&(!Y||Y.length>2)&&(z(0),_([]),ce(!1),H(!1),B(!1))}),500))}),[Y]);var ce=function(){var e=Object(c.a)(r.a.mark((function e(o){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o||(W(!0),z(0),_([])),c={offset:K,environment:l},Y&&(c.search_query=Y.trim(),c.offset=0),e.next=5,a(y,c);case 5:if(i=e.sent,W(!1),!i.error_code){e.next=12;break}if(i.error_code!==v.a.REQUEST_ABORTED){e.next=10;break}return e.abrupt("return");case 10:return S(Object(x.f)(i.error_code,t)),e.abrupt("return");case 12:i.length>9?(M(!0),z(k.length+i.length)):M(!1),o?(_([].concat(Object(n.a)(k),Object(n.a)(i))),B(!1)):_(i);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie={isClickable:!0,tableHeaderColumns:h(t),tableContentRows:k,onClickLoadMore:function(){B(!0),ce(!0)},withLoadMore:F,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:A,isLoading:R,isError:!Object(p.isEmpty)(E),isEmpty:Object(p.isEmpty)(k),loadingText:t("loadingEscrow"),errorContent:u.a.createElement(O.t,{text:E}),emptyContent:u.a.createElement(O.r,{caption:t("emptyEscrow"),subtitle:t("emptyEscrow")}),actionButtonConfig:j(t),onDetailsClicked:function(e){return function(e){o.replace({pathname:o.location.pathname,state:{isFromDetailsPage:!0}}),o.push({pathname:C(e.id)})}(e)}},se={value:Y,onChange:function(e){e.preventDefault(),_([]),Z(e.target.value),H(!0)},tooltip:t("searchTooltip"),tooltipPlacement:"bottom",placeholder:t("search"),position:"inline",customCss:"filter-item"};return u.a.createElement(f.a,{stickyHeader:!0,tableConfig:ie,searchBarConfig:se})}))}}]);