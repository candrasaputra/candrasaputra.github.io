(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[49],{1476:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a.n(r),s=a(19),o=a(12),c=a(0),u=a.n(c),l=a(67),i=a(231),E=a(511),m=a(284),f=a(205),O=a(1565),d=a(380),p=a(27),_=a.n(p),S=a(20),R=a.n(S),b=a(1668),T=a(80),N=a(252),A=a.n(N),g=a(149),I=a.n(g),v=a(1620),y=a.n(v),C=a(50),h=a(255),D=a(2175),P=a.n(D),w=(a(2176),a(1625)),x=a(1958),L=["xendit.co","instamoney.co"];t.default=Object(l.o)(Object(d.a)(["registration","errorMessages","commonComponents"])((function(e){var t,a,r=e.apiCall,l=r.axiosGet,d=r.axiosPost,p=r.axiosPatch,S=e.i18n,N=e.history,g=e.cookies,v=e.match,D=e.t,M=v.params.business_id,U=null===(t=N.location)||void 0===t?void 0:t.search;if(U){var j=new URLSearchParams(U);a="true"===j.get("new_flow")}var F=Object(c.useState)(""),B=Object(o.a)(F,2),k=B[0],Y=B[1],G=Object(c.useState)(""),W=Object(o.a)(G,2),H=W[0],V=W[1],K=Object(c.useState)(""),X=Object(o.a)(K,2),q=X[0],J=X[1],Q=Object(c.useState)(""),$=Object(o.a)(Q,2),z=$[0],Z=$[1],ee=Object(c.useState)(x.a.LIVE),te=Object(o.a)(ee,2),ae=te[0],re=te[1],ne=Object(c.useState)("en"),se=Object(o.a)(ne,2),oe=se[0],ce=se[1],ue=Object(c.useState)(""),le=Object(o.a)(ue,2),ie=le[0],Ee=le[1],me=Object(c.useState)(""),fe=Object(o.a)(me,2),Oe=fe[0],de=fe[1],pe=Object(c.useState)(""),_e=Object(o.a)(pe,2),Se=_e[0],Re=_e[1],be=Object(c.useState)(""),Te=Object(o.a)(be,2),Ne=Te[0],Ae=Te[1],ge=Object(c.useState)(""),Ie=Object(o.a)(ge,2),ve=Ie[0],ye=Ie[1],Ce=Object(c.useState)(!1),he=Object(o.a)(Ce,2),De=he[0],Pe=he[1],we=Object(c.useState)(!1),xe=Object(o.a)(we,2),Le=xe[0],Me=xe[1],Ue=Object(c.useState)({}),je=Object(o.a)(Ue,2),Fe=je[0],Be=je[1],ke=Object(c.useState)({}),Ye=Object(o.a)(ke,2),Ge=Ye[0],We=Ye[1],He=[{value:"en",image:u.a.createElement(i.a,{src:D(P.a.CONSTANTS.EN_FLAG_SOURCE),width:32}),label:"English"},{value:"id",image:u.a.createElement(i.a,{src:D(P.a.CONSTANTS.ID_FLAG_SOURCE),width:32}),label:"Indonesian"}],Ve="en"===oe?He[0]:He[1],Ke=function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.master_acc_business,r=t.sub_acc_business,s=r.op_env||x.a.LIVE,Be(a),We(r),V(r.email),re(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(!0),e.next=3,l(P.a.ENDPOINTS.XENPLATFORM_RELATIONSHIP_BY_SUB_ACCOUNT_ID(M));case 3:if(t=e.sent,Pe(!1),!t.error_code){e.next=8;break}return ye(D("errorMessages: ".concat(t.message))),e.abrupt("return");case 8:Ke(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(s.a)(n.a.mark((function e(t){var r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Object(b.a)(q)){e.next=5;break}return de(D(P.a.ERROR.PASSWORD)),e.abrupt("return");case 5:if(Me(!0),r={email:H,full_name:k,password:q,business_id:M,business_name:z,op_env:ae},!a){e.next=13;break}return e.next=10,p(P.a.ENDPOINTS.REGISTER_SUB_ACCOUNT_NEW_FLOW,r);case 10:s=e.sent,e.next=16;break;case 13:return e.next=15,d(P.a.ENDPOINTS.REGISTER_SUB_ACCOUNT,r);case 15:s=e.sent;case 16:if(Me(!1),!s.error_code){e.next=20;break}return s.error_code===P.a.ERROR_CODE.API_VALIDATION_ERROR?$e(s.errors):Qe(s.error_code),e.abrupt("return");case 20:Je(r);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae!==x.a.TEST){e.next=2;break}return e.abrupt("return",N.push({pathname:P.a.PATH.SUCCESSFUL_TEST_REGISTRATION,state:{isFromSuccessTestRegistration:!0}}));case 2:return a=t.email.split("@")[1],r=L.includes(a),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"signup-completed"}),g.set("environment","DEVELOPMENT",{path:"/",maxAge:h.ONE_DAY_IN_SECONDS}),g.set("internal",r),e.next=10,localStorage.setItem("user",{});case 10:return e.next=12,localStorage.setItem("business",{});case 12:N.push(P.a.PATH.HOME_PAGE);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(e){switch(e){case P.a.ERROR_CODE.BUSINESS_DUPLICATE_EMAIL_ERROR:case P.a.ERROR_CODE.DUPLICATE_USER_ERROR:Ae(D(P.a.ERROR.DUPLICATE_EMAIL));break;default:Ae(Object(C.f)(e,D))}},$e=function(e){e.forEach((function(e){var t=e.messages[0];switch(t){case P.a.ERROR_CODE.EMPTY_PASSWORD_ERROR:de(D(P.a.ERROR.EMPTY_PASSWORD));break;case P.a.ERROR_CODE.EMPTY_FULL_NAME_ERROR:Ee(D(P.a.ERROR.EMPTY_FULL_NAME));break;case P.a.ERROR_CODE.EMPTY_BUSINESS_NAME_ERROR:Re(D(P.a.ERROR.EMPTY_BUSINESS_NAME));break;default:Ae(t)}}))};Object(c.useEffect)((function(){var e=S.languages[0];ce(e)}),[S.languages]),Object(c.useEffect)((function(){Xe()}),[]);var ze="INVITED"!==Ge.go_live_status,Ze=u.a.createElement(O.a,{i18nKey:P.a.CONSTANTS.CONTACT_FOR_QUESTIONS},"Please contact\xa0",u.a.createElement("a",{href:P.a.CONSTANTS.MAIL_TO_LINK,className:"registration-anchor-tag"},"help@xendit.co"),"\xa0if you have any questions."),et=u.a.createElement(E.a,{fluid:!0,className:"m-1"},u.a.createElement(m.a,null,u.a.createElement("p",{className:"font-weight-bold m-0"},D("thisIsATestSubAcc"))),u.a.createElement(m.a,null,u.a.createElement("ul",{className:"info-panel-list"},u.a.createElement("li",null,D("onlyTestCanBeCreated")),u.a.createElement("li",null,D("doNotUseRealEmail"))))),tt=function(e){var t=e.image;return u.a.createElement("div",{className:"w-100"},t)};return De?u.a.createElement(T.y,null):!_.a.isEmpty(ve)||ze?u.a.createElement(T.Y,{iconSource:P.a.CONSTANTS.ERROR_ICON_SOURCE,firstHeader:D("errorMessages:".concat(P.a.CONSTANTS.ERROR_FIRST_HEADER)),description:Ze,showButton:!0,buttonLink:P.a.CONSTANTS.BACK_TO_DASHBOARD_LINK,buttonLabel:D(P.a.CONSTANTS.BACK_TO_DASHBOARD_LABEL)}):u.a.createElement(E.a,{fluid:!0},ae===x.a.TEST&&u.a.createElement(m.a,null,u.a.createElement(f.a,{className:"p-0"},u.a.createElement(T.D,{customCss:"test-mode-banner",customTextCss:"text-white"},D("subAccountCreationInfo")))),u.a.createElement(m.a,{className:"h-100vh"},u.a.createElement(f.a,{className:"bg-blue-100 p-5 border-0"},u.a.createElement(i.a,{src:D(P.a.CONSTANTS.XENDIT_LOGO_SOURCE),className:"registration-logo my-2"}),u.a.createElement("div",{className:"registration-info-left py-lg"},u.a.createElement("h4",{className:"color-blue-500"},Fe.name," ",u.a.createElement("br",null)," (",Fe.email,")"),u.a.createElement("h4",{className:"mt-5"},D("subAccountInvited")))),u.a.createElement(f.a,{className:"registration-form-wrapper pb-100 p-5 border-0"},u.a.createElement("div",{className:"registration-lang-wrapper mb-3"},u.a.createElement(A.a,{customCss:"registration-lang",options:He,value:Ve,onChange:function(e){var t=e.value;ce(e.target),S.changeLanguage(t)},searchConfig:{enabled:!1},customFormatter:{option:tt,selected:tt}})),ae===x.a.TEST&&u.a.createElement(T.E,{entity:"xendit",warningPanel:!0},et),u.a.createElement("div",{className:"ml-md-5 mt-5"},u.a.createElement("p",{className:"text-lg"},D("createSubAccountHeading")),Ne&&u.a.createElement(T.u,{block:!0,message:Ne}),u.a.createElement(T.gb,{method:"POST",onSubmit:qe,className:"registration-form",onChange:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;switch(t){case"fullName":Y(a);break;case"password":J(a);break;case"businessName":Z(a)}}},u.a.createElement(I.a,{label:D(P.a.FORM.FULL_NAME),placeholder:"John Doe",value:k,name:"fullName",errorMessage:ie}),u.a.createElement(I.a,{label:D(P.a.FORM.BUSINESS_NAME),placeholder:"Xendit",value:z,name:"businessName",errorMessage:Se}),u.a.createElement(I.a,{label:D("registerEmail"),placeholder:"john@company.com",value:H,name:"email",readOnly:!0}),u.a.createElement(y.a,{label:D(P.a.FORM.PASSWORD),placeholder:D(P.a.FORM.PASSWORD),password:q,name:"password",value:q,errorMessage:Oe,validationText:Object(w.a)(D)}),u.a.createElement(R.a,{customCss:"mt-4",isLoading:Le,onClick:qe,type:"submit",block:!0},D(P.a.CONSTANTS.REGISTER))),u.a.createElement("p",{className:"text-muted text-sm"},u.a.createElement(O.a,{i18nKey:"xpSubAccountTOS",t:D},"By signing up, you agree to the ",u.a.createElement("a",{href:"https://www.xendit.co/".concat(Ve.value,"/terms-and-conditions"),className:"text-sm",target:"_blank",rel:"noopener noreferrer"},"Terms of Use")," and the ",u.a.createElement("a",{href:"https://www.xendit.co/".concat(Ve.value,"/xenplatform-for-managed-accounts"),className:"text-sm",target:"_blank",rel:"noopener noreferrer"},"xenPlatform account agreement"),"."))))))})))},1620:function(e,t,a){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,t&&t.set(e,a);return a}(a(0)),s=l(a(2)),o=l(a(1621)),c=l(a(1622)),u=l(a(1623));function l(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,s=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(u){n=!0,s=u}finally{try{r||null==c.return||c.return()}finally{if(n)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}a(1624);var d=function(e){var t=f((0,n.useState)(c.default),2),a=t[0],r=t[1],s=f((0,n.useState)("eye"),2),l=s[0],i=s[1],O=f((0,n.useState)("password"),2),d=O[0],p=O[1],_=f((0,n.useState)(!1),2),S=_[0],R=_[1],b=e.validationText,T=b.letterText,N=b.numberText,A=b.minCharText,g=b.validationDesc,I=e.password,v=e.label,y=e.customCss,C=e.errorMessage,h=m(e,["validationText","password","label","customCss","errorMessage"]),D=function(){return/^(?=.*[A-z]).*$/.test(I)},P=function(){return/^(?=.*?[0-9]).*$/.test(I)},w=function(){return I.length>=8},x=function(e){return e()?M:S&&U},L=function(e){return e.class?" ".concat(e.class):""},M="dot-success",U="dot-error",j=[{class:x(D),text:T},{class:x(P),text:N},{class:x(w),text:A}];return n.default.createElement(n.default.Fragment,null,n.default.createElement(u.default,E({value:I,label:v,customCss:y,errorMessage:C,isError:S,type:d,placeholder:"password",rightIcon:n.default.createElement("img",{src:a,alt:l}),rightIconAction:function(){r(a===c.default?o.default:c.default),i(a===c.default?"eye-slash":"eye"),p("password"===d?"text":"password")},onBlur:function(){var e=!D()||!P()||!w();R(e)},onFocus:function(){return R(!1)}},h)),I&&n.default.createElement(n.default.Fragment,null,n.default.createElement("p",{className:"password-desc"},g),n.default.createElement("ul",{className:"ul-input-password"},j.map((function(e,t){return n.default.createElement("li",{key:t},n.default.createElement("span",{className:"dot-input-password".concat(L(e))}),n.default.createElement("span",{className:"dot-text".concat(L(e))},e.text))})))))};d.propTypes={validationText:s.default.shape({letterText:s.default.string.isRequired,numberText:s.default.string.isRequired,minCharText:s.default.string.isRequired,validationDesc:s.default.string}).isRequired,password:s.default.any,label:s.default.string,customCss:s.default.string,errorMessage:s.default.string},d.defaultProps={validationText:{letterText:"",numberText:"",minCharText:"",validationDesc:""}};var p=d;t.default=p},1621:function(e,t,a){e.exports=a.p+"static/media/eye-slash.18d5e26c.svg"},1622:function(e,t,a){e.exports=a.p+"static/media/eye.2be267a8.svg"},1623:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(149)},1624:function(e,t,a){},1625:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(e){return{letterText:e("commonComponents:oneLetter"),numberText:e("commonComponents:oneNumber"),minCharText:e("commonComponents:charactersMinimum"),validationDesc:e("commonComponents:passValidationDesc")}}},1668:function(e,t,a){"use strict";var r=a(150);t.a=function(e){return r.passwordPattern.test(e)}},1958:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={LIVE:"LIVE",TEST:"TEST"}},2175:function(e,t){e.exports={ENDPOINTS:{XENPLATFORM_RELATIONSHIP_BY_SUB_ACCOUNT_ID:function(e){return"/api/xenplatform/register/".concat(e)},REGISTER_SUB_ACCOUNT:"/api/register-sub-account",REGISTER_SUB_ACCOUNT_NEW_FLOW:"/api/sub-accounts/register!"},PATH:{HOME_PAGE:"/",SUCCESSFUL_TEST_REGISTRATION:"/xenplatform/test-registered"},FORM:{FULL_NAME:"registerFullName",EMAIL:"registerWorkEmail",PASSWORD:"registerPassword",BUSINESS_NAME:"registerBusinessName"},CONSTANTS:{REGISTER:"register",BACK_TO_DASHBOARD_LINK:"/",BACK_TO_DASHBOARD_LABEL:"backToDashboard",XENDIT_LOGO_SOURCE:"/images/xendit-blue-logo.svg",EN_FLAG_SOURCE:"/images/language-en-dropdown.svg",ID_FLAG_SOURCE:"/images/language-id-dropdown.svg",ERROR_ICON_SOURCE:"/images/icons/icon-please-hand-xendit.svg",ERROR_FIRST_HEADER:"unexpectedErrorOccured",WELCOME_TO_PAYMENTS:"welcomeToPayments",ACCEPT_SEND_AND_DETECT:"acceptSendAndDetect",ENTER_YOUR_DETAILS:"enterYourDetails",YOU_ARE_INVITED:"youAreInvited",FEW_MINUTES_TO_REGISTER:"fewMinutesToRegister",MAIL_TO_LINK:"mailto:help@xendit.co?subject=xenPlatform sub-account registration issue",CONTACT_FOR_QUESTIONS:"contactForQuestions"},ERROR:{EMPTY_PASSWORD:"errorEmptyPassword",PASSWORD:"errorPassword",EMPTY_EMAIL:"errorEmptyEmail",VALID_EMAIL:"errorValidEMail",EMPTY_BUSINESS_NAME:"errorEmptyBusinessName",EMPTY_FULL_NAME:"errorEmptyFullName",DUPLICATE_EMAIL:"errorDuplicateEmail",DUPLICATE_USER:"errorDuplicateUser",UNEXPECTED:"unexpectedError"},ERROR_CODE:{BUSINESS_DUPLICATE_EMAIL_ERROR:"BUSINESS_DUPLICATE_EMAIL_ERROR",DUPLICATE_USER_ERROR:"DUPLICATE_USER_ERROR",API_VALIDATION_ERROR:"API_VALIDATION_ERROR",EMPTY_PASSWORD_ERROR:'"creator_password" is not allowed to be empty',EMPTY_FULL_NAME_ERROR:'"creator_full_name" is not allowed to be empty',EMPTY_BUSINESS_NAME_ERROR:'"business_name" is not allowed to be empty'}}},2176:function(e,t,a){}}]);