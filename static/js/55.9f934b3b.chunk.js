(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[55],{1551:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(12),u=n(0),c=n.n(u),o=n(31),i=n.n(o),l=n(471),d=n(190),s=n(67),f=n(380),p=n(1713),m=n(1697),v={INVOICE_ACTIVE:"Invoice Active",INVOICE_PAID:"Invoice Paid"},b=n(300),D=n(1609),y=n(48),I=n(1711),O=n(1573),E=n(80),x=n(472),h=n.n(x),C=Object(l.b)((function(e){return Object(a.a)({},e.onDemandDetails)}),(function(e){return Object(d.b)({getOnDemandDetails:p.d},e)}));t.default=Object(s.o)(Object(f.a)(["onDemandCommon","onDemandDetails","commonWords"])(C((function(e){var t,n=e.t,a=e.history,o=e.apiCall.axiosGet,l=e.match.params.link,d=e.getOnDemandDetails,s=e.loading,f=e.error,p=e.errorObj,x=e.onDemand,C=x.status,A=x.invoice_duration,g=x.paid_count,_=x.pending_count,j=x.expired_count,T=x.limit_type,L=x.description,w=x.amount,k=x.limit,V=x.created,N=x.on_demand_url,S=x.on_demand_type,F=x.currency,M=e.environment,P=Object(u.useState)(!1),B=Object(r.a)(P,2),R=B[0],U=B[1],H=Object(u.useState)(n("commonWords:copy")),W=Object(r.a)(H,2),J=(W[0],W[1],Object(I.a)(C)),q=S===m.i.DONATION?"-":Object(O.b)(parseInt(w),F||b.b.IDR,!0),z=T===m.d.INVOICE_ACTIVE?k-(_+g):k-g,G=0===k?"\u221e":z,$=S||m.i.DEFAULT,K={label:n("onDemandDetails:countLimit"),value:v[T]},Q=S===m.i.BASIC&&K,X=c.a.createElement(h.a,{disabled:!0,useDefaultValue:!0,defaultValue:N,type:"text",copyText:n("commonWords:copy"),copiedText:n("commonWords:copied")}),Y=[{label:n("onDemandDetails:onDemandType"),value:$},{label:S===m.i.DONATION?n("onDemandDetails:donationURL"):n("onDemandDetails:onDemandUrl"),value:X},{label:n("onDemandDetails:createdAt"),value:(t=V,i()(t).format(y.a.TABLE_DT_FORMAT))},{label:n("onDemandDetails:duration"),value:Object(D.a)(A)},{label:n("limit"),value:0===k?"\u221e":k},Q,{label:n("remaining"),value:G},{label:n("onDemandDetails:paid"),value:g},{label:n("onDemandDetails:unpaid"),value:_},{label:n("onDemandDetails:expired"),value:j},{label:n("onDemandCommon:description"),value:L}];return Object(u.useEffect)((function(){U(!0),d(l,o)}),[]),Object(u.useEffect)((function(){R&&a.push("/on-demand")}),[M]),c.a.createElement(c.a.Fragment,null,c.a.createElement(E.o,{title:n("onDemandDetails:odDetails"),goBack:function(){return a.goBack()}}),s||f?c.a.createElement(E.z,{isLoading:s,loadingText:n("onDemandDetails:loadingDetails"),isError:f,errorText:f&&p.error_code}):c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("div",{className:"col-5"},c.a.createElement(E.p,{title:n("onDemandDetails:amount"),items:Y,amountValue:q,label:J})),c.a.createElement("div",{className:"col-5"})))}))))},1573:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i}));var a=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},r=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},c=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=u(e,a),c="IDR"===t?r.replace(/,/g,"."):r,o=n?"".concat(t," "):"",i="".concat(o).concat(c);return i},o=function(e,t,n){var a=t?c(e,t):u(e),r=a.split("-").join(""),o="".concat((null!=n?n:e>0)?"+ ":"- "," ").concat(r);return 0===e&&(o=a),o},i=function(e){return"".concat((100*e).toFixed(2),"%")}},1575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(0)),r=o(n(2)),u=o(n(6)),c=o(n(1576));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1577);var l=function(e){var t,n=e.text,r=e.iconLeft,o=e.customCss,l=e.variant,d=(0,u.default)((i(t={"status-pill":!0},"status-pill-".concat(l),l),i(t,o,o),t));return a.default.createElement(c.default,{text:n,iconLeft:r,customCss:d})};l.propTypes={text:r.default.string,iconLeft:r.default.any,variant:r.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:r.default.string};var d=l;t.default=d},1576:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=n(467)},1577:function(e,t,n){},1609:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){e=Number(e);var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=Math.floor(e%60);return(t>0?t+(t<=1?" day ":" days "):"")+(n>0?n+(n<=1?" hour ":" hours "):"")+(a>0?a+(a<=1?" minute ":" minutes "):"")+(r>0?r+(r<=1?" second":" seconds"):"")}},1697:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return a.a})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"j",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return m}));var a=n(1711),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IDR",n=function(e){return Object(a.a)(e)},r=[{dataField:"status",text:e("status"),formatter:n},{dataField:"created",text:e("dateCreated"),type:"text"},{dataField:"odLink",text:e("link"),type:"text"},{dataField:"odType",text:e("type"),type:"text"},{dataField:"amount",text:e("amount",{curr:t}),type:"text"},{dataField:"limit",text:e("limit"),type:"number"},{dataField:"used",text:e("used"),type:"number"},{dataField:"remaining",text:e("remaining"),type:"number"}];return r},u=[{label:"All",value:"ALL"},{label:"Active",value:"ACTIVE"},{label:"Closed",value:"CLOSED"}],c={ALL:"ALL",ACTIVE:"ACTIVE",CLOSED:"CLOSED"},o={SCHEDULED:"SCHEDULED",ACTIVE:"ACTIVE",CLOSED:"CLOSED",REACHED_LIMIT:"REACHED_LIMIT"},i={INVOICE_ACTIVE:"INVOICE_ACTIVE",INVOICE_PAID:"INVOICE_PAID"},l=[{label:"Days",value:"days"},{label:"Hours",value:"hours"},{label:"Minutes",value:"minutes"}],d=[{label:"Invoice Paid",value:"INVOICE_PAID"},{label:"Invoice Active",value:"INVOICE_ACTIVE"}],s={label:"Basic Invoice",value:"Basic"},f={label:"Invoice Paid",value:"INVOICE_PAID"},p={value:1,unit:"days"},m={BASIC:"BASIC",DONATION:"DONATION",DEFAULT:"BASIC"}},1711:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),u=n(1575),c=n.n(u),o=n(288),i=n.n(o),l=function(e){var t=i()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"ACTIVE":return r.a.createElement(c.a,{text:t,variant:"success"});case"REACHED_LIMIT":return r.a.createElement(c.a,{text:function(e){return e.replace(/_/g," ")}(t),variant:"warning"});default:return r.a.createElement(c.a,{text:t})}}},1713:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return D})),n.d(t,"a",(function(){return A})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return j}));var a=n(9),r=n.n(a),u=n(19),c=n(27),o=n(68),i=function(e,t,n,a){return function(){var i=Object(u.a)(r.a.mark((function u(i){var l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i(n?f():s()),r.prev=1,r.next=4,e("/api/on-demands",t);case 4:if(!(l=r.sent).error_code){r.next=7;break}throw l;case 7:l.docs.length>0&&(l.lastOnDemandId=Object(c.last)(l.docs).id),i(a?{type:o.i,payload:l}:{type:o.a,payload:l}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),i(p(r.t0));case 14:i(n?f():s());case 15:case"end":return r.stop()}}),u,null,[[1,11]])})));return function(e){return i.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(d(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return{type:o.k,payload:e}},s=function(){return{type:o.p}},f=function(){return{type:o.j}},p=function(e){return{type:o.o,payload:e}},m=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(I()),n.next=4,t("/api/on-demand/".concat(e));case 4:if(!(u=n.sent).error_code){n.next=7;break}throw u;case 7:a({type:o.g,payload:u}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(O(n.t0));case 13:a(I());case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},v=function(e,t,n){return function(){var a=Object(u.a)(r.a.mark((function a(u){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,u(h()),a.next=4,e("/api/on-demand/".concat(t),{status:n});case 4:if(!(c=a.sent).error_code){a.next=7;break}throw c;case 7:u({type:o.g,payload:c}),u(E(!0)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),u(x(a.t0));case 14:u(h());case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(E(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(y(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return{type:o.g,payload:e}},I=function(){return{type:o.m}},O=function(e){return{type:o.l,payload:e}},E=function(e){return{type:o.f,payload:e}},x=function(e){return{type:o.q,payload:e}},h=function(e){return{type:o.r}},C=n(3),A=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e("/api/on-demand",t);case 3:if(!(u=n.sent).error_code){n.next=6;break}throw u;case 6:a(g(!0)),a({type:o.h,payload:u}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),c=Object(C.a)({isError:!0},n.t0),a(_(c));case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return{type:o.n,payload:e}},_=function(e){return{type:o.c,payload:e}},j=function(e){return{type:o.e,currency:e}}}}]);