(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[23],{1481:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(0),c=a.n(r),o=a(67),i=a(380),s=a(80),l=a(479),u=a.n(l),d="/xenplatform/accounts",m="activity",p=function(e){return[{title:e("profile")},{title:e("activity")}]},f=a(9),b=a.n(f),E=a(3),O=a(19),h=a(1965),T=a(27),y=a(115),_=a.n(y),g=a(288),v=a.n(g),C=a(1575),j=a.n(C),A=function(e){var t=e.t,a=e.subAccountInfo,n=e.isLoading,r=e.errorMessage,o=a.type,i=a.name,l=a.id,u=!Object(T.isEmpty)(r),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=v()(e.toLowerCase());switch(e){case"MANAGED":case"OWNED":return c.a.createElement(j.a,{variant:"first-level",text:t});default:return c.a.createElement(j.a,{text:t})}}(o),m=c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement(_.a,null),c.a.createElement("span",{className:"ml-2"},t("loadingSubAccounts"))),p=u?c.a.createElement("p",{className:"mb-0 color-ash-dark"},r):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("p",{className:"mb-0 mr-3 text-md font-weight-bold"},i),d),c.a.createElement("p",{className:"mb-0 color-ash-dark"},l));return c.a.createElement(s.z,null,n?m:p)};A.defaultProps={subAccountInfo:{name:"",type:"",id:""}};var x=Object(i.a)("xenPlatformActivityTab")(A),N="/home",D=function(e){return"/api/sub-account/".concat(e)},S=(a(1991),Object(i.a)(["xenPlatformActivityTab"])((function(e){var t=e.t,a=e.activeTab,n=e.changeActiveTab,r=e.countryOfOperation,o=function(e){return{Indonesia:[{title:e("cash")},{title:e("invoices")},{title:e("virtualAccounts")},{title:e("retailOutlets")},{title:e("ewallet")},{title:e("disbursements")},{title:e("callbacks")}],Philippines:[{title:e("balance")},{title:e("transactions")},{title:e("invoices")}]}}(t)[r];return c.a.createElement(s.z,{customCss:"xp-activity-subtab-switcher",customBodyCss:"pb-0"},c.a.createElement("p",{className:"font-weight-bold text-md mb-4"},"Activity"),c.a.createElement(u.a,{tabs:o,activeTab:a,changeActiveTab:n,scrollable:!0}))}))),R=a(81),F=a(24),I=a(31),w=a.n(I),M=a(1583),L=a.n(M),P=a(37),k=a(26),U=a(20),B=a.n(U),H=a(151),Y=a.n(H),V="/api/transaction-history",G="/api/transaction_report_requests",W={xendit:["INCOMING_PAYMENT","DEPOSIT","REFUND","INCOMING_TRANSFER","CARD","DISBURSEMENT","WITHDRAWAL","OTHER","EWALLET","RETAIL_OUTLET","QR_CODE","DIRECT_DEBIT"]},z="CASH",Q=function(e){return{STATUS:e("status"),CREATED_DATE:e("dateCreated"),TRANSACTION_ID:{xendit:e("transactionID"),instamoney:e("ID")},TRANSACTION_TYPE:e("transactionType"),REFERENCE:e("reference"),AMOUNT:e("amount"),BALANCE_SNAPSHOT:e("balance"),REFERENCE_DESCRIPTION:e("referenceDescription")}},X=function(e){return{width:"5%",items:[{field:"id",text:e("commonWords:copyTransactionID"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"reference",text:e("commonWords:copyReference"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},q=a(48),Z=a(28),K=a(1719),J=a.n(K),$=function(e,t){var a=function(e){return[{type:"INCOMING_PAYMENT",label:e("paymentsFilter")},{type:"DEPOSIT",label:e("depositsFilter")},{type:"REFUND",label:e("refundsFilter")},{type:"INCOMING_TRANSFER",label:e("transfersFilter")},{type:"CARD",label:e("cardsFilter"),entity:Z.a.XENDIT},{type:"EWALLET",label:e("ewalletFilter")},{type:"QR_CODE",label:"QR",entity:Z.a.XENDIT},{type:"RETAIL_OUTLET",label:e("retailOutletFilter")},{type:"DIRECT_DEBIT",label:e("directDebitFilter"),entity:Z.a.XENDIT}]}(e),n=function(e){return[{type:"DISBURSEMENT",label:e("disbursementsFilter")},{type:"WITHDRAWAL",label:e("withdrawalsFilter")},{type:"OTHER",label:e("othersFilter")}]}(e);return[{title:e("moneyIn"),children:a.filter((function(e){return!e.entity||e.entity===t}))},{title:e("moneyOut"),children:n.filter((function(e){return!e.entity||e.entity===t}))}]},ee=function(e,t){return[{dataField:"status",text:Q(e).STATUS,formatter:ne,headerStyle:{width:"12%"}},{dataField:"created_date",text:Q(e).CREATED_DATE,type:"text",headerStyle:{width:"18%"}},{dataField:"id",text:Q(e).TRANSACTION_ID[t],type:"text",headerStyle:{width:"15%"},headerFormatter:te,formatExtraData:{t:e,entity:t}},{dataField:"type",text:Q(e).TRANSACTION_TYPE,type:"text",headerStyle:{width:"15%"}},{dataField:"reference",text:Q(e).REFERENCE,type:"text",headerStyle:{width:"15%"},headerFormatter:ae,formatExtraData:{t:e}},{dataField:"amount",text:Q(e).AMOUNT,formatter:re,headerStyle:{width:"10%"}},{dataField:"balance_snapshot",text:Q(e).BALANCE_SNAPSHOT,type:"text",headerStyle:{width:"10%"}}]},te=function(e){var t=e.formatExtraData,a=t.t,n=t.entity;return c.a.createElement("span",null,e.text," \xa0",c.a.createElement(Y.a,{content:a("transactionIDDescription",{entity:J()(n)}),size:"lg"}))},ae=function(e){var t=e.formatExtraData.t;return c.a.createElement("span",null,e.text," \xa0",c.a.createElement(Y.a,{content:Q(t).REFERENCE_DESCRIPTION,size:"lg"}))},ne=function(e){var t=v()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"COMPLETED":return c.a.createElement(j.a,{variant:"success",text:t});case"PENDING":return c.a.createElement(j.a,{variant:"warning",text:t});case"FAILED":return c.a.createElement(j.a,{variant:"danger",text:t});default:return c.a.createElement(j.a,{text:t})}},re=function(e,t){return t.is_credit?c.a.createElement("span",{className:"color-success"},"+ ".concat(e)):c.a.createElement("span",{className:"color-danger"},"- ".concat(e))},ce=a(189),oe=a(1573),ie=a(50),se=a(473),le=(a(2117),q.c.TODAY),ue=q.c.LAST_1_MONTH,de=q.c.TIMEZONE,me=Object(i.a)(["transactions","commonWords","commonComponents","errorMessages"])((function(e){var t=e.t,a=e.subAccountId,o=e.apiCall,i=o.axiosGet,l=o.axiosPost,u=e.entity,d=e.user,m=e.dateFormat,p=d.email,f=W[u],h=z,y=Object(r.useState)(!1),_=Object(n.a)(y,2),g=_[0],v=_[1],C=Object(r.useState)(!1),j=Object(n.a)(C,2),A=j[0],x=j[1],N=Object(r.useState)(""),D=Object(n.a)(N,2),S=D[0],I=D[1],M=Object(r.useState)([]),U=Object(n.a)(M,2),H=U[0],Y=U[1],Q=Object(r.useState)({totalTransactions:0}),Z=Object(n.a)(Q,2),K=Z[0],J=Z[1],te=Object(r.useState)(new Date(ue)),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],me=Object(r.useState)(new Date(le)),pe=Object(n.a)(me,2),fe=pe[0],be=pe[1],Ee=Object(r.useState)(f),Oe=Object(n.a)(Ee,2),he=Oe[0],Te=Oe[1],ye=Object(r.useState)(""),_e=Object(n.a)(ye,2),ge=_e[0],ve=_e[1],Ce=Object(r.useState)(""),je=Object(n.a)(Ce,2),Ae=je[0],xe=je[1],Ne=Object(r.useState)(!1),De=Object(n.a)(Ne,2),Se=De[0],Re=De[1],Fe=Object(r.useState)(!1),Ie=Object(n.a)(Fe,2),we=Ie[0],Me=Ie[1],Le=Object(r.useState)({pdf:!1,csv:!1}),Pe=Object(n.a)(Le,2),ke=Pe[0],Ue=Pe[1],Be=Object(r.useState)(!1),He=Object(n.a)(Be,2),Ye=He[0],Ve=He[1],Ge=Object(r.useState)(""),We=Object(n.a)(Ge,2),ze=We[0],Qe=We[1];Object(r.useEffect)((function(){Ze({refetch:!1})}),[he,fe,ne]);var Xe,qe,Ze=function(){var e=Object(O.a)(b.a.mark((function e(n){var r,c,o,s,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(r=n.refetch)&&v(!0),I(""),c={account_type:h,from:Object(ce.c)(ne,"start"),to:Object(ce.c)(fe,"end"),transaction_types:he,reference_transaction:r?ge:void 0,reference_effective_at:r?Ae:void 0},o={"for-user-id":a},e.prev=5,e.next=8,i(V,c,o);case 8:if(!(s=e.sent).error_code){e.next=11;break}throw s;case 11:e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(5),(l=e.t0.error_code)!==se.a.REQUEST_ABORTED){e.next=18;break}return e.abrupt("return");case 18:return I(Object(ie.f)(l,t)),v(!1),e.abrupt("return");case 21:Ke(s,r);case 22:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),Ke=function(e,t){var a=e.transactions,n=e.stats,r=Object(T.isEmpty)(a)?"":Object(T.last)(a).transaction_id,c=Object(T.isEmpty)(a)?"":Object(T.last)(a).effective_at,o=t?[].concat(Object(F.a)(H),Object(F.a)(a)):a,i=H.length<n.total_transaction_count&&10===a.length,s=Object(E.a)(Object(E.a)({},K),{},{totalTransactions:n.total_transaction_count});ve(r),xe(c),Y(o),J(s),t&&x(!1),Re(i),v(!1)},Je=function(){var e=Object(O.a)(b.a.mark((function e(n){var r,c,o,i,s,u,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.type,Ue((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(R.a)({},r,!0))})),Qe(""),c=!K.totalTransactions,o=K.totalTransactions>5e5,!c&&!o){e.next=8;break}return et(t(c?"transactionsEmpty":"limitExceeded"),r),e.abrupt("return");case 8:return i=w()().utcOffset(),s=Object(T.omitBy)({account_type:h,from:Object(ce.c)(ne,"start"),to:Object(ce.c)(fe,"end"),transaction_types:he,user_offset:i,export_type:r.toUpperCase(),total_transaction_count:K.totalTransactions},T.isUndefined),u={"for-user-id":a},e.prev=11,e.next=14,l(G,{},s,u);case 14:if(!(d=e.sent).error_code){e.next=17;break}throw d.error_code;case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(11),et(Object(ie.f)(e.t0,t),r),e.abrupt("return");case 23:Ue((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(R.a)({},r,!1))})),Ve(!0),Me(!0),$e(r);case 27:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(e){var t=h===z?"cash":"pending";window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"export-".concat(t,"-report"),label:"Export ".concat(e.toUpperCase()," - ").concat(t.charAt(0).toUpperCase())})},et=function(e,t){Ve(!1),Ue((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(R.a)({},t,!1))})),Qe(e),Me(!0)},tt={start:ne,end:fe,inputFormat:m.date_time_picker,outputFormat:q.a.GMT_MS_Z,onChange:function(e,t){switch(e){case"start":re(new Date(w()(t).tz(de).format()));break;case"end":be(new Date(w()(t).tz(de).format()));break;default:return}},customCss:"filter-item"},at={isClickable:!1,tableHeaderColumns:ee(t,u),tableContentRows:(Xe=H,qe=oe.d,Xe.map((function(e){var t=e.created_date,a=e.amount,n=e.balance_snapshot;return Object(E.a)(Object(E.a)({},e),{},{created_date:w()(t).format(q.a.FULL_DATE),amount:qe(a),balance_snapshot:qe(n)})}))),onClickLoadMore:function(){x(!0),Ze({refetch:!0})},withLoadMore:Se,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:A,isLoading:g,isError:!Object(T.isEmpty)(S),isEmpty:Object(T.isEmpty)(H),loadingText:t("loadingTransactions"),errorContent:c.a.createElement(s.t,{text:S}),emptyContent:c.a.createElement(s.r,{caption:t("emptyTransactionsCaption"),subtitle:t("emptyTransactionsSubtitle")}),actionButtonConfig:X(t)},nt=function(e,t,a,n,r){var o=c.a.createElement(s.w,{selectedFilters:e,onChecked:function(e){t(e)},filterGroups:$(n,r),onCheckAll:function(){a()},withGrouping:!0,withCheckAll:!0}),i=e.length;return[c.a.createElement(s.q,{displayText:"".concat(n("transactionType")," (").concat(i,")"),children:[o]})]}(he,(function(e){var t=he.includes(e),a=Object(F.a)(he);t?a=a.length>1?a.filter((function(t){return t!==e})):f:a.push(e),Te(a)}),(function(){Te(Object(T.isEmpty)(he)?f:[])}),t,u),rt=function(e,t,a,n){if(!e)return[];var r=c.a.createElement(P.a,{icon:k.p});return[c.a.createElement(B.a,{isLoading:t.pdf,size:"sm",iconLeft:r,onClick:function(){n()},customCss:"mr-2"},"PDF"),c.a.createElement(B.a,{isLoading:t.csv,size:"sm",iconLeft:r,onClick:function(){a()}},"CSV")]}(d.can_view,ke,(function(){Je({type:"csv"})}),(function(){Je({type:"pdf"})}));return c.a.createElement("div",{className:"xp-cash-tab-container"},c.a.createElement(L.a,{filters:nt,stickyHeader:!0,rightButtons:rt,dateFilterConfig:tt,tableConfig:at}),function(e){return e?c.a.createElement(s.j,{type:"success",handleClose:function(){Me(!1)},title:t("commonComponents:exportStarted"),subtitle:t("commonComponents:exportSuccessInfo",{email:p}),showModal:we}):c.a.createElement(s.j,{type:"danger",title:t("exportFailed"),handleClose:function(){Me(!1)},showModal:we,subtitle:ze})}(Ye))})),pe=a(1877),fe=a.n(pe),be=["COMPLETED","PENDING","FAILED","CALLBACK_URL_NOT_SET"],Ee={status:[],productType:[]},Oe=function(e,t){return[].concat(Object(F.a)(function(e){var t=[{type:"COMPLETED",label:e("completedStatus"),group:"status"},{type:"PENDING",label:e("pendingStatus"),group:"status"},{type:"FAILED",label:e("failedStatus"),group:"status"},{type:"CALLBACK_URL_NOT_SET",label:e("urlNotSetStatus"),group:"status"}];return[{title:fe()(e("status")),children:t}]}(e)),Object(F.a)(function(e,t){var a=[{type:"DIRECT_DISBURSEMENT",label:e("DIRECT_DISBURSEMENT"),group:"productType"},{type:"CALLBACK_VIRTUAL_ACCOUNT",label:e("CALLBACK_VIRTUAL_ACCOUNT"),group:"productType"},{type:"INVOICE",label:e("INVOICE"),group:"productType"},{type:"BATCH_DISBURSEMENT",label:e("BATCH_DISBURSEMENT"),group:"productType"},{type:"NPWP_DATA_REQUEST",label:e("NPWP_DATA_REQUEST"),group:"productType"},{type:"CALLBACK_VIRTUAL_ACCOUNT_STATUS",label:e("CALLBACK_VIRTUAL_ACCOUNT_STATUS"),group:"productType"},{type:"CREDIT_CARD_REFUND",label:e("CREDIT_CARD_REFUND"),group:"productType"},{type:"FOREX_CONVERSION",label:e("FOREX_CONVERSION"),group:"productType"},{type:"RECURRING_PAYMENT",label:e("RECURRING_PAYMENT"),group:"productType"},{type:"BANK_ACCOUNT_DATA",label:e("BANK_ACCOUNT_DATA"),group:"productType"},{type:"CARD_PAYMENT",label:e("CARD_PAYMENT"),group:"productType"},{type:"FIXED_PAYMENT_CODE",label:e("FIXED_PAYMENT_CODE"),group:"productType"},{type:"REMITTANCE",label:e("REMITTANCE"),group:"productType"},{type:"ESCROW_VIRTUAL_ACCOUNT_ACTIVATED",label:e("ESCROW_VIRTUAL_ACCOUNT_ACTIVATED"),group:"productType"},{type:"ESCROW_VIRTUAL_ACCOUNT_PAYMENT",label:e("ESCROW_VIRTUAL_ACCOUNT_PAYMENT"),group:"productType"},{type:"LOAN_DISBURSEMENT",label:e("LOAN_DISBURSEMENT"),group:"productType"},{type:"ESCROW_WITHDRAWAL",label:e("ESCROW_WITHDRAWAL"),group:"productType"},{type:"REPAYMENT",label:e("REPAYMENT"),group:"productType"}].filter((function(e){return t&&t.includes(e.type)}));return[{title:fe()(e("productType")),children:a}]}(e,t)))},he="/api/callback_requests",Te="/api/callback_settings",ye=function(e){return"/api/callback_requests/".concat(e)},_e={title:"",subtitle:"",type:"",showModal:!1},ge=function(e){var t=v()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"COMPLETED":return c.a.createElement(j.a,{text:t,variant:"success"});case"PENDING":return c.a.createElement(j.a,{text:t,variant:"warning"});case"FAILED":return c.a.createElement(j.a,{text:t,variant:"danger"});case"CALLBACK_URL_NOT_SET":return c.a.createElement(j.a,{text:"URL not set",variant:"danger"});default:return}},ve=function(e,t,a,n){return c.a.createElement(B.a,{isLoading:t.isResending,children:n.t("resend"),onClick:function(e){e.stopPropagation(),n.onResend(t.id,a)}})},Ce=function(e,t,a){var n=[{dataField:"status",text:e("status"),formatter:ge,headerStyle:{width:"20%"}},{dataField:"created",text:e("dateCreated"),formatter:ce.h,headerStyle:{width:"25%"}},{dataField:"product_id",text:e("productId"),type:"text",headerStyle:{width:"25%"}},{dataField:"type",text:e("productType"),formatter:function(t){return e(t)},headerStyle:{width:a?"20%":"30%"}}];return a&&n.push({dataField:"",formatter:ve,formatExtraData:{t:e,onResend:t},headerStyle:{width:"10%"}}),n},je=a(289),Ae=a.n(je),xe=a(1730),Ne=a.n(xe),De=function(e){return e.map((function(e){return{created:e.created,status:e.status,product_id:e.request_payload.id,type:e.callback_type,id:e.id}}))},Se=function(e,t){var a=new Date(e),n=t.split("T")[1].split(":"),r=parseInt(n[0]),c=parseInt(n[1]);return a.setHours(r),a.setMinutes(c),a.setSeconds(0),a},Re=(a(2118),function(e){var t=e.t,a=e.subAccountId,o=e.apiCall,i=o.axiosGet,l=o.axiosPost,u=e.environment,d=e.dateFormat,m=e.user,p=q.c.LAST_1_MONTH,f=Object(r.useState)(Ee),h=Object(n.a)(f,2),y=h[0],_=h[1],g=Object(r.useState)(Ee),v=Object(n.a)(g,2),C=v[0],j=v[1],A=Object(r.useState)(new Date),x=Object(n.a)(A,2),N=x[0],D=x[1],S=Object(r.useState)(new Date(p)),I=Object(n.a)(S,2),w=I[0],M=I[1],P=Object(r.useState)(void 0),k=Object(n.a)(P,2),U=k[0],H=k[1],Y=Object(r.useState)(null),V=Object(n.a)(Y,2),G=V[0],W=V[1],z=Object(r.useState)(""),Q=Object(n.a)(z,2),X=Q[0],Z=Q[1],K=Object(r.useState)([]),J=Object(n.a)(K,2),$=J[0],ee=J[1],te=Object(r.useState)(""),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],ce=Object(r.useState)(!1),oe=Object(n.a)(ce,2),se=oe[0],le=oe[1],ue=Object(r.useState)(!1),de=Object(n.a)(ue,2),me=de[0],pe=de[1],fe=Object(r.useState)(!1),ge=Object(n.a)(fe,2),ve=ge[0],je=ge[1],xe=Object(r.useState)(void 0),Re=Object(n.a)(xe,2),Fe=Re[0],Ie=Re[1],we=Object(r.useState)([]),Me=Object(n.a)(we,2),Le=Me[0],Pe=Me[1],ke=Object(r.useState)(!1),Ue=Object(n.a)(ke,2),Be=Ue[0],He=Ue[1],Ye=Object(r.useState)(!1),Ve=Object(n.a)(Ye,2),Ge=Ve[0],We=Ve[1],ze=Object(r.useState)(_e),Qe=Object(n.a)(ze,2),Xe=Qe[0],qe=Qe[1],Ze=Object(r.useState)(!1),Ke=Object(n.a)(Ze,2),Je=Ke[0],$e=Ke[1],et=m.can_manage_tech_settings;Object(r.useEffect)((function(){clearTimeout(G),W(setTimeout((function(){!Object(T.isUndefined)(U)&&(U.length>2||0===U.length)&&tt()}),400))}),[U]),Object(r.useEffect)((function(){tt()}),[N,w,C,u]),Object(r.useEffect)((function(){Ge&&tt()}),[Ge]);var tt=function(){var e=Object(O.a)(b.a.mark((function e(){var n,r,c,o,s,l,u,d,m,p,f=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>0&&void 0!==f[0]&&f[0],le(!n),pe(n),Z(""),e.prev=4,c={statuses:Object(T.isEmpty)(C.status)?be:C.status,from:w,to:N,callback_types:Object(T.isEmpty)(C.productType)?Fe:C.productType,last_id:n?ne:void 0,search_query:U||void 0},o={"for-user-id":a},e.next=9,i(he,c,o);case 9:if(!(r=e.sent).error_code){e.next=12;break}throw r;case 12:if(!Object(T.isUndefined)(Fe)&&!Object(T.isEmpty)(Fe)){e.next=21;break}return e.next=15,i(Te,{},o);case 15:if(!(s=e.sent).error_code){e.next=18;break}throw s;case 18:l=s.callback_urls,u=Object(T.map)(Object(T.keys)(l),(function(e){return e.toUpperCase()})),Ie(u);case 21:e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(4),le(!1),pe(!1),Z(Object(ie.f)(e.t0.error_code,t)),e.abrupt("return");case 29:m=(d=r).docs,p=d.has_next,ee(n?[].concat(Object(F.a)($),Object(F.a)(De(m))):De(m)),je(p),re(m.length>0&&Object(T.last)(m).id),le(!1),pe(!1);case 35:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(O.a)(b.a.mark((function e(n,r){var c,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(F.a)($),o=c[r].status,c[r].status="PENDING",c[r].isResending=!0,ee(c),i={"for-user-id":a},e.prev=6,e.next=9,l(ye(n),{},{},i);case 9:if(!(s=e.sent).error_code){e.next=12;break}throw s;case 12:e.next=22;break;case 14:return e.prev=14,e.t0=e.catch(6),rt(t("commonWords:failed"),Object(ie.f)(e.t0.error_code,t),"danger"),(u=Object(F.a)($))[r].status=o,u[r].isResending=!1,ee(u),e.abrupt("return");case 22:We(!1),ee([]),je(!0),re(void 0),We(!0);case 27:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,a){return e.apply(this,arguments)}}(),nt=function(){var e=Object(O.a)(b.a.mark((function e(){var n,r,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Le.length>10)){e.next=3;break}return rt(t("commonWords:failed"),t("MAX_BULK_RESEND_EXCEEDED",{DEFAULT_MAX_BULK_RESEND:10}),"danger"),e.abrupt("return");case 3:return He(!0),n=(n=Object(F.a)($)).map((function(e){return Le.includes(e.id)?Object(E.a)(Object(E.a)({},e),{},{isResending:!0,status:"PENDING"}):e})),ee(n),r={"for-user-id":a},e.prev=8,o={callback_request_ids:Le},e.next=12,l(he,o,{},r);case 12:if(!(c=e.sent).error_code){e.next=15;break}throw c;case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(8),He(!1),rt(t("commonWords:failed"),Object(ie.f)(e.t0.error_code,t),"danger"),e.abrupt("return");case 22:Pe([]),He(!1),We(!1),ee([]),je(!0),re(void 0),We(!0);case 29:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(){return e.apply(this,arguments)}}(),rt=function(e,t,a){qe({title:e,subtitle:t,type:a,showModal:!0})},ct=function(e,t,a,n,r){return r?[c.a.createElement(B.a,{isLoading:a,size:"sm",isDisabled:Ae()(n),onClick:t},e("resend"))]:[]}(t,nt,Be,Le,et),ot=function(e,t,a,n,r,o,i,l,u,d,m,p,f){var b=Oe(e,r),E=Object.keys(u).reduce((function(e,t){return e.concat(u[t])}),[]),O=c.a.createElement(s.x,{selectedFilters:E,onChecked:m,filterGroups:b,withCheckAll:!0,onCheckAll:f,isApplyDisabled:Ne()(u,d),onApplyFilter:p,withGrouping:!0,expandType:"horizontal",handleToggleFilter:i}),h=E.length,T=c.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},c.a.createElement("div",{className:"mr-2"},c.a.createElement("p",{className:"font-weight-bold m-0"},e("date"))),c.a.createElement(s.m,{value:t,date:!0,inputFormat:o.date_time_picker,onChange:function(e){return n("start_date",e)},outputFormat:q.a.GMT_MS_Z,max:a}),c.a.createElement("div",{className:"date-divider mx-2"},"-"),c.a.createElement(s.m,{value:a,date:!0,inputFormat:o.date_time_picker,onChange:function(e){return n("end_date",e)},outputFormat:q.a.GMT_MS_Z,min:t,max:new Date})),y=c.a.createElement("div",{className:"d-flex align-items-center justify-content-between my-1"},c.a.createElement("div",{className:"mr-2"},c.a.createElement("p",{className:"font-weight-bold m-0"},e("time"))),c.a.createElement(s.m,{value:t,time:!0,inputFormat:"HH:mm",onChange:function(e){return n("start_time",e)},outputFormat:q.a.GMT_MS_Z}),c.a.createElement("div",{className:"date-divider mx-2"},"-"),c.a.createElement(s.m,{value:a,time:!0,inputFormat:"HH:mm",onChange:function(e){return n("end_time",e)},outputFormat:q.a.GMT_MS_Z}));return[c.a.createElement(s.q,{displayText:e("filterText",{allFilterLength:h}),children:[O],customCss:{dropdownName:"callbacks-dropdown-status",padding:"px-2 pt-2 pb-0"},customHandleToggle:i,customDropdownOpen:l,onClickEvent:!0,onMouseEvent:!1}),c.a.createElement(s.q,{displayText:e("datePicker"),children:[T,y],onClickEvent:!0,onMouseEvent:!1,customCss:{dropdownName:"callbacks-date-time-picker",content:"min-width-300"}})]}(t,w,N,(function(e,t){var a,n,r=new Date,c=t.split("T")[0];switch(e){case"start_date":(a=new Date(c)).setHours(0),a.setMinutes(0),M(a);break;case"end_date":(a=new Date(c)).setHours(r.getHours()),a.setMinutes(r.getMinutes()),D(a);break;case"start_time":n=Se(w,t),M(n);break;case"end_time":n=Se(N,t),D(n)}}),Fe,d,(function(e){e||_(C),$e(e)}),Je,y,C,(function(e){var t=e.checked,a=e.types,n=e.group,r=y[n]||[];r=t?r.filter((function(e){return!a.includes(e)})):r.concat(a),_((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(R.a)({},n,r))}))}),(function(){ee([]),le(!0),re(void 0),j(y),le(!1)}),(function(){_(Ee)})),it={tableHeaderColumns:Ce(t,at,et),tableContentRows:$,onClickLoadMore:function(){tt(!0)},withLoadMore:ve,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:me,isLoading:se,isError:!Object(T.isEmpty)(X),isEmpty:Object(T.isEmpty)($),loadingText:t("loadingText"),errorContent:c.a.createElement(s.t,{text:X}),emptyContent:c.a.createElement(s.r,{caption:t("emptyCaption"),subtitle:t("emptySubtitle")}),selectRowMode:"checkbox",onSelectRow:function(e,t){var a=Object(F.a)(Le);"PENDING"===e.status||(t?a.push(e.id):a=a.filter((function(t){return t!==e.id})),Pe(a))},onSelectAllRow:function(e){var t=[];e?($.forEach((function(e){"PENDING"===e.status||t.push(e.id)})),Pe(t)):Pe([])},rowClasses:function(e){return"PENDING"===e.status?"callbacks-uncheck ".concat("table-row-vertical-align-middle"):"table-row-vertical-align-middle"}},st={value:U,onChange:function(e){e.preventDefault(),H(e.target.value)},tooltip:t("searchBarTooltip"),placeholder:t("searchBarPlaceholder"),position:"inline",customCss:"filter-item"};return c.a.createElement("div",{className:"xp-callbacks-tab-container"},c.a.createElement(L.a,{filters:ot,stickyHeader:!0,tableConfig:it,searchBarConfig:st,rightButtons:ct}),c.a.createElement(s.j,Object.assign({},Xe,{handleClose:function(){qe({title:"",subtitle:"",type:"",showModal:!1})}})))});Re.defaultProps={apiCall:{axiosGet:function(){},axiosPost:function(){}},dateFormat:{},user:{}};var Fe=Object(i.a)(["callbacks","errorMessages","commonWords","commonComponents"])(Re),Ie=a(190),we=a(471),Me=(a(300),a(1612)),Le=a(1776),Pe=a(1777),ke="status",Ue="channel",Be="type",He="PAID",Ye="SETTLED",Ve={NAME:"on_demand_link",PLACEHOLDER:"On Demand Link"},Ge={NAME:"recurring_payment_id",PLACEHOLDER:"Recurring Payment Id"},We=function(e){var t=v()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"PAID":case"SETTLED":return c.a.createElement(j.a,{text:t,variant:"success"});case"EXPIRED":return c.a.createElement(j.a,{text:t});default:return c.a.createElement(j.a,{text:"Unpaid",variant:"warning"})}},ze=function(e){return c.a.createElement(c.a.Fragment,null,e("extId"),c.a.createElement("span",{className:"ml-2 text-xs light-gray-icon"},c.a.createElement(Y.a,{placement:"top",content:e("invoiceCommon:displayedInvoiceNo")})))},Qe=function(e){return[{dataField:"status",text:e("status"),formatter:We},{dataField:"created",text:e("date"),formatter:ce.h},{dataField:"external_id",text:ze(e)},{dataField:"payer_email",text:e("payerEmail")},{dataField:"description",text:e("desc")},{dataField:"amount",text:e("amountWithoutCurr"),formatter:oe.d}]},Xe=(a(2119),Object(we.b)((function(e){return Object(E.a)({},e.invoices)}),(function(e){return Object(Ie.b)({fetchInvoices:Me.d,getAllowedCurrency:Me.f,requestExportCsv:Me.j},e)}))),qe=Object(i.a)(["invoiceCommon","invoiceFilter","commonComponents"])(Xe((function(e){var t=e.t,a=e.subAccountId,o=e.apiCall,i=o.axiosGet,l=o.axiosPost,u=e.environment,d=e.user.email,m=e.fetchInvoices,p=e.requestExportCsv,f=e.invoices,h=e.loading,y=e.error,_=e.errorObj,g=e.hasNext,v=e.refetching,C=e.lastInvoiceId,j=e.isExporting,A=e.isExportError,x=e.isExportSucceed,N=e.exportError,D=e.getAllowedCurrency,S=e.currencies,I=e.defaultCurrency,M=Object(r.useState)(!1),U=Object(n.a)(M,2),H=U[0],Y=U[1],V=Object(r.useState)([]),G=Object(n.a)(V,2),W=G[0],z=G[1],Q=Object(r.useState)({paid_after:"",paid_before:"",created_after:"",created_before:"",expired_after:"",expired_before:""}),X=Object(n.a)(Q,2),Z=X[0],K=X[1],J=Object(r.useState)([]),$=Object(n.a)(J,2),ee=$[0],te=$[1],ae=Object(r.useState)([]),ne=Object(n.a)(ae,2),re=ne[0],oe=ne[1],ie=Object(r.useState)([]),se=Object(n.a)(ie,2),le=se[0],ue=se[1],de=Object(r.useState)(void 0),me=Object(n.a)(de,2),pe=me[0],fe=me[1],be=Object(r.useState)(void 0),Ee=Object(n.a)(be,2),Oe=Ee[0],he=Ee[1],Te=Object(r.useState)(I),ye=Object(n.a)(Te,2),_e=ye[0],ge=ye[1],ve=Object(r.useState)(void 0),Ce=Object(n.a)(ve,2),je=Ce[0],Ae=Ce[1],xe=Object(r.useState)(null),Ne=Object(n.a)(xe,2),De=Ne[0],Se=Ne[1],Re=Object(r.useState)(!1),Fe=Object(n.a)(Re,2),Ie=Fe[0],we=Fe[1],Me={currency:_e,statuses:ee,types:re,channels:le,paid_after:Z.paid_after,paid_before:Z.paid_before,created_after:Z.created_after,created_before:Z.created_before,expired_after:Z.expired_after,expired_before:Z.expired_before,on_demand_link:pe,recurring_payment_id:Oe,search_query:je};Object(r.useEffect)((function(){Y(!0),D(i),We()}),[u]),Object(r.useEffect)((function(){clearTimeout(De),Se(setTimeout((function(){(!Object(T.isUndefined)(je)&&(je.length>2||0===je.length)||!Object(T.isUndefined)(pe)&&(pe.length>2||0===pe.length)||!Object(T.isUndefined)(Oe)&&(Oe.length>2||0===Oe.length))&&We()}),500))}),[je,pe,Oe]),Object(r.useEffect)((function(){H&&We()}),[Z,ee,le,re,_e]);var We=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(T.omitBy)(Me,T.isEmpty),je&&(t.search_query=je.trim(),delete t.paidAfter,delete t.paidBefore,delete t.createdAfter,delete t.createdBefore,delete t.expiredAfter,delete t.expiredBefore,delete t.onDemandLink,delete t.recurringPaymentId),n={"for-user-id":a},e.next=5,m(i,t,!1,!0,n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"export-invoice-report",label:"Export CSV - Invoices"}),t=Object(T.omitBy)(Object(T.assignIn)(Me,{user_offset:w()().utcOffset()}),T.isEmpty),n={"for-user-id":a},t.statuses||(t.statuses=[]),t.channels||(t.channels=[]),t.types||(t.types=[]),e.next=9,p(l,t,n);case 9:we(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(e){var t=Object(ce.c)(new Date(q.c.LAST_1_MONTH)),a=Object(ce.c)(new Date(q.c.TODAY));K((function(n){var r;return Object(E.a)(Object(E.a)({},n),{},(r={},Object(R.a)(r,"".concat(e,"_after"),t),Object(R.a)(r,"".concat(e,"_before"),a),r))}))},qe=function(e){K((function(t){return delete t["".concat(e,"_after")],delete t["".concat(e,"_before")],Object(E.a)({},t)}))},Ze=x?c.a.createElement(s.j,{type:"success",handleClose:function(){we(!1)},title:t("commonComponents:exportStarted"),subtitle:t("commonComponents:exportSuccessInfo",{email:d}),showModal:Ie}):c.a.createElement(s.j,{type:"danger",title:t("exportFailed"),handleClose:function(){we(!1)},showModal:Ie,subtitle:A&&N.message}),Ke=function(e){var t=e.t,a=e.handleDateFilter,n=e.dateRange,r=e.dateTypes,o=e.handleDateAfterChange,i=e.handleDateBeforeChange,l=e.handleCheckboxFilter,u=e.statuses,d=e.channels,m=e.types,p=e.onDemandLink,f=e.recurringPaymentId,b=e.handleSearchBarChange,E=e.currencies,O=e.currency,h=e.handleCurrencyFilter,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["IDR"],a={date:[{children:[{type:"paid",label:e("invoiceFilter:paidDate")},{type:"created",label:e("invoiceFilter:createdDate")},{type:"expired",label:e("invoiceFilter:expiryDate")}]}],status:[{title:"Status",children:[{type:"SETTLED",label:"Settled"},{type:"PAID",label:"Paid"},{type:"PENDING",label:"Pending"},{type:"EXPIRED",label:"Expired"}]}],channel:[{title:e("invoiceFilter:paymentChannel"),children:[{type:"CREDIT_CARD",label:"Credit Card"},{type:"BNI",label:"BNI"},{type:"BRI",label:"BRI"},{type:"MANDIRI",label:"Mandiri"},{type:"BCA",label:"BCA"},{type:"PERMATA",label:"Permata"},{type:"ALFAMART",label:"Alfamart"},{type:"INDOMARET",label:"Indomaret"},{type:"OVO",label:"OVO"},{type:"DANA",label:"DANA"}]}],type:[{title:e("invoiceFilter:createdFrom"),children:[{type:"API_GATEWAY",label:"API"},{type:"DASHBOARD",label:"Dashboard"},{type:"INTEGRATION",label:"Integration"},{type:"ON_DEMAND",label:"On Demand"},{type:"RECURRING",label:"Recurring"}]}],currency:[{children:t.map((function(e){return{type:e,label:e}}))}]};return a}(t),_=[{placeholder:Ve.PLACEHOLDER,name:Ve.NAME,value:p,onChange:b},{placeholder:Ge.PLACEHOLDER,name:Ge.NAME,value:f,onChange:b}],g=c.a.createElement(Le.a,{label:"Identifier",searchGroups:_}),v=c.a.createElement(s.w,{selectedFilters:r,onChecked:a,filterGroups:y.date,withDateRange:!0,dateRange:n,onDateAfterChange:o,onDateBeforeChange:i}),C=function(e,t,a){return c.a.createElement(s.w,{selectedFilters:a,onChecked:function(e){return l(e,t)},filterGroups:e[t],withGrouping:!0})},j=[c.a.createElement(s.q,{displayText:t("invoiceFilter:filter"),children:function(){var e=[{component:v,colSize:4},{component:C(y,ke,u)},{component:C(y,Be,m)},{component:g}];return Object(T.intersection)(u,[He,Ye]).length&&e.splice(2,0,{component:C(y,Ue,d)}),e}(),horizontalOrder:!0,customCss:{content:"min-width-768"}})];return E.length>1&&j.push(c.a.createElement(s.q,{displayText:O,children:[c.a.createElement(Pe.a,{options:Object.values(E),onSelect:h})]})),j}({t:t,handleDateFilter:function(e){var t=W.includes(e),a=Object(F.a)(W);t?(a=a.filter((function(t){return t!==e})),qe(e)):(a.push(e),Xe(e)),z(a)},dateRange:Z,dateTypes:W,handleDateAfterChange:function(e,t){K((function(a){return Object(E.a)(Object(E.a)({},a),{},Object(R.a)({},"".concat(t,"_after"),e))}))},handleDateBeforeChange:function(e,t){K((function(a){return Object(E.a)(Object(E.a)({},a),{},Object(R.a)({},"".concat(t,"_before"),e))}))},handleCheckboxFilter:function(e,t){var a,n;switch(t){case ke:a=te,n=ee;break;case Ue:a=ue,n=le;break;case Be:a=oe,n=re}var r=Object(F.a)(n);if((n.includes(e)?r=r.filter((function(t){return t!==e})):r.push(e),t===ke)&&!Object(T.intersection)(r,[He,Ye]).length)return te(r),void ue([]);a(r)},statuses:ee,channels:le,types:re,onDemandLink:pe,recurringPaymentId:Oe,handleSearchBarChange:function(e){e.preventDefault();var t=e.target,a=t.value;switch(t.name){case Ve.NAME:fe(a);break;case Ge.NAME:he(a)}},currencies:S,currency:_e,handleCurrencyFilter:function(e){ge(e)}}),Je={tableHeaderColumns:Qe(t),tableContentRows:f,onClickLoadMore:function(){var e=Object(T.omitBy)(Object(T.assignIn)(Me,{reference_invoice:C}),T.isEmpty);m(i,e,!0,!1,{"for-user-id":a})},withLoadMore:g,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:v,isLoading:h,isError:y,isEmpty:Object(T.isEmpty)(f),loadingText:t("loadingInvoices"),errorContent:c.a.createElement(s.t,{text:y&&_.error_code}),emptyContent:c.a.createElement(s.r,{caption:t("emptyCardTitle"),subtitle:t("emptyCardMsg")})},$e={value:je,onChange:function(e){e.preventDefault();var t=e.target.value;Ae(t)},tooltip:t("invoiceFilter:searchPlaceholder"),placeholder:t("invoiceFilter:search"),position:"inline",customCss:"filter-item"},et=[c.a.createElement(B.a,{iconLeft:c.a.createElement(P.a,{icon:k.p}),onClick:ze,isLoading:j,size:"sm"},"CSV")];return c.a.createElement("div",{className:"xp-invoices-tab-container"},c.a.createElement(L.a,{filters:Ke,stickyHeader:!0,tableConfig:Je,searchBarConfig:$e,rightButtons:et}),Ze)}))),Ze="/api/direct_disbursement_report_requests",Ke="/api/direct_disbursements",Je=function(e){return{width:"5%",items:[{field:"external_id",text:e("commonWords:copyExternalID"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},$e=function(e){return[{children:[{type:"COMPLETED",label:e("completedStatus")},{type:"PENDING",label:e("pendingStatus")},{type:"FAILED",label:e("failedStatus")}]}]},et=["COMPLETED","PENDING","FAILED"],tt=function(e){return[{dataField:"status",text:e("status"),formatter:function(e){return function(e){var t=v()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"COMPLETED":return c.a.createElement(j.a,{text:t,variant:"success"});case"PENDING":return c.a.createElement(j.a,{text:t,variant:"warning"});case"FAILED":return c.a.createElement(j.a,{text:t,variant:"danger"});default:return}}(e)},headerStyle:{width:"13%"}},{dataField:"created",text:e("created"),type:"text",headerStyle:{width:"17%"}},{dataField:"account_number",text:e("accountNumber"),type:"text",headerStyle:{width:"10%"}},{dataField:"bank_code",text:e("bankCode"),type:"text",headerStyle:{width:"10%"}},{dataField:"external_id",text:e("externalId"),type:"text",headerStyle:{width:"15%"}},{dataField:"description",text:e("description"),type:"text",headerStyle:{width:"20%"}},{dataField:"amount",text:e("amount"),type:"text",headerStyle:{width:"10%"}}]},at=function(e){var t=e.statuses,a=e.onCheckedFilter,n=e.onCheckAllFilter,r=e.searchQuery,o=e.updateSearchQuery,i=e.startDate,l=e.endDate,u=e.updateDate,d=e.dateFormat,m=e.onClickLoadMore,p=e.withLoadMore,f=e.errorMessage,b=e.isLoading,E=e.isExporting,O=e.disbursementData,h=e.onExportReport,y=e.t,_={start:i,end:l,inputFormat:d.date_time_picker,outputFormat:q.a.GMT_MS_Z,onChange:u,customCss:"filter-item"},g={value:r,onChange:o,tooltip:y("searchBarTooltip"),placeholder:y("searchBarPlaceholder"),position:"inline",customCss:"filter-item"},v={isClickable:!1,tableHeaderColumns:tt(y),tableContentRows:O,withLoadMore:p,onClickLoadMore:m,loadMoreText:y("commonComponents:tableMore"),isLoading:b.transactions,isLoadingMore:b.refetch,isError:!Object(T.isEmpty)(f),isEmpty:Object(T.isEmpty)(O),loadingText:y("loadingText"),errorContent:c.a.createElement(s.t,{text:f}),emptyContent:c.a.createElement(s.r,{caption:y("emptyCaption"),subtitle:y("emptySubtitle")}),actionButtonConfig:Je(y)},C=function(e,t,a,n){var r="Status (".concat(e.length,")");return[c.a.createElement(s.q,{displayText:r,children:[c.a.createElement(s.w,{withCheckAll:!0,selectedFilters:e,onChecked:t,onCheckAll:a,filterGroups:$e(n)})]})]}(t,a,n,y),j=[c.a.createElement(B.a,{iconLeft:c.a.createElement(P.a,{icon:k.p}),onClick:h,isLoading:E,size:"sm"},"CSV")];return c.a.createElement(L.a,{stickyHeader:!0,filters:C,rightButtons:j,dateFilterConfig:_,searchBarConfig:g,tableConfig:v})};at.defaultProps={dateFormat:{date_time_picker:q.a.DD_MM_YY},isLoading:{transactions:!1,refetch:!1},statuses:[]};var nt=Object(i.a)(["disbursement","commonComponents"])(at),rt=(a(2120),Object(i.a)(["disbursement","commonComponents","errorMessages"])((function(e){var t=e.t,a=e.subAccountId,o=e.apiCall,i=o.axiosGet,l=o.axiosPost,u=e.user,d=e.dateFormat,m=e.environment,p=u.email,f=q.c.TODAY,h=q.c.LAST_1_MONTH,y=q.c.TIMEZONE,_=Object(r.useState)(et),g=Object(n.a)(_,2),v=g[0],C=g[1],j=Object(r.useState)(new Date(f)),A=Object(n.a)(j,2),x=A[0],N=A[1],D=Object(r.useState)(new Date(h)),S=Object(n.a)(D,2),R=S[0],I=S[1],M=Object(r.useState)(void 0),L=Object(n.a)(M,2),P=L[0],k=L[1],U=Object(r.useState)(void 0),B=Object(n.a)(U,2),H=B[0],Y=B[1],V=Object(r.useState)([]),G=Object(n.a)(V,2),W=G[0],z=G[1],Q=Object(r.useState)({transactions:!1,refetch:!1}),X=Object(n.a)(Q,2),Z=X[0],K=X[1],J=Object(r.useState)(!1),$=Object(n.a)(J,2),ee=$[0],te=$[1],ae=Object(r.useState)(""),ne=Object(n.a)(ae,2),re=ne[0],ce=ne[1],le=Object(r.useState)(!1),ue=Object(n.a)(le,2),de=ue[0],me=ue[1],pe=Object(r.useState)(!1),fe=Object(n.a)(pe,2),be=fe[0],Ee=fe[1],Oe=Object(r.useState)(null),he=Object(n.a)(Oe,2),Te=he[0],ye=he[1],_e=Object(r.useState)(null),ge=Object(n.a)(_e,2),ve=ge[0],Ce=ge[1],je=Object(r.useState)(!1),Ae=Object(n.a)(je,2),xe=Ae[0],Ne=Ae[1];Object(r.useEffect)((function(){Object(T.isEmpty)(v)?z([]):De({refetch:!1})}),[R,x,v]),Object(r.useEffect)((function(){Object(T.isEmpty)(v)||(clearTimeout(Te),ye(setTimeout((function(){!Object(T.isUndefined)(P)&&(P.length>2||0===P.length)&&De({refetch:!1})}),500)))}),[P]);var De=function(){var e=Object(O.a)(b.a.mark((function e(n){var r,c,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.refetch,c={"for-user-id":a},o={environment:m,statuses:v,from:Object(ie.e)(R,"start"),to:Object(ie.e)(x,"end"),last_id:r?H:void 0},P&&(o.search_query=P.trim(),delete o.from,delete o.to),ce(""),!r&&K((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!0})})),e.prev=6,e.next=9,i(Ke,o,c);case 9:if(!(s=e.sent).error_code){e.next=12;break}throw s;case 12:e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(6),K((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!1})})),s.error_code!==se.a.REQUEST_ABORTED){e.next=19;break}return e.abrupt("return");case 19:return ce(Object(ie.f)(e.t0.error_code,t)),e.abrupt("return");case 21:Se(s,r);case 22:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(e,t){var a=e.docs,n=e.has_next,r=function(e){return e.map((function(e){return{id:e.id,status:e.status,created:w()(e.created).format("DD MMM, YYYY hh:mm A"),external_id:e.external_id,account_number:e.account_number,bank_code:e.bank_code,description:e.disbursement_description,amount:Object(oe.d)(e.amount)}}))}(a),c=n?Object(T.last)(a).id:"",o=t?[].concat(Object(F.a)(W),Object(F.a)(r)):r;z(o),te(e.has_next),Y(c),K((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!1,refetch:!1})}))},Re=function(){var e=Object(O.a)(b.a.mark((function e(){var n,r,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!1),Ce(""),Ne(!0),n=w()().utcOffset(),r={statuses:v,from:Object(ie.e)(R,"start"),to:Object(ie.e)(x,"end"),user_offset:n},c={"for-user-id":a},P&&(r.search_query=P.trim()),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"export-disbursement-report",label:"Export CSV - Disbursements"}),e.prev=9,e.next=12,l(Ze,r,c);case 12:if(!(o=e.sent).error_code){e.next=15;break}throw o;case 15:e.next=23;break;case 17:return e.prev=17,e.t0=e.catch(9),Ne(!1),Ce(Object(ie.f)(e.t0.error_code,t)),me(!0),e.abrupt("return");case 23:Ne(!1),Ee(!0),me(!0);case 26:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"xp-disbursements-tab-container"},c.a.createElement(nt,{statuses:v,onCheckedFilter:function(e){var t=v.includes(e),a=Object(F.a)(v);t?a=a.filter((function(t){return t!==e})):a.push(e),C(a)},onCheckAllFilter:function(){var e=Object(T.isEmpty)(v)?et:[];C(e)},searchQuery:P,updateSearchQuery:function(e){e.preventDefault();var t=e.target.value;k(t)},startDate:R,endDate:x,updateDate:function(e,t){switch(k(""),e){case"start":I(new Date(w()(t).tz(y).format()));break;case"end":N(new Date(w()(t).tz(y).format()));break;default:return}},dateFormat:d,onClickLoadMore:function(){K((function(e){return Object(E.a)(Object(E.a)({},e),{},{refetch:!0})})),De({refetch:!0})},withLoadMore:ee,errorMessage:re,isLoading:Z,isExporting:xe,disbursementData:W,onExportReport:Re}),function(e){return e?c.a.createElement(s.j,{type:"success",handleClose:function(){me(!1)},title:t("commonComponents:exportStarted"),subtitle:t("commonComponents:exportSuccessInfo",{email:p}),showModal:de}):c.a.createElement(s.j,{type:"danger",title:t("exportFailed"),handleClose:function(){me(!1)},showModal:de,subtitle:ve})}(be))}))),ct=a(1643),ot=a.n(ct),it=a(480),st=a.n(it),lt=a(1585),ut=a.n(lt),dt=["COMPLETED","DETECTED"],mt="IDR",pt="/api/virtual_account_deposits",ft="/api/virtual_account_deposit_report_requests",bt="/api/virtual_account_deposit_international_currency_settings",Et=function(e){return{LOADING_TRANSACTIONS:e("loadingVirtualAccounts"),SEARCH_TOOLTIP:e("searchTooltip"),SEARCH_PLACEHOLDER:e("searchPlaceholder"),STATUS:e("status"),DETECTED_DATE:e("detectedDate"),VIRTUAL_ACCOUNT_NAME:e("virtualAccountName"),VIRTUAL_ACCOUNT_NUMBER:e("virtualAccountNumber"),BANK_CODE:e("bankCode"),EXTERNAL_ID:e("externalId"),AMOUNT:e("amount"),CURRENCY:e("currency"),EMPTY_FVA_SUBTITLE:e("emptyFVASubtitle"),EMPTY_FVA_CAPTION:e("emptyFVACaption"),DATE_CREATED:e("dateCreated")}},Ot=function(e){return{width:"5%",items:[{field:"external_id",text:e("commonWords:copyExternalID"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},ht=function(e){var t=v()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"DETECTED":case"COMPLETED":return c.a.createElement(j.a,{variant:"success",text:t});default:return c.a.createElement(j.a,{text:t})}},Tt=function(e){return{xendit:{DATE:Et(e).DETECTED_DATE},instamoney:{DATE:Et(e).DATE_CREATED}}},yt=function(e,t,a){return[{dataField:"status",text:Et(t).STATUS,formatter:ht},{dataField:"created",text:Tt(t)[a].DATE,type:"text"},{dataField:"name",text:Et(t).VIRTUAL_ACCOUNT_NAME,type:"text"},{dataField:"account_number",text:Et(t).VIRTUAL_ACCOUNT_NUMBER,type:"text"},{dataField:"bank_code",text:Et(t).BANK_CODE,type:"text"},{dataField:"external_id",text:Et(t).EXTERNAL_ID,type:"text"},{dataField:"amount",text:"".concat(Et(t).AMOUNT," (").concat(e||"IDR",")"),type:"text"}]},_t=function(e,t,a){return e.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{created:w()(e.created).format(q.a.FULL_DATE),account_number:"".concat(e.merchant_code," ").concat(e.account_number),amount:a(e.amount,t)})}))},gt=a(478),vt=a.n(gt),Ct=function(e){var t=e.currency,a=e.onChange,n=e.t;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"xendit-filter-group-divider"}),c.a.createElement("div",{className:"fva-filter-currency"},c.a.createElement("p",null,n("currency")),c.a.createElement(vt.a,{options:[{label:"IDR",value:"IDR"},{label:"USD",value:"USD"}],value:t,onChange:function(e){a(e.target.value)},customCss:"radio-container"})))},jt=(a(2121),q.c.TODAY),At=q.c.LAST_1_MONTH,xt=Object(o.o)(Object(i.a)(["fixedVirtualAccounts","errorMessages","commonComponents","commonWords"])((function(e){var t=e.t,a=e.apiCall,o=a.axiosGet,i=a.axiosPost,l=e.environment,u=e.user.email,d=e.dateFormat,m=e.entity,p=e.subAccountId,f=m===Z.a.XENDIT,h=Object(r.useState)([]),T=Object(n.a)(h,2),y=T[0],_=T[1],g=Object(r.useState)(""),v=Object(n.a)(g,2),C=v[0],j=v[1],A=Object(r.useState)(void 0),x=Object(n.a)(A,2),N=x[0],D=x[1],S=Object(r.useState)(dt),R=Object(n.a)(S,2),I=R[0],M=R[1],U=Object(r.useState)(mt),H=Object(n.a)(U,2),Y=H[0],V=H[1],G=Object(r.useState)(!1),W=Object(n.a)(G,2),z=W[0],Q=W[1],X=Object(r.useState)(new Date(At)),K=Object(n.a)(X,2),J=K[0],$=K[1],ee=Object(r.useState)(new Date(jt)),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)({transactions:!1,refetch:!1}),le=Object(n.a)(re,2),ue=le[0],de=le[1],me=Object(r.useState)(""),pe=Object(n.a)(me,2),fe=pe[0],be=pe[1],Ee=Object(r.useState)(!1),Oe=Object(n.a)(Ee,2),he=Oe[0],Te=Oe[1],ye=Object(r.useState)(!1),_e=Object(n.a)(ye,2),ge=_e[0],ve=_e[1],Ce=Object(r.useState)(!1),je=Object(n.a)(Ce,2),xe=je[0],Ne=je[1],De=Object(r.useState)(!1),Se=Object(n.a)(De,2),Re=Se[0],Fe=Se[1],Ie=Object(r.useState)(""),we=Object(n.a)(Ie,2),Me=we[0],Le=we[1],Pe=Object(r.useState)(null),ke=Object(n.a)(Pe,2),Ue=ke[0],Be=ke[1];Object(r.useEffect)((function(){f&&Ye()}),[l]),Object(r.useEffect)((function(){Ae()(I)?_([]):He(N,I,Y,J,ae)}),[I,Y,J,ae]),Object(r.useEffect)((function(){Ae()(I)||(clearTimeout(Ue),Be(setTimeout((function(){!st()(N)&&(N.length>2||0===N.length)&&He(N,I,Y,J,ae)}),500)))}),[N]);var He=function(){var e=Object(O.a)(b.a.mark((function e(a,n,r,c,i){var s,l,u,d,m,f,O,h=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>5&&void 0!==h[5]&&h[5],l={"for-user-id":p},u={from:Object(ce.c)(c,"start"),to:Object(ce.c)(i,"end"),statuses:n||dt,currency:r||mt,last_id:s?C:void 0},a&&(u.search_query=a.trim(),delete u.from,delete u.to),be(""),!s&&de((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!0})})),e.prev=6,e.next=9,o(pt,u,l);case 9:if(!(d=e.sent).error_code){e.next=12;break}throw d;case 12:e.next=22;break;case 14:if(e.prev=14,e.t0=e.catch(6),e.t0.error_code!==se.a.REQUEST_ABORTED){e.next=19;break}return e.abrupt("return");case 19:return be(Object(ie.f)(e.t0.error_code,t)),de((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!1})})),e.abrupt("return");case 22:m=d.has_next,f=m?ot()(d.docs).id:"",O=s?[].concat(Object(F.a)(y),Object(F.a)(d.docs)):d.docs,j(f),Te(m),_(O),s&&de((function(e){return Object(E.a)(Object(E.a)({},e),{},{refetch:!1})})),de((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!1})}));case 30:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(bt);case 2:t=e.sent,Q(t.can_use_international_va);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(O.a)(b.a.mark((function e(){var a,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne(!0),Le(""),!(0===y.length)){e.next=6;break}return Ge(t("exportEmptyTransactions")),e.abrupt("return");case 6:return a={"for-user-id":p},n={statuses:I,from:Object(ce.c)(J,"start"),to:Object(ce.c)(ae,"end"),user_offset:w()().utcOffset(),currency:Y},e.next=10,i(ft,n,{},a);case 10:if(!(r=e.sent).error_code){e.next=15;break}return c=Object(ie.f)(r.error_code,t,{action:ut()(t("commonWords:export"))}),Ge(c),e.abrupt("return");case 15:Ne(!1),Fe(!0),ve(!0),We();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(e){Fe(!1),Ne(!1),Le(e),ve(!0)},We=function(){window.dataLayer.push({event:"export-fva-report",label:"Export CSV - Fixed Virtual Accounts"})},ze={start:J,end:ae,inputFormat:d.date_time_picker,outputFormat:q.a.GMT_MS_Z,onChange:function(e,t){switch(D(""),e){case"start":$(new Date(t));break;case"end":ne(new Date(t))}},customCss:"filter-item"},Qe={value:N,onChange:function(e){e.preventDefault(),D(e.target.value)},tooltip:Et(t).SEARCH_TOOLTIP,placeholder:Et(t).SEARCH_PLACEHOLDER,position:"inline",customCss:"filter-item"},Xe=function(e,t,a,n,r,o){var i=[c.a.createElement(s.w,{selectedFilters:e,onChecked:a,filterGroups:[{title:"Status",children:[{type:"COMPLETED",label:"Completed"},{type:"DETECTED",label:"Detected"}]}],withGrouping:r,withCheckAll:!r,onCheckAll:n})],l="Status (".concat(e.length,")");return r&&(l="Filter",i.push(c.a.createElement(Ct,{currency:t,onChange:a,t:o}))),[c.a.createElement(s.q,{displayText:l,children:i})]}(I,Y,(function(e){dt.includes(e)?function(e){var t=Object(F.a)(I);I.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),M(t)}(e):function(e){V(e)}(e)}),(function(){var e=Ae()(I)?dt:[];M(e)}),z,t),qe=function(e,t){return[c.a.createElement(B.a,{iconLeft:c.a.createElement(P.a,{icon:k.p}),onClick:e,isLoading:t,size:"sm"},"CSV")]}(Ve,xe),Ze={isClickable:!1,tableHeaderColumns:yt(Y,t,m),tableContentRows:_t(y,Y,oe.d),onClickLoadMore:function(){de((function(e){return Object(E.a)(Object(E.a)({},e),{},{refetch:!0})})),He(N,I,Y,J,ae,!0)},withLoadMore:he,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:ue.refetch,isLoading:ue.transactions,isError:!Ae()(fe),isEmpty:Ae()(y),loadingText:Et(t).LOADING_TRANSACTIONS,errorContent:c.a.createElement(s.t,{text:fe}),emptyContent:c.a.createElement(s.r,{caption:Et(t).EMPTY_FVA_CAPTION,subtitle:Et(t).EMPTY_FVA_SUBTITLE}),actionButtonConfig:Ot(t)};return c.a.createElement("div",{className:"xp-va-tab-container"},c.a.createElement(L.a,{filters:Xe,stickyHeader:!0,rightButtons:qe,dateFilterConfig:ze,tableConfig:Ze,searchBarConfig:Qe}),function(e){return e?c.a.createElement(s.j,{type:"success",handleClose:function(){ve(!1)},title:t("commonComponents:exportStarted"),subtitle:t("commonComponents:exportSuccessInfo",{email:u}),showModal:ge}):c.a.createElement(s.j,{type:"danger",title:t("exportFailed"),handleClose:function(){ve(!1)},showModal:ge,subtitle:Me})}(Re))}))),Nt=a(108),Dt=a.n(Nt),St=a(231),Rt=["COMPLETED","DETECTED"],Ft=["ALFAMART","INDOMARET"],It="/api/fixed-payment-code-deposits/",wt="/api/fixed-payment-code-deposits-report-requests/",Mt=function(e,t){return{xendit:[{title:e("channel"),children:[{type:"ALFAMART",label:"Alfamart"},{type:"INDOMARET",label:"Indomaret"}]},{title:e("status"),children:[{type:"COMPLETED",label:e("settled")},{type:"DETECTED",label:e("paid")}]}],instamoney:[{children:[{type:"COMPLETED",label:e("settled")},{type:"DETECTED",label:e("paid")}]}]}[t]},Lt={COMPLETED:"SETTLED",DETECTED:"PAID"},Pt=function(e){switch(e){case"COMPLETED":case"DETECTED":return c.a.createElement(j.a,{variant:"success",text:v()(Lt[e].toLowerCase())});default:return c.a.createElement(j.a,{text:v()(e.toLowerCase())})}},kt=function(e){return c.a.createElement(St.a,{height:20,src:"/images/".concat(e.toLowerCase(),"-logo.svg")})},Ut=function(e,t){var a=[{dataField:"status",formatter:Pt,headerStyle:{width:"13%"},text:e("status")},{dataField:"retail_outlet_name",formatter:kt,headerStyle:{width:"10%"},text:e("channel")},{dataField:"payment_code",type:"text",headerStyle:{width:"15%"},text:e("paymentCode")},{dataField:"name",type:"text",headerStyle:{width:"15%"},text:e("name")},{dataField:"amount",formatter:function(e){return Object(oe.b)(e,"IDR")},headerStyle:{width:"15%"},text:e("amount")},{dataField:"external_id",type:"text",headerStyle:{width:"12%"},text:e("reference")},{dataField:"created",formatter:function(e){return w()(e).format(q.a.TABLE_DT_FORMAT)},headerStyle:{width:"20%"},text:e("paymentDate")}];return t===Z.a.INSTAMONEY&&a.splice(1,1),a},Bt=a(468),Ht=(a(2122),q.c.TODAY),Yt=q.c.LAST_1_MONTH,Vt=q.c.TIMEZONE,Gt=Object(o.o)(Object(i.a)(["retailOutlets","errorMessages","commonComponents"])((function(e){var t=e.t,a=e.apiCall,o=a.axiosGet,i=a.axiosPost,l=e.environment,u=e.user.email,d=e.business,m=e.dateFormat,p=e.entity,f=e.subAccountId,h=Object(r.useState)([]),y=Object(n.a)(h,2),_=y[0],g=y[1],v=Object(r.useState)(""),C=Object(n.a)(v,2),j=C[0],A=C[1],x=Object(r.useState)(void 0),N=Object(n.a)(x,2),D=N[0],S=N[1],R=Object(r.useState)(Rt),I=Object(n.a)(R,2),w=I[0],M=I[1],U=Object(r.useState)(Ft),H=Object(n.a)(U,2),Y=H[0],V=H[1],G=Object(r.useState)(new Date(Yt)),W=Object(n.a)(G,2),z=W[0],Q=W[1],X=Object(r.useState)(new Date(Ht)),K=Object(n.a)(X,2),J=K[0],$=K[1],ee=Object(r.useState)({transactions:!1,refetch:!1}),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(""),oe=Object(n.a)(re,2),ie=oe[0],se=oe[1],le=Object(r.useState)(!1),ue=Object(n.a)(le,2),de=ue[0],me=ue[1],pe=Object(r.useState)(!1),fe=Object(n.a)(pe,2),be=fe[0],Ee=fe[1],Oe=Object(r.useState)(null),he=Object(n.a)(Oe,2),Te=he[0],ye=he[1],_e=Object(r.useState)(!1),ge=Object(n.a)(_e,2),ve=ge[0],Ce=ge[1],je=Object(r.useState)(!1),Ae=Object(n.a)(je,2),xe=Ae[0],Ne=Ae[1],De=Object(r.useState)(""),Se=Object(n.a)(De,2),Re=Se[0],Fe=Se[1];Object(r.useEffect)((function(){Object(T.isEmpty)(Y)||Object(T.isEmpty)(w)?g([]):Ie()}),[w,Y,z,J,l]),Object(r.useEffect)((function(){Object(T.isEmpty)(Y)||Object(T.isEmpty)(w)||(clearTimeout(Te),ye(setTimeout((function(){!Object(T.isUndefined)(D)&&(D.length>2||0===D.length)&&Ie()}),500)))}),[D]);var Ie=function(){var e=Object(O.a)(b.a.mark((function e(){var a,n,r,c,i,s,l,u=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>0&&void 0!==u[0]&&u[0],n={"for-user-id":f},r={from:Object(ce.c)(z,"start"),to:Object(ce.c)(J,"end"),statuses:w||Rt,last_id:a?j:void 0,retail_outlet_name:Y.length===Ft.length?void 0:Y.toString()},D&&(r.search_query=D.trim(),delete r.from,delete r.to),se(""),!a&&ne((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!0})})),e.prev=6,e.next=9,o(It,r,n);case 9:if(!(c=e.sent).error_code){e.next=12;break}throw c;case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(6),se(Object(Bt.a)(e.t0.error_code,t)),ne((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!1})})),e.abrupt("return");case 19:i=c.has_next,s=i?Object(T.last)(c.docs).id:"",l=a?[].concat(Object(F.a)(_),Object(F.a)(c.docs)):c.docs,A(s),me(i),g(l),a&&ne((function(e){return Object(E.a)(Object(E.a)({},e),{},{refetch:!1})})),ne((function(e){return Object(E.a)(Object(E.a)({},e),{},{transactions:!1})}));case 27:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}(),we=function(e,t){var a=Object(F.a)(e);return e.includes(t)?a=a.filter((function(e){return e!==t})):a.push(t),a},Me=function(){var e=Object(O.a)(b.a.mark((function e(){var a,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce(!0),Fe(""),Ne(!1),a=Dt()().utcOffset(),n={"for-user-id":f},r={statuses:w||Rt,from:Object(ce.c)(z,"start"),to:Object(ce.c)(J,"end"),user_offset:a},D&&(r.search_query=D.trim()),window.dataLayer=window.dataLayer||[],window.dataLayer.push({businessId:d.id,event:"export-ro-report",label:"Export CSV - Retail Outlet"}),e.next=11,i(wt,r,{},n);case 11:if(c=e.sent,Ce(!1),!c.error_code){e.next=16;break}return Fe(Object(Bt.a)(c.error_code,t)),e.abrupt("return");case 16:Ne(!0),Ee(!0);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le={value:D,onChange:function(e){e.preventDefault(),S(e.target.value)},tooltip:t("searchTooltip"),placeholder:t("searchPlaceholder"),position:"inline",customCss:"filter-item"},Pe={start:z,end:J,inputFormat:m.date_time_picker,outputFormat:q.a.GMT_MS_Z,onChange:function(e,t){switch(e){case"start":Q(new Date(Dt()(t).tz(Vt).format()));break;case"end":$(new Date(Dt()(t).tz(Vt).format()))}},customCss:"filter-item"},ke={isClickable:!1,tableHeaderColumns:Ut(t,p),tableContentRows:_,onClickLoadMore:function(){ne((function(e){return Object(E.a)(Object(E.a)({},e),{},{refetch:!0})})),Ie(!0)},withLoadMore:de,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:ae.refetch,isLoading:ae.transactions,isError:!Object(T.isEmpty)(ie),isEmpty:Object(T.isEmpty)(_),loadingText:t("loadingROData"),errorContent:c.a.createElement(s.t,{text:ie}),emptyContent:c.a.createElement(s.r,{caption:t("emptyROData"),subtitle:t("tryAdjustFilter")})},Ue=function(e){var t=e.statuses,a=e.channels,n=e.onSelectFilter,r=e.t,o=e.onCheckAll,i=e.entity,l={xendit:{filterItems:[].concat(Object(F.a)(t),Object(F.a)(a)),displayText:"filter"},instamoney:{filterItems:Object(F.a)(t),displayText:"status"}},u=l[i].filterItems.length,d=c.a.createElement(s.w,{selectedFilters:l[i].filterItems,onChecked:n,filterGroups:Mt(r,i),withGrouping:!0,withCheckAll:!0,onCheckAll:o});return[c.a.createElement(s.q,{displayText:"".concat(r(l[i].displayText)," (").concat(u,")"),children:[d]})]}({statuses:w,channels:Y,onSelectFilter:function(e){if(Ft.includes(e)){var t=we(Y,e);V(t)}else{var a=we(w,e);M(a)}},t:t,onCheckAll:function(){var e=[].concat(Object(F.a)(Y),Object(F.a)(w)),t=Object(T.isEmpty)(e)?Ft:[],a=Object(T.isEmpty)(e)?Rt:[];V(t),M(a)},entity:p}),Be=p===Z.a.INSTAMONEY?[c.a.createElement(B.a,{iconLeft:c.a.createElement(P.a,{icon:k.p}),onClick:Me,isLoading:ve,size:"sm"},"CSV")]:[];return c.a.createElement("div",{className:"xp-retail-tab-container"},c.a.createElement(L.a,{filters:Ue,stickyHeader:!0,searchBarConfig:Le,dateFilterConfig:Pe,tableConfig:ke,rightButtons:Be}),function(e){return e?c.a.createElement(s.j,{type:"success",handleClose:function(){Ee(!1)},title:t("commonComponents:exportStarted"),subtitle:t("commonComponents:exportSuccessInfo",{email:u}),showModal:be}):c.a.createElement(s.j,{type:"danger",title:t("exportFailed"),handleClose:function(){Ee(!1)},showModal:be,subtitle:Re})}(xe))}))),Wt=function(e){var t=v()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"SETTLED":case"COMPLETED":return c.a.createElement(j.a,{variant:"success",text:"Settled"});case"PAID":case"HOLDING":return c.a.createElement(j.a,{variant:"success",text:"Paid"});case"PENDING":return c.a.createElement(j.a,{variant:"warning",text:t});case"FAILED":return c.a.createElement(j.a,{variant:"danger",text:t});default:return c.a.createElement(j.a,{text:t})}},zt=function(e){return e?w()(e).format(q.a.FULL_DATE):"-"},Qt=function(e){return Object(oe.d)(e)},Xt=function(e,t){return[{dataField:"status",text:e("status"),formatter:Wt,headerStyle:{width:"15%"}},{text:e("ewalletType"),formatter:function(){return function(e){return c.a.createElement(St.a,{height:20,src:"/images/".concat(e.toLowerCase(),"-logo.svg")})}(t)},headerStyle:{width:"13%"}},{dataField:"account_information",text:e("accountNumber"),type:"text",headerStyle:{width:"15%"}},{dataField:"amount",text:e("amount"),type:"text",formatter:Qt,headerStyle:{width:"15%"}},{dataField:"external_id",text:e("reference"),type:"text",headerStyle:{width:"15%"}},{dataField:"created_at",text:e("dateCreated"),type:"text",formatter:zt,headerStyle:{width:"20%"}}]},qt=function(e,t){switch(e){case"OVO":return[{children:[{type:"COMPLETED",label:t("settled")},{type:"HOLDING",label:t("paid")},{type:"PENDING",label:t("pending")},{type:"FAILED",label:t("failed")}]}];default:return[]}},Zt=q.c.TODAY,Kt=q.c.LAST_1_MONTH,Jt={EWALLETS_PAYMENTS:{OVO:"/api/ovo_ewallet_payments"},OVO_MERCHANT_SETTINGS:"/api/ewallet/ovo_merchant_settings"},$t=function(e){return[{title:"OVO"},{title:"DANA",disabled:!0,disabledText:e("comingSoon")},{title:"LinkAja",disabled:!0,disabledText:e("comingSoon")}]},ea={OVO:["COMPLETED","HOLDING","PENDING","FAILED"]},ta=function(e){return{width:"7%",items:[{field:"external_id",text:e("commonWords:copyReference"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},aa={payments:[],hasNext:!0,isFetching:!1,isLoadingMore:!1,lastId:void 0,errorMessage:"",dateFrom:new Date(Kt),dateTo:new Date(Zt),isUpdatingFilter:!1,statuses:ea.OVO,searchDelay:{},searchQuery:""},na=(a(2123),function(e){var t=e.t,a=e.onLoadMore,n=e.ovoEwalletsData,r=e.ovoEwalletConfig,o=e.history,i=e.dateFormat,l=e.updateDate,u=e.updateFilters,d=e.onCheckAllFilters,m=e.updateSearchQuery,p=n.payments,f=n.hasNext,b=n.isFetching,E=n.isLoadingMore,O=n.errorMessage,h=n.dateFrom,y=n.dateTo,_=n.statuses,g=n.searchQuery,v=r.isOVOActivated,C=r.isError,j=r.isLoading,A=!j&&v,x=c.a.createElement(s.r,{caption:t("emptyOVOPaymentCaption"),subtitle:t("emptyOVOPaymentSubtitle")}),N=c.a.createElement("div",{className:"ovo-inactive-content"},c.a.createElement(s.r,{caption:t("ovoNotActive")},c.a.createElement(B.a,{customCss:"mt-4",onClick:function(){o.push("/settings/payment-methods#e-wallets")}},t("activateOVO")))),D=c.a.createElement(s.t,{text:C?t("errorFetchingEwalletConfig"):O}),S=function(e,t,a,n,r){var o=c.a.createElement(s.w,{selectedFilters:e,onChecked:function(e){t(r,e)},filterGroups:qt(r,n),onCheckAll:function(){a(r)},withCheckAll:!0}),i=e.length;return[c.a.createElement(s.q,{displayText:"".concat(n("statuses")," (").concat(i,")"),children:[o]})]}(_,u,d,t,"OVO"),R={value:g,onChange:function(e){m("OVO",e)},placeholder:t("ovoSearchBarPlaceholder"),position:"inline",customCss:"filter-item"},F={start:h,end:y,inputFormat:i.date_time_picker,outputFormat:q.a.GMT_MS_Z,onChange:function(e,t){l("OVO",e,t)},customCss:"filter-item"},I={isClickable:!1,tableHeaderColumns:Xt(t,"OVO"),tableContentRows:p,onClickLoadMore:a,withLoadMore:f,loadMoreText:t("commonComponents:tableMore"),isLoadingMore:E,isLoading:j||b||Object(T.isUndefined)(v),isError:!Object(T.isEmpty)(O)||C,isEmpty:!A||Object(T.isEmpty)(p),loadingText:t("loadingOVOPayments"),errorContent:D,emptyContent:A?x:N,actionButtonConfig:ta(t),rowClasses:"table-row-vertical-align-middle"};return c.a.createElement(L.a,{filters:S,stickyHeader:!0,tableConfig:I,dateFilterConfig:F,searchBarConfig:R})});na.defaultProps={ovoEwalletsData:{payments:[],hasNext:!0,isFetching:!1,isLoadingMore:!1,errorMessage:"",statuses:[]},ovoEwalletConfig:{isOVOActivated:!1,isError:!1,isLoading:!1},dateFormat:{}};var ra=Object(i.a)(["ewallets","commonComponents","commonWords"])(na),ca=Object(o.o)(Object(i.a)(["ewallets","errorMessages"])((function(e){var t=e.t,a=e.history,o=e.apiCall.axiosGet,i=(e.entity,e.dateFormat),l=e.subAccountId,d=q.c.TIMEZONE,m=Object(r.useState)(0),p=Object(n.a)(m,2),f=p[0],h=p[1],y=Object(r.useState)(!1),_=Object(n.a)(y,2),g=_[0],v=_[1],C=Object(r.useState)({isLoading:!1,isError:!1}),j=Object(n.a)(C,2),A=j[0],x=j[1],N=Object(r.useState)(aa),D=Object(n.a)(N,2),S=D[0],R=D[1];Object(r.useEffect)((function(){g&&v(!1)}),[g]),Object(r.useEffect)((function(){I("OVO")}),[A.isOVOActivated]),Object(r.useEffect)((function(){S.isUpdatingFilter&&M("OVO"),L("OVO",{isUpdatingFilter:!1})}),[S.dateTo,S.dateFrom]),Object(r.useEffect)((function(){var e=S.isUpdatingFilter,t=S.statusFilterDelay;clearTimeout(t),L("OVO",{statusFilterDelay:setTimeout((function(){e&&M("OVO"),L("OVO",{isUpdatingFilter:!1})}),200)})}),[S.statuses]),Object(r.useEffect)((function(){var e=S.searchDelay,t=S.searchQuery,a=S.isUpdatingFilter;clearTimeout(e),L("OVO",{searchDelay:setTimeout((function(){a&&!Object(T.isUndefined)(t)&&(t.length>2||0===t.length)&&M("OVO"),L("OVO",{isUpdatingFilter:!1})}),400)})}),[S.searchQuery]);var I=function(){var e=Object(O.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(t,{isLoading:!0}),a=A.isOVOActivated,e.t0=Object(T.isUndefined)(a),!e.t0){e.next=6;break}return e.next=6,w();case 6:if(!a){e.next=11;break}return e.next=9,M(t);case 9:e.next=12;break;case 11:!Object(T.isUndefined)(a)&&L(t,{isFetching:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={"for-user-id":l},x((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0,isError:!1})})),L("OVO",{isFetching:!0}),e.next=5,o(Jt.OVO_MERCHANT_SETTINGS,{},t);case 5:if(!(a=e.sent).error_code){e.next=10;break}return n="MERCHANT_NOT_VALID_ERROR"===a.error_code,x((function(e){return Object(E.a)(Object(E.a)({},e),{},{isOVOActivated:!1,isError:!n,isLoading:!1})})),e.abrupt("return");case 10:x((function(e){return Object(E.a)(Object(E.a)({},e),{},{isOVOActivated:!0,isLoading:!1})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(O.a)(b.a.mark((function e(a){var n,r,c,i,s,u,d,m,p,f,E,O,h,y,_,g,v=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>1&&void 0!==v[1]&&v[1],r=P(a),c=r.lastId,i=r.payments,s=r.dateFrom,u=r.dateTo,d=r.searchQuery,m=r.statuses,L(a,{isFetching:!n,isLoadingMore:n,errorMessage:""}),e.prev=3,p={"for-user-id":l},f={from:Object(ie.e)(s,"start"),to:Object(ie.e)(u,"end"),statuses:m,last_id:n?c:void 0},d&&(delete f.from,delete f.to,f.search_query=d),e.next=9,o(Jt.EWALLETS_PAYMENTS[a],f,p);case 9:if(!(E=e.sent).error_code){e.next=12;break}throw E;case 12:O=E.payments,h=E.has_next,y=n?[].concat(Object(F.a)(i),Object(F.a)(O)):O,_=O.length>0&&Object(T.last)(O).id,L(a,{payments:y,lastId:_,hasNext:h,isFetching:!1,isLoadingMore:!1}),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),g={errorMessage:Object(ie.f)(e.t0.error_code,t),isFetching:!1,isLoadingMore:!1},"PAYMENT_NOT_FOUND_ERROR"===e.t0.error_code&&(g={payments:[],lastId:void 0,hasNext:!0,isFetching:!1,isLoadingMore:!1}),L(a,g);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t){switch(e){case"OVO":R((function(e){return Object(E.a)(Object(E.a)({},e),t)}))}},P=function(e){switch(e){case"OVO":return S;default:return}},k=c.a.createElement(ra,{onLoadMore:function(){M("OVO",!0)},ovoEwalletsData:S,ovoEwalletConfig:A,history:a,dateFormat:i,updateDate:function(e,t,a){switch(t){case"start":L(e,{dateFrom:new Date(Dt()(a).tz(d).format())});break;case"end":L(e,{dateTo:new Date(Dt()(a).tz(d).format())});break;default:return}L(e,{isUpdatingFilter:!0})},updateFilters:function(e,t){var a=P(e).statuses,n=a.includes(t),r=Object(F.a)(a);n?r=r.filter((function(e){return e!==t})):r.push(t),L(e,{statuses:r,isUpdatingFilter:!0})},onCheckAllFilters:function(e){var t=P(e).statuses;L(e,{statuses:Object(T.isEmpty)(t)?ea[e]:[],isUpdatingFilter:!0})},updateSearchQuery:function(e,t){t.preventDefault(),L(e,{searchQuery:t.target.value,isUpdatingFilter:!0})}});return c.a.createElement("div",{className:"xp-ewallet-tab-container"},c.a.createElement(s.z,{customBodyCss:"px-4 py-3",customCss:"xp-ewallet-tab-switcher-card"},c.a.createElement(u.a,{tabs:$t(t),activeTab:f,changeActiveTab:function(e){h(e),v(!0)}})),function(e){switch(e){case 0:return k;default:return}}(f))}))),oa=a(54),ia=a(191),sa=a(297),la=a(212),ua=q.c.TODAY,da=function(e){return[{title:e("balanceHistory")},{title:e("pending")}]},ma={errorMessage:"",isFetching:!1,balance:0,ledger_id:""},pa={GET_BALANCE_V4:"/api/balances_v4",GET_BALANCE_HISTORY:"/api/balance_history_v4",GET_UPCOMING_TRANSACTIONS:"/api/upcoming_transactions_v4",GET_UPCOMING_TRANSACTIONS_SUMMARY:"/api/upcoming_transactions_v4_summary",BALANCE_HISTORY_REPORT:"/api/balance_history_v4_report",UPCOMING_TRANSACTIONS_REPORT:"/api/upcoming_transactions_v4_report"},fa="BALANCE_HISTORY",ba="UPCOMING_TRANSACTIONS",Ea={BALANCE_HISTORY:{history:[],isFetching:!0,isExporting:!1,activePage:1,errorMessage:"",dateFrom:new Date(q.c.LAST_1_MONTH),dateTo:new Date(q.c.TODAY),isUpdatingFilter:!1,searchDelay:{},searchQuery:"",transactionTypes:[],appliedTransactionTypes:[]},UPCOMING_TRANSACTIONS:{transactions:[],isFetching:!0,isExporting:!1,activePage:1,errorMessage:"",dateFrom:new Date(q.c.LAST_1_MONTH),dateTo:new Date(q.c.TODAY),isUpdatingFilter:!1,searchDelay:{},searchQuery:"",transactionTypes:[],appliedTransactionTypes:[],isFetchingSummary:!0,summaryErrorMessage:"",summary:{incoming:{amount:0,count:0},outgoing:{amount:0,count:0},currency:""}}},Oa={title:"",subtitle:"",type:"",showModal:!1},ha=Object(R.a)({},fa,["CARD","DIRECT_DEBIT","INVOICE","RETAIL_OUTLET","EWALLET","PAYLATER_PAYMENT","DISBURSEMENT","WITHDRAWAL","REFUND","TOPUP","OTHER"]),Ta=Object(R.a)({},fa,{CARD:["CREDIT_CARD_PAYMENT"],DIRECT_DEBIT:["DIRECT_DEBIT_PAYMENT"],RETAIL_OUTLET:["RO_PAYMENT"],EWALLET:["EWALLET_PAYMENT"],INVOICE:["INVOICE"],PAYLATER_PAYMENT:["PAYLATER_PAYMENT"],DISBURSEMENT:["DISBURSEMENT","CASH_DISBURSEMENT","BATCH_DISBURSEMENT"],WITHDRAWAL:["WITHDRAWAL"],REFUND:["CREDIT_CARD_PAYMENT_REFUND","PLATFORM_FEE_REFUND","PLATFORM_FEE_REFUND_IN","PLATFORM_FEE_REFUND_OUT"],TOPUP:["DEPOSIT","FOREX_DEPOSIT"],OTHER:["BILL_PAYMENT","BILLING_DEPOSIT","BILLING_WITHDRAWAL","XP_TRANSFER","XP_TRANSFER_IN","XP_TRANSFER_OUT","LOAN_REPAYMENT","LOAN_REPAYMENT_TRANSFER_IN","LOAN_REPAYMENT_TRANSFER_OUT","LOAN_TOPUP_TRANSFER_IN","LOAN_TOPUP_TRANSFER_OUT","BALANCE_TRANSFER_IN","BALANCE_TRANSFER_OUT","PLATFORM_FEE","PLATFORM_FEE_IN","PLATFORM_FEE_OUT","CHARGEBACK_DEDUCTION","FOREX_DEDUCTION","TAX_DISBURSEMENT"]}),ya={CREDIT_CARD_PAYMENT:"Card",DIRECT_DEBIT_PAYMENT:"Direct Debit",VA_PAYMENT:"Virtual Account",RO_PAYMENT:"Retail Outlet",QR_CODE_PAYMENT:"QR Code",CARDLESS_CREDIT_PAYMENT:"Cardless Credit",EWALLET_PAYMENT:"eWallet",INVOICE:"Invoice",DISBURSEMENT:"Disbursement",CASH_DISBURSEMENT:"Cash Disbursement",BATCH_DISBURSEMENT:"Batch Disbursement",WITHDRAWAL:"Withdrawal",CREDIT_CARD_PAYMENT_REFUND:"Card Refund",DEPOSIT:"Top Up",VIRTUAL_ACCOUNT_DEPOSIT:"Virtual Account Top Up",BILL_PAYMENT:"Bill Payment",VA_BILL_PAYMENT:"Virtual Account Bill Payment",BILLING_DEPOSIT:"Balance to Billing Wallet",BILLING_WITHDRAWAL:"Billing Wallet to Balance",LEGACY_XP_DISBURSEMENT:"xenPlatform Disbursement",CHARGEBACK_DEDUCTION:"Chargeback Deduction",TAX_REFUNDED:"Tax Refund",XP_TRANSFER:"xenPlatform Transfer",XP_TRANSFER_IN:"xenPlatform Transfer In",XP_TRANSFER_OUT:"xenPlatform Transfer Out",LOAN_REPAYMENT:"Loan Repayment",LOAN_REPAYMENT_TRANSFER_IN:"Loan Repayment",LOAN_REPAYMENT_TRANSFER_OUT:"Loan Repayment",LOAN_TOPUP_TRANSFER_IN:"Loan Top Up",LOAN_TOPUP_TRANSFER_OUT:"Loan Top Up",BALANCE_TRANSFER_IN:"Balance Transfer",BALANCE_TRANSFER_OUT:"Balance Transfer",FOREX_DEPOSIT:"Forex Top Up",FOREX_DEDUCTION:"Forex Deduction",PLATFORM_FEE:"Platform Fee",PLATFORM_FEE_REFUND:"Platform Fee Refund",PLATFORM_FEE_IN:"Platform Fee In",PLATFORM_FEE_OUT:"Platform Fee Out",PLATFORM_FEE_REFUND_IN:"Platform Fee Refund In",PLATFORM_FEE_REFUND_OUT:"Platform Fee Refund Out",TAX_DISBURSEMENT:"Tax Disbursement",PAYLATER_PAYMENT:"Payater"},_a=["CREDIT_CARD_PAYMENT","DIRECT_DEBIT_PAYMENT","VA_PAYMENT","RO_PAYMENT","QR_CODE_PAYMENT","CARDLESS_CREDIT_PAYMENT","EWALLET_PAYMENT"],ga={CARD:"CARDS",DIRECT_DEBIT:"DIRECT_DEBIT",INVOICE:"INVOICE",VIRTUAL_ACCOUNT:"VIRTUAL_ACCOUNT",RETAIL_OUTLET:"RETAIL_OUTLET",QR_CODE:"QR_CODE",CARDLESS_CREDIT:"CARDLESS_CREDIT",EWALLET:"EWALLET",PAYLATER_PAYMENT:"PAYLATER"},va={DISBURSEMENT:"DISBURSEMENT",WITHDRAWAL:"WITHDRAWAL",REFUND:"REFUND",TOPUP:"TOPUP",OTHER:"OTHER"},Ca=function(e,t){var a=new Date(ua),n=new Date(ua);return a.setHours(0,0,0,0),{isExporting:!1,isModalOpen:!1,dateStart:a,dateEnd:n,inputFormat:e.date_time_picker,outputFormat:q.a.GMT_MS_Z,emails:[t.email],emailErrorMessage:""}},ja=function(e){return{label:e("balance:custom"),value:"custom"}},Aa=function(e,t,a){var n=e>=0,r=Object(oe.b)(e>0?e:0-e,t,!1);return n?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"font-weight-bold"},t),e>0&&a?c.a.createElement("span",{className:"font-weight-bold color-success"},"  + ".concat(r)):c.a.createElement("span",{className:"font-weight-bold"},"  ".concat(r))):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"font-weight-bold"},t),c.a.createElement("span",{className:"font-weight-bold color-danger"},"  - ".concat(r)))},xa=function(e){return w()(new Date(e)).format("D MMM YYYY, hh:mm A")},Na=function(e){var t=e.formatExtraData.t;return c.a.createElement("span",{className:"fee-header-text"},e.text," \xa0",c.a.createElement(Y.a,{content:c.a.createElement("p",{className:"text-sm color-white m-0"},t("includingVat"))}))},Da=function(e,t){var a=ya[e]||"",n=(null===t||void 0===t?void 0:t.subtype)?function(e,t){return{FEE:" Fee",TRANSACTION:_a.includes(t)?" Payment":"",TRANSACTION_REVERSAL:" Reversal",VAT:" VAT",FEE_REVERSAL:" Fee Reversal",VAT_REVERSAL:" VAT Reversal",XENDIT_WITHHOLDING_TAX:" Xendit Witholding Tax",THIRD_PARTY_WITHHOLDING_TAX:" 3rd Party Witholding Tax"}[e]||""}(t.subtype,e):"";return"".concat(a).concat(n)},Sa=function(e,t){switch(e){case"BALANCE_HISTORY":return{width:"5%",items:[{field:"transaction_id",text:t("commonWords:copyTransactionID"),textPressed:t("commonWords:valueCopied"),action:"copy"},{field:"reference",text:t("commonWords:copyReference"),textPressed:t("commonWords:valueCopied"),action:"copy"}]};case"UPCOMING_TRANSACTIONS":return{width:"5%",items:[{field:"id",text:t("commonWords:copyTransactionID"),textPressed:t("commonWords:valueCopied"),action:"copy"},{field:"reference",text:t("commonWords:copyReference"),textPressed:t("commonWords:valueCopied"),action:"copy"}]};default:return}},Ra=function(e,t,a){switch(e){case"BALANCE_HISTORY":return[{dataField:"created",text:t("balance:dateCreated"),formatter:xa,headerStyle:{width:"20%"}},{dataField:"type",text:t("balance:transactionType"),formatter:function(e,t){return Da(e,t)},headerStyle:{width:"20%"}},{dataField:"reference",text:t("balance:reference"),type:"text",headerStyle:{width:"25%"}},{dataField:"amount",text:t("balance:amount"),type:"text",formatter:function(e){return Aa(e,a,!0)},headerStyle:{width:"15%"}},{dataField:"balance",text:t("balance:balance"),formatter:function(e){return function(e,t){var a=Object(oe.b)(e,t,!1);return c.a.createElement("span",{className:"font-weight-bold"},"".concat(t,"  ").concat(a))}(e,a)},headerStyle:{width:"15%"}}];case"UPCOMING_TRANSACTIONS":return[{dataField:"created",text:t("balance:dateCreated"),formatter:xa,headerStyle:{width:"15%"}},{dataField:"type",text:t("balance:transactionType"),formatter:Da,headerStyle:{width:"15%"}},{dataField:"reference",text:t("balance:reference"),type:"text",headerStyle:{width:"20%"}},{dataField:"amount",text:t("balance:amount"),type:"text",formatter:function(e){return Aa(e,a,!1)},headerStyle:{width:"15%"}},{dataField:"fee",text:t("balance:fee"),formatter:function(e){return Aa(e,a,!1)},headerStyle:{width:"15%"},headerFormatter:Na,formatExtraData:{t:t}},{dataField:"net_amount",text:t("balance:netAmount"),type:"text",formatter:function(e){return Aa(e,a,!1)},headerStyle:{width:"15%"}}];default:return}},Fa=a(490),Ia=a(495),wa=function(e){return[{children:[{type:"PAYMENT",label:e("balance:payment"),subItems:[{type:"CARD",label:e("balance:cards")},{type:"DIRECT_DEBIT",label:e("balance:directDebit")},{type:"INVOICE",label:e("balance:invoice")},{type:"RETAIL_OUTLET",label:e("balance:retailOutlet")},{type:"EWALLET",label:e("balance:ewallet")}]},{type:"DISBURSEMENT",label:e("balance:disbursement")},{type:"WITHDRAWAL",label:e("balance:withdrawal")},{type:"REFUND",label:e("balance:refund")},{type:"TOPUP",label:e("balance:topup")},{type:"OTHER",label:e("balance:other")}]}]},Ma=function(e){var t=e.appliedTransactionTypes,a=e.transactionTypes,n=e.updateFilters,r=e.onCheckAllFilters,o=e.onApplyFilter,i=e.onTypeFilterOpen,s=e.isTypeFilterOpen,l=e.t,u=e.tabName,d=c.a.createElement(Ia.a,{selectedFilters:a,onChecked:function(e){n(u,e)},filterGroups:wa(l),onCheckAll:function(){r(u)},onApplyFilter:function(){return o(u)},isApplyDisabled:Ne()(a,t),withCheckAll:!0}),m=s?a.length:t.length,p=c.a.createElement("span",{className:m>0?"color-primary font-weight-bold":""},"".concat(l("balance:filter")," (").concat(m,")"));return[c.a.createElement(Fa.a,{displayText:p,children:[d],onClickEvent:!0,onMouseEvent:!1,customHandleToggle:function(e){i(u,e)},customDropdownOpen:s,customCss:{dropdownName:"balance-transaction-type-filter"}})]},La=function(e,t,a){return e.map((function(e){var n=Object(T.omit)(Object(E.a)(Object(E.a)({},e),{},{transaction_status:e.status}),["status"]),r=n.type,o=n.reference,i=n.amount,s=n.net_amount,l=n.created,u=a===fa,d=u?i:s;return Object(E.a)(Object(E.a)({},n),{},{status:void 0,secondRowContent:c.a.createElement("div",{className:"d-flex align-items-left flex-column"},c.a.createElement("span",{className:"text-sm font-weight-bold"},Da(r)),c.a.createElement("span",{className:"text-sm color-charcoal"},o),c.a.createElement("div",{className:"balance-mobile-row-amount"},Aa(d,t,u))),dateContent:{date:w()(l).format(q.a.FULL_DATE)}})}))},Pa=function(e,t){var a=[];Ae()(t)&&(t=ha[e]);for(var n=0;n<t.length;n++){var r=Ta[e];a=[].concat(Object(F.a)(a),Object(F.a)(r[t[n]]))}return a},ka=(a(1861),function(e){var t=e.t,a=e.data,n=e.dateFormat,r=e.updateDate,o=e.updateSearchQuery,i=e.handlePageChange,s=e.updateFilters,l=e.onCheckAllFilters,u=e.onApplyFilter,d=e.onExportClicked,m=e.onTypeFilterOpen,p=e.isTypeFilterOpen,f=e.isExportDisabled,b=a.history,E=a.isFetching,O=a.activePage,h=a.errorMessage,T=a.dateFrom,y=a.dateTo,_=a.searchQuery,g=a.totalCount,v=a.transactionTypes,C=a.appliedTransactionTypes,j=a.isExporting,A=fa,x=c.a.createElement(P.a,{icon:k.p}),N=c.a.createElement(sa.a,{caption:t("balance:emptyBalanceHistoryCaption"),subtitle:t("balance:emptyTransactionsSubtitle")}),D=c.a.createElement(la.a,{text:h}),S={value:_,onChange:function(e){o(A,e)},placeholder:t("balance:balancePageSearchbarPlaceholder"),position:"inline",customCss:"filter-item"},R={start:T,end:y,inputFormat:n.date_time_picker,outputFormat:q.a.GMT_MS_Z,onChange:function(e,t){r(A,e,t)},customCss:"filter-item"},F={tableHeaderColumns:Ra(A,t,"PHP"),tableContentRows:b,mobileTableContent:La(b,"PHP",A),isLoading:E,isError:!Ae()(h),isEmpty:Ae()(b),loadingText:t("balance:loadingBalanceHistory"),errorContent:D,emptyContent:N,rowClasses:"table-row-vertical-align-middle",paginationConfig:{page:O,sizePerPage:50,totalSize:g,onTableChange:i,paginationTotalRenderer:function(e,a,n){return c.a.createElement("span",{className:"react-bootstrap-pagination-total color-black-300"},t("balance:showingTotalTransactions",{from:e,to:a,size:Object(oe.d)(n)}))}},actionButtonConfig:Sa(A,t)},I=Ma({appliedTransactionTypes:C,transactionTypes:v,updateFilters:s,onCheckAllFilters:l,onApplyFilter:u,onTypeFilterOpen:m,isTypeFilterOpen:p,t:t,tabName:A}),w=[c.a.createElement(B.a,{isDisabled:f,isLoading:j,size:"sm",iconLeft:x,onClick:d,customCss:"mr-2"},t("commonWords:export"))];return c.a.createElement("div",{className:"balance-cardtable"},c.a.createElement(L.a,{stickyHeader:!0,tableConfig:F,dateFilterConfig:R,searchBarConfig:S,filters:I,rightButtons:w}))});ka.defaultProps={data:{history:[],transactionTypes:[],appliedTransactionTypes:[]},dateFormat:{}};var Ua=ka,Ba=function(e){var t=e.t,a=e.data,n=e.errorMessage,r=e.isFetching,o=e.isMobileView,i=a.incoming,s=a.outgoing,l=a.currency,u=c.a.createElement("div",{className:o?"":"ml-2"},c.a.createElement(_.a,{size:"sm"})),d=c.a.createElement("span",{className:"color-gray-600 font-weight-600"},n),m=[{title:t("balance:incoming"),amount:Aa(i.amount,l,!1),customCss:"mr-5"},{title:t("balance:outgoing"),amount:Aa(-1*s.amount,l)}],p=c.a.createElement("div",{className:"upcoming-transactions-summary"},m.map((function(e){var t=e.title,a=e.amount,n=e.customCss;return c.a.createElement("div",{className:r?"d-flex align-items-center".concat(" "+n):n},c.a.createElement("span",{className:"color-gray-700 "},"".concat(t,": ")),r?u:a)}))),f=c.a.createElement("div",{className:"mobile-upcoming-transactions-summary"},m.map((function(e){var t=e.title,a=e.amount;return c.a.createElement("div",null,c.a.createElement("p",{className:"mb-0 color-gray-700 "},"".concat(t,":")),r?u:a)})));return n?d:o?f:p};Ba.defaultProps={data:{incoming:{amount:0},outgoing:{amount:0},currency:""}};var Ha=Ba,Ya=function(e){var t=e.t,a=e.data,n=e.dateFormat,r=e.updateDate,o=e.updateSearchQuery,i=e.handlePageChange,s=e.updateFilters,l=e.onCheckAllFilters,u=e.onApplyFilter,d=e.onExportClicked,m=e.onTypeFilterOpen,p=e.isTypeFilterOpen,f=e.isExportDisabled,b=e.isMobileView,O=a.transactions,h=a.isFetching,T=a.activePage,y=a.errorMessage,_=a.dateFrom,g=a.dateTo,v=a.searchQuery,C=a.totalCount,j=a.transactionTypes,A=a.appliedTransactionTypes,x=a.isExporting,N=a.isFetchingSummary,D=a.summaryErrorMessage,S=a.summary,R=ba,F=c.a.createElement(P.a,{icon:k.p}),I=c.a.createElement(sa.a,{caption:t("balance:emptyUpcomingTransactionsCaption"),subtitle:t("balance:emptyTransactionsSubtitle")}),w=c.a.createElement(la.a,{text:y}),M={value:v,onChange:function(e){o(R,e)},placeholder:t("balance:balancePageSearchbarPlaceholder"),position:"inline",customCss:"filter-item"},U={start:_,end:g,inputFormat:n.date_time_picker,outputFormat:q.a.GMT_MS_Z,onChange:function(e,t){r(R,e,t)},customCss:"filter-item"},H=O.map((function(e){var t=e.is_credit,a=e.amount,n=e.xendit_fee,r=e.vat,c=(n.is_debit?-1*n.amount:n.amount)+(r.is_debit?-1*r.amount:r.amount),o=t?a:-1*a;return Object(E.a)(Object(E.a)({},e),{},{amount:o,fee:c,net_amount:o+c})})),Y={tableHeaderColumns:Ra(R,t,"PHP"),tableContentRows:H,mobileTableContent:La(H,"PHP",R),isLoading:h,isError:!Ae()(y),isEmpty:Ae()(O),loadingText:t("balance:loadingUpcomingTransactions"),errorContent:w,emptyContent:I,rowClasses:"table-row-vertical-align-middle",paginationConfig:{page:T,sizePerPage:50,totalSize:C,onTableChange:i,paginationTotalRenderer:function(e,a,n){return c.a.createElement("span",{className:"react-bootstrap-pagination-total color-black-300"},t("balance:showingTotalTransactions",{from:e,to:a,size:Object(oe.d)(n)}))}},actionButtonConfig:Sa(R,t)},V=Ma({appliedTransactionTypes:A,transactionTypes:j,updateFilters:s,onCheckAllFilters:l,onApplyFilter:u,onTypeFilterOpen:m,isTypeFilterOpen:p,t:t,tabName:R}),G=[c.a.createElement(B.a,{isDisabled:f,isLoading:x,size:"sm",iconLeft:F,onClick:d,customCss:"mr-2"},t("commonWords:export"))],W=c.a.createElement(Ha,{data:S,isFetching:N,errorMessage:D,isMobileView:b,t:t});return c.a.createElement("div",{className:"balance-cardtable"},c.a.createElement(L.a,{stickyHeader:!0,tableConfig:Y,dateFilterConfig:U,searchBarConfig:M,filters:V,rightButtons:G,middleSectionContent:W}))};Ya.defaultProps={data:{transactions:[],transactionTypes:[],appliedTransactionTypes:[]},dateFormat:{}};var Va=Ya,Ga=a(49),Wa=a.n(Ga),za=a(252),Qa=a.n(za),Xa=a(1681),qa=a.n(Xa),Za=a(291),Ka=a.n(Za),Ja=a(116),$a=a(150),en=function(e){var t=e.t,a=e.exportModalConfig,o=e.setExportModalConfig,i=e.handleClose,s=e.onExport,l=a.isExporting,u=a.isModalOpen,d=a.dateStart,m=a.dateEnd,p=a.inputFormat,f=a.outputFormat,b=a.emails,O=a.emailErrorMessage,h=Object(r.useState)(ja(t)),T=Object(n.a)(h,2),y=T[0],_=T[1],g=Object(r.useState)(""),v=Object(n.a)(g,2),C=v[0],j=v[1],A=Object(r.useState)(!1),x=Object(n.a)(A,2),N=x[0],D=x[1],S=Object(r.useState)(!0),R=Object(n.a)(S,2),F=R[0],I=R[1],w=new Date,M=function(e){return{today:e,start_of_month:new Date(e.getFullYear(),e.getMonth(),1),yesterday:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),seven_days_ago:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),start_of_previous_month:new Date(e.getFullYear(),e.getMonth()-1,1),end_of_previous_month:new Date(e.getFullYear(),e.getMonth(),0),three_months_ago:new Date(e.getFullYear(),e.getMonth(),e.getDate()-92)}}(w),L=function(e,t){var a=t.today,n=t.yesterday,r=t.start_of_month,c=t.seven_days_ago,o=t.start_of_previous_month,i=t.end_of_previous_month;return[{label:e("balance:today",{date:Object(ce.j)(a)}),value:"today"},{label:e("balance:thisMonth",{startDate:Object(ce.j)(r),endDate:Object(ce.j)(a)}),value:"this_month"},{label:e("balance:thisWeek",{startDate:Object(ce.j)(c),endDate:Object(ce.j)(n)}),value:"this_week"},{label:e("balance:previousMonth",{startDate:Object(ce.j)(o),endDate:Object(ce.j)(i)}),value:"previous_month"},{label:e("balance:custom"),value:"custom"}]}(t,M),P="custom"===y.value,U=P&&F,H=Ae()(b)||O||!U,Y=Object(r.useState)(M.three_months_ago),V=Object(n.a)(Y,2),G=V[0],W=V[1],z=Object(r.useState)(M.today),Q=Object(n.a)(z,2),X=Q[0],q=Q[1];Object(r.useEffect)((function(){N&&q(new Date(d.getFullYear(),d.getMonth(),d.getDate()+92))}),[d]),Object(r.useEffect)((function(){var e=new Date(m.getFullYear(),m.getMonth(),m.getDate()-92);N&&W(e.setHours(0,0,0,0))}),[m]),Object(r.useEffect)((function(){j(""),_(ja(t)),D(!1)}),[u]);var Z=function(e,t){var n,r=new Date(Object(ce.n)(t));if(isNaN(r.getTime()))I(!1);else switch(I(!0),e){case"start":n={dateStart:r},N||(n.dateEnd=r,D(!0)),o(Object(E.a)(Object(E.a)({},a),n));break;case"end":n={dateEnd:r},N||(n.dateStart=r,D(!0)),o(Object(E.a)(Object(E.a)({},a),n));break;default:return}},K=c.a.createElement("div",{className:"export-modal-footer"},c.a.createElement(B.a,{onClick:function(){!H&&s()},id:"export-transactions",isLoading:l,isDisabled:l||H},t("balance:sendToEmail"))),J=P&&c.a.createElement("div",{className:"balance-export-date-picker-container"},c.a.createElement("div",{className:"balance-export-date-picker"},c.a.createElement(qa.a,{date:!0,value:d,inputFormat:p,outputFormat:f,onChange:function(e){Z("start",e)},max:m&&m.setHours(0,0,0,0),min:N&&G,label:t("balance:from"),placeholder:t("balance:selectDate")}),c.a.createElement("div",{className:"date-divider"},"-"),c.a.createElement(qa.a,{date:!0,value:m,inputFormat:p,outputFormat:f,onChange:function(e){Z("end",e)},min:N&&d,max:X.getTime()>M.today.getTime()?M.today:X,label:t("balance:to"),placeholder:t("balance:selectDate")}))),$=c.a.createElement("div",{className:"balance-export-selector"},c.a.createElement(Qa.a,{label:t("balance:dateRange"),value:y,options:L,onChange:function(e){_(e);var t={};switch(e.value){case"today":t={dateStart:w,dateEnd:w},o(Object(E.a)(Object(E.a)({},a),t));break;case"this_month":t={dateStart:M.start_of_month,dateEnd:w},o(Object(E.a)(Object(E.a)({},a),t));break;case"this_week":t={dateStart:M.seven_days_ago,dateEnd:M.yesterday},o(Object(E.a)(Object(E.a)({},a),t));break;case"previous_month":t={dateStart:M.start_of_previous_month,dateEnd:M.end_of_previous_month},o(Object(E.a)(Object(E.a)({},a),t))}},searchConfig:{enabled:!1}}),P&&c.a.createElement(Ja.a,{infoPanel:!0,icon:k.z,smallIcon:!0,customCss:"balance-export-banner"},c.a.createElement("span",{className:"info-panel-text"},t("balance:maximumDateRangeInfo")))),ee=c.a.createElement(Ka.a,{label:t("balance:sendToEmailLabel"),value:C,onChange:function(e){o(Object(E.a)(Object(E.a)({},a),{},{emailErrorMessage:""})),j(e.target.value)},errorMessage:O,customCss:"balance-export-text-area",placeholder:"email@mail.com",labelTooltip:{text:t("balance:emailInputInfo")},helperText:t("balance:useCommaOrSpace"),isError:O,onBlur:function(){Ae()(C)&&o(Object(E.a)(Object(E.a)({},a),{},{emailErrorMessage:""}))},pillsTextAreaConfig:{items:b,setItems:function(e){e.length<6?o(Object(E.a)(Object(E.a)({},a),{},{emails:e})):(o(Object(E.a)(Object(E.a)({},a),{},{emailErrorMessage:t("balance:upToFiveEmail")})),setTimeout((function(){o(Object(E.a)(Object(E.a)({},a),{},{emailErrorMessage:""}))}),1500))},validPattern:$a.EMAIL,extraAction:function(e){switch(e){case"valid":j("");break;default:C&&o(Object(E.a)(Object(E.a)({},a),{},{emailErrorMessage:t("".concat(e,"Email"))}))}}}});return c.a.createElement(Wa.a,{showModal:u,handleClose:i,preserveMobileView:!0,title:t("commonWords:export"),closeButton:!0,size:"sm",customCss:"balance-export-modal",footer:K},c.a.createElement("div",{className:"balance-export-modal-content"},$,J,ee))};en.defaultProps={exportModalConfig:{isExporting:!1,isModalOpen:!1,inputFormat:"",outputFormat:"",emails:[],emailErrorMessage:""}};var tn=en,an=function(e){var t,a,o=e.t,i=e.subAccountId,s=(e.entity,e.apiCall),l=e.environment,d=e.dateFormat,m=e.user,p=e.isMobileView,f=Object(r.useState)(0),h=Object(n.a)(f,2),T=h[0],y=h[1],g=Object(r.useState)(!1),v=Object(n.a)(g,2),C=v[0],j=v[1],A=Object(r.useState)(!1),x=Object(n.a)(A,2),N=x[0],D=x[1],S=Object(r.useState)(!1),R=Object(n.a)(S,2),I=R[0],M=R[1],L=Object(r.useState)(ma),U=Object(n.a)(L,2),B=U[0],H=U[1],V=Object(r.useState)(Ea.BALANCE_HISTORY),G=Object(n.a)(V,2),W=G[0],z=G[1],Q=Object(r.useState)(Ea.UPCOMING_TRANSACTIONS),X=Object(n.a)(Q,2),Z=X[0],K=X[1],J=Object(r.useState)(Ca(d,m)),$=Object(n.a)(J,2),ee=$[0],te=$[1],ae=Object(r.useState)(Oa),ne=Object(n.a)(ae,2),re=ne[0],se=ne[1],le=q.c.TIMEZONE,ue=function(e){return[{title:e("balanceHistory"),name:fa},{title:e("pending"),name:ba}]}(o),de=(null===Z||void 0===Z||null===(t=Z.summary)||void 0===t||null===(a=t.outgoing)||void 0===a?void 0:a.amount)||0,me=[{title:o("balance:totalBalance"),amount:B.balance+de},{title:o("balance:pendingOutgoing"),amount:de,customCss:de>0?" red":""},{title:"",customCss:" with-sum-line",amount:B.balance}];Object(r.useEffect)((function(){fe()}),[l]),Object(r.useEffect)((function(){Ae()(B.ledger_id)||(Ee(ue[T].name),be())}),[B.ledger_id]),Object(r.useEffect)((function(){C&&(j(!1),Ae()(B.ledger_id)||(fe(),Ee(ue[T].name),be()))}),[C]),Object(r.useEffect)((function(){var e=ue[T].name;pe(e).isUpdatingFilter&&Ee(e),he(ue[T].name,{isUpdatingFilter:!1})}),[W.dateTo,W.dateFrom,W.appliedTransactionTypes,Z.dateTo,Z.dateFrom,Z.appliedTransactionTypes]),Object(r.useEffect)((function(){var e=ue[T].name,t=pe(e),a=t.searchDelay,n=t.searchQuery,r=t.isUpdatingFilter;clearTimeout(a),he(e,{searchDelay:setTimeout((function(){r&&!st()(n)&&(n.length>2||0===n.length)&&Ee(e),he(e,{isUpdatingFilter:!1})}),400)})}),[W.searchQuery,Z.searchQuery]);var pe=function(e){switch(e){case fa:return W;case ba:return Z;default:return}},fe=function(){var e=Object(O.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(Object(E.a)(Object(E.a)({},B),{},{errorMessage:"",isFetching:!0})),t={currency:"PHP"},a={"for-user-id":i},e.next=5,s.axiosGet(pa.GET_BALANCE_V4,t,a);case 5:if(n=e.sent,he(fa,{isFetching:!1}),!n.error_code){e.next=10;break}return H(Object(E.a)(Object(E.a)({},B),{},{isFetching:!1,errorMessage:o("balance:fetchBalanceError")})),e.abrupt("return");case 10:H(Object(E.a)(Object(E.a)({},B),{},{isFetching:!1,ledger_id:n[0].id,balance:n[0].balance.available}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(O.a)(b.a.mark((function e(){var t,a,n,r,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ba,a=B.ledger_id,he(t,{isFetchingSummary:!0,summaryErrorMessage:""}),e.prev=3,n={id:a,currency:"PHP"},r={"for-user-id":i},e.next=8,s.axiosGet(pa.GET_UPCOMING_TRANSACTIONS_SUMMARY,n,r);case 8:if(!(c=e.sent).error_code){e.next=11;break}throw c;case 11:he(t,{isFetchingSummary:!1,summary:c}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),l={summaryErrorMessage:o("balance:fetchUpcomingTransactionsSummaryError"),isFetchingSummary:!1},he(t,l);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(O.a)(b.a.mark((function e(t,a){var n,r,c,l,u,d,m,p,f,E,O,h,T,y;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pe(t),r=n.dateFrom,c=n.dateTo,l=n.searchQuery,u=n.appliedTransactionTypes,d=B.ledger_id,he(t,{isFetching:!0,errorMessage:""}),e.prev=3,m={id:d,from:Object(ie.e)(r,"start"),to:Object(ie.e)(c,"end"),page:a||1,currency:"PHP",results_per_page:50,transaction_types:Pa(fa,u)},l&&(m.reference=l),p={"for-user-id":i},e.next=9,s.axiosGet(pa["GET_".concat(t)],m,p);case 9:if(!(f=e.sent).error_code){e.next=12;break}throw f;case 12:E=f.rows,O=f.total_count,h=t.split("_")[1].toLowerCase(),(T={isFetching:!1,totalCount:O,activePage:a||1})[h]=E,he(t,T),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),y={errorMessage:Object(ie.f)(e.t0.error_code,o),isFetching:!1},he(t,y);case 23:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t,a){return e.apply(this,arguments)}}(),Oe=function(e,t){t.preventDefault(),he(e,{searchQuery:t.target.value,isUpdatingFilter:!0})},he=function(e,t){switch(e){case fa:z((function(e){return Object(E.a)(Object(E.a)({},e),t)}));break;case ba:K((function(e){return Object(E.a)(Object(E.a)({},e),t)}))}},Te=function(e,t,a){switch(t){case"start":he(e,{dateFrom:new Date(w()(a).tz(le).format())});break;case"end":he(e,{dateTo:new Date(w()(a).tz(le).format())});break;default:return}he(e,{isUpdatingFilter:!0})},ye=function(e,t){var a=pe(e).transactionTypes,n=Object(F.a)(a),r=t.checked,c=t.types;r?n=n.filter((function(e){return!c.includes(e)})):c.forEach((function(e){!n.includes(e)&&n.push(e)})),he(e,{transactionTypes:n,isUpdatingFilter:!0})},_e=function(e){var t=pe(e).transactionTypes;he(e,{transactionTypes:Ae()(t)?ha[e]:[],isUpdatingFilter:!0})},ge=function(e,t){var a=pe(e);t?M(!0):(a.transactionTypes=a.appliedTransactionTypes,M(!1))},ve=function(e){var t=pe(e).transactionTypes;he(e,{isUpdatingFilter:!0,appliedTransactionTypes:Object(F.a)(t)}),M(!1)},Ce=function(e,t){var a=t.page;Ee(ue[T].name,a)},je=function(){var e=Object(O.a)(b.a.mark((function e(t){var a,n,r,c,l,u,d,m,p,f,O,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(Object(E.a)(Object(E.a)({},ee),{},{isExporting:!0})),a=ee.dateStart,n=ee.dateEnd,r=ee.emails,c=pe(t),l=c.appliedTransactionTypes,u=[],d=[],l.forEach((function(e){ga[e]?u.push(ga[e]):va[e]&&d.push(va[e])})),m={id:B.ledger_id,from:Object(ie.e)(a,"start"),to:Object(ie.e)(n,"end"),currency:"PHP",payment_types:u,non_payment_types:d,user_timezone_offset:w()().utcOffset(),emails:r},p={"for-user-id":i},e.next=10,s.axiosPost(pa["".concat(t,"_REPORT")],m,{},p);case 10:if(f=e.sent,Ne(),!f.error_code){e.next=17;break}return O="API_VALIDATION_ERROR"===f.error_code&&f.errors[0].field.includes("emails"),h=O?o("balance:invalidEmail"):Object(ie.f)(f.error_code,o,{action:ut()(o("commonWords:export"))}),xe(o("commonWords:failed"),h,"danger"),e.abrupt("return");case 17:xe(o("balance:exportSent"),"","success",Pe);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(e,t,a,n){se({title:e,subtitle:t,type:a,showModal:!0,additionalContent:n})},Ne=function(){!ee.isExporting&&te(Ca(d,m))},De=c.a.createElement("div",{className:"mt-2"},c.a.createElement(_.a,{size:"sm"})),Se=c.a.createElement("div",{className:"d-flex"},c.a.createElement("h4",{className:"color-black-300 mr-2"},"PHP"),c.a.createElement("h4",{className:"color-black-500"},Object(oe.b)(B.balance,"PHP",!1))),Re=c.a.createElement("div",{className:"balance-card-detailed-toggle",onClick:function(){D(!N)},id:"available_balance_details"},c.a.createElement(P.a,{icon:N?k.b:k.a,className:"mr-2"}),c.a.createElement("span",null,o(N?"balance:hideBreakdown":"balance:seeBreakdown"))),Fe=c.a.createElement(oa.a,{customCss:"xp-balance-card"},c.a.createElement("div",{className:"xp-balance-subtabs-summary"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("h6",{className:"color-black-300 mb-0 mr-1"},o("balance:availableBalance")),c.a.createElement(Y.a,{placement:"right",content:o("balance:totalBalanceTooltip"),customCss:{bubble:"xp-balance-summary-tooltip"}})),B.isFetching?De:Se),c.a.createElement("div",{className:"balance-card-detailed-view"},c.a.createElement("div",{className:"balance-card-detailed-calculation".concat(N?" open":"")},c.a.createElement("span",{className:"balance-card-detailed-calculation-title"},o("balance:details")),me.map((function(e,t){var a=e.title,n=e.amount,r=e.customCss,o=1===t&&n>0,i=Object(oe.b)(n,"PHP",!1),s="".concat(o?"- ":"").concat(i);return c.a.createElement("div",{className:"balance-card-detailed-row"},c.a.createElement("span",{className:"balance-card-detailed-title"},a),B.isFetching?c.a.createElement(_.a,{size:"sm"}):c.a.createElement("div",{className:"balance-card-detailed-amount-and-currency".concat(r||"")},c.a.createElement("span",{className:"balance-card-detailed-currency"},"PHP"),c.a.createElement("span",{className:"balance-card-detailed-amount"},s)))}))),Re)),Ie=W.isFetching||Ae()(B.ledger_id)||Ae()(W.history),we=Z.isFetching||Ae()(Z.transactions),Me=c.a.createElement(Ua,{data:W,dateFormat:d,updateDate:Te,updateSearchQuery:Oe,handlePageChange:Ce,updateFilters:ye,onCheckAllFilters:_e,onApplyFilter:ve,onExportClicked:function(){return te(Object(E.a)(Object(E.a)({},ee),{},{isModalOpen:!0}))},isExportDisabled:Ie,onTypeFilterOpen:ge,isTypeFilterOpen:I,t:o}),Le=c.a.createElement(Va,{data:Z,dateFormat:d,updateDate:Te,updateSearchQuery:Oe,handlePageChange:Ce,updateFilters:ye,onCheckAllFilters:_e,onApplyFilter:ve,onExportClicked:function(){return te(Object(E.a)(Object(E.a)({},ee),{},{isModalOpen:!0}))},isExportDisabled:we,onTypeFilterOpen:ge,isTypeFilterOpen:I,isMobileView:p,t:o}),Pe=c.a.createElement("div",{className:"export-balance-success-box"},c.a.createElement("p",{className:"date-range-title"},o("balance:dateRange")),c.a.createElement("p",{className:"date-range-text"},"".concat(Object(ce.m)(ee.dateStart,d.date_time_picker)," - ").concat(Object(ce.m)(ee.dateEnd,d.date_time_picker))));return c.a.createElement(c.a.Fragment,null,c.a.createElement(oa.a,{customCss:"xp-balance-card",customBodyCss:"pb-0"},c.a.createElement(u.a,{tabs:da(o),activeTab:T,changeActiveTab:function(e){return function(e){if(e!==T){var t=ue[e].name,a=Ea[t];B.ledger_id||(a.isFetching=!1,t===ba&&(a.isFetchingSummary=!1)),he(t,a),y(e),j(!0)}}(e)},scrollable:!0})),Fe,function(e){switch(e){case 0:return Me;case 1:return Le;default:return}}(T),c.a.createElement(tn,{exportModalConfig:ee,setExportModalConfig:te,handleClose:Ne,onExport:function(){return je(ue[T].name)},t:o}),c.a.createElement(ia.a,Object.assign({},re,{handleClose:function(){se({title:"",subtitle:"",type:"",showModal:!1,additionalContent:""})}})))},nn=Object(i.a)(["xenPlatformActivityTab","commonWords","errorMessages","commonComponents","balance"])(Object(o.o)((function(e){var t=e.t,a=e.history,o=e.match,i=e.entity,s=e.apiCall,l=e.user,u=e.masterAccBusiness,d=e.environment,m=e.dateFormat,p=e.defaultCurrency,f=e.isMobileView,T=u.country_of_operation,y=Object(r.useState)(0),_=Object(n.a)(y,2),g=_[0],v=_[1],C=Object(r.useState)(!1),j=Object(n.a)(C,2),A=j[0],R=j[1],F=Object(r.useState)({name:"",type:"",id:""}),I=Object(n.a)(F,2),w=I[0],M=I[1],L=Object(r.useState)(""),P=Object(n.a)(L,2),k=P[0],U=P[1],B=Object(r.useState)(!1),H=Object(n.a)(B,2),Y=H[0],V=H[1];Object(r.useEffect)((function(){R(!0),G()}),[]),Object(r.useEffect)((function(){A&&a.push(N)}),[d]);var G=function(){var e=Object(O.a)(b.a.mark((function e(){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(""),V(!0),a=o.params.id,e.next=5,s.axiosGet(D(a));case 5:if(n=e.sent,V(!1),!n.error_code){e.next=10;break}return U(t("getSubAccountInfoError")),e.abrupt("return");case 10:M((function(e){return Object(E.a)(Object(E.a)({},e),{},{name:n.name,type:n.account_type,id:n.account_id})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){return c.a.createElement(qe,{subAccountId:e,apiCall:s,environment:d,user:l,defaultCurrency:p})},z=function(e){var t=o.params.id;switch(e){case 0:return function(e){return c.a.createElement(me,{subAccountId:e,apiCall:s,entity:i,user:l,dateFormat:m})}(t);case 1:return W(t);case 2:return function(e){return c.a.createElement(xt,{subAccountId:e,apiCall:s,environment:d,user:l,entity:i,dateFormat:m})}(t);case 3:return function(e){return c.a.createElement(Gt,{subAccountId:e,apiCall:s,environment:d,entity:i,user:l,dateFormat:m})}(t);case 4:return function(e){return c.a.createElement(ca,{subAccountId:e,apiCall:s,entity:i,dateFormat:m})}(t);case 5:return function(e){return c.a.createElement(rt,{subAccountId:e,apiCall:s,environment:d,entity:i,user:l,dateFormat:m})}(t);case 6:return function(e){return c.a.createElement(Fe,{subAccountId:e,apiCall:s,environment:d,dateFormat:m,user:l})}(t);default:return}},Q=function(e){var a=o.params.id;switch(e){case 0:return function(e){return c.a.createElement(an,{t:t,entity:i,subAccountId:e,apiCall:s,environment:d,dateFormat:m,user:l,isMobileView:f})}(a);case 1:return function(e){return c.a.createElement(h.a,{subAccountId:e,apiCall:s,defaultCurrency:p,dateFormat:m,environment:d,user:l,business:u,entity:i})}(a);case 2:return W(a);default:return}};return c.a.createElement("div",null,c.a.createElement(x,{subAccountInfo:w,errorMessage:k,isLoading:Y}),function(e){return c.a.createElement("div",{className:"xp-activity-section"},c.a.createElement(S,{activeTab:e,changeActiveTab:function(e){return v(e)},entity:i,countryOfOperation:T}),"Philippines"===T?Q(e):z(e))}(g))}))),rn=a(284),cn=a(205),on=function(e){var t=e.cashBalance,a=e.t,n=e.isLoading,r=e.errorMessage,o=e.defaultCurrency||"IDR",i=Object(oe.b)(t,o),l=!Object(T.isEmpty)(r);return c.a.createElement(s.z,{title:a("totalCash"),isLoading:n,isError:l,loadingText:a("loadingSubAccounts"),errorText:r},c.a.createElement("div",{className:"text-xl font-weight-bold"},i))},sn=a(1565),ln=a(1944),un=function(e){var t=e.title,a=e.paymentChannels;return c.a.createElement("div",{className:"mb-4"},c.a.createElement("p",{className:"color-charcoal font-weight-bold mb-1"},t),c.a.createElement("div",{className:"d-flex flex-wrap"},a.map((function(e,t){return c.a.createElement("div",{className:"xp-subaccount-payment-channel-item mr-2 mt-2 channel-".concat(t)},c.a.createElement("img",{className:"xp-subaccount-payment-channel-item-icon",src:"/images/".concat(e.channel_code.toLowerCase(),"-logo.svg"),alt:e.channel_code}))}))))},dn=a(481),mn=function(e){var t=e.t,a=e.subAccountInfo.account_type,n=e.paymentChannels,r=e.isLoading,o=e.errorMessage,i=!Object(T.isEmpty)(o),l=!Object(T.isEmpty)(n)&&Object(ln.a)(n);return c.a.createElement(s.z,{isLoading:r,isError:i,loadingText:t("loadingSubAccounts"),errorText:o,customBodyCss:"xp-profile-payment-card"},function(){switch(a){case dn.b.MANAGED:return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"text-fair font-weight-bold"},t("paymentMethods")," - Managed accounts"),c.a.createElement("p",{className:"color-ash-dark"},c.a.createElement(sn.a,{i18nKey:"xenPlatformTab:managedAccountsPaymentDetails"},"The payment methods below are enabled for this"," ",c.a.createElement("span",{className:"color-orange font-weight-bold"},"Managed account.")),c.a.createElement("br",null),t("endPayersSubAccounts")),Object.values(l).map((function(e){return Object(T.isEmpty)(e.channels)?null:c.a.createElement(un,{title:t(e.title),paymentChannels:e.channels})})));case dn.b.OWNED:return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"text-fair font-weight-bold"},t("paymentMethods")," - Owned accounts"),c.a.createElement("p",{className:"color-ash-dark"},c.a.createElement(sn.a,{i18nKey:"xenPlatformTab:ownedAccountsPaymentDetails"},c.a.createElement("span",{className:"color-primary font-weight-bold"},"Owned accounts"," "),"share your payment details."),c.a.createElement("br",null),t("endPayersPlatform")));default:return}}())},pn=a(1883),fn=function(e){var t=e.profileData,a=e.t,n=e.isLoading,r=e.errorMessage,o=t.name,i=t.email,l=t.account_id,u=t.created,d=t.account_type,m=t.status,p=!Object(T.isEmpty)(r),f=[{label:a("name"),value:o,shouldHide:!o},{label:a("email"),value:i},{label:a("dateCreated"),value:w()(u).format(q.a.TABLE_DT_FORMAT)},{label:a("accountType"),value:Object(pn.b)(d||"")},{label:a("accountStatus"),value:Object(pn.a)(a,m)}],b={label:a("accountId"),value:l},E=2;return o||(E=0),f.splice(E,0,b),c.a.createElement(s.p,{title:a("profile"),items:f,isLoading:n,isError:p,loadingText:a("loadingSubAccounts"),errorText:r})},bn=function(e){return"/api/sub-account/".concat(e)},En=function(e){return"/api/cash_balance/".concat(e)},On="/api/balances_v4",hn="/api/sub-account/payment-channels",Tn=(a(2124),Object(i.a)(["xenPlatformProfileTab","xenPlatformTab","commonWords","errorMessages"])((function(e){var t=e.apiCall,a=e.t,o=e.subAccountId,i=e.defaultCurrency,s=Object(r.useState)({}),l=Object(n.a)(s,2),u=l[0],d=l[1],m=Object(r.useState)(0),p=Object(n.a)(m,2),f=p[0],E=p[1],h=Object(r.useState)([]),T=Object(n.a)(h,2),y=T[0],_=T[1],g=Object(r.useState)(""),v=Object(n.a)(g,2),C=v[0],j=v[1],A=Object(r.useState)(""),x=Object(n.a)(A,2),N=x[0],D=x[1],S=Object(r.useState)(""),R=Object(n.a)(S,2),F=R[0],I=R[1],w=Object(r.useState)(!1),M=Object(n.a)(w,2),L=M[0],P=M[1],k=Object(r.useState)(!1),U=Object(n.a)(k,2),B=U[0],H=U[1],Y=Object(r.useState)(!1),V=Object(n.a)(Y,2),G=V[0],W=V[1];Object(r.useEffect)((function(){z(),Q(),X()}),[]);var z=function(){var e=Object(O.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(""),P(!0),e.next=4,t.axiosGet(bn(o));case 4:if(n=e.sent,P(!1),!n.error_code){e.next=9;break}return j(a("getSubAccountInfoError")),e.abrupt("return");case 9:d(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(O.a)(b.a.mark((function e(){var n,r,c,s,l,u,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(""),H(!0),"PHP"!==i){e.next=14;break}return r={currency:i},c={"for-user-id":o},e.next=7,t.axiosGet(On,r,c);case 7:if(!(s=e.sent).error_code){e.next=10;break}return e.abrupt("return",D(a("fetchBalanceError")));case 10:return l=s.find((function(e){return e.currency===i})),u=(null===l||void 0===l||null===(n=l.balance)||void 0===n?void 0:n.available)||"0",H(!1),e.abrupt("return",E(u));case 14:return e.next=16,t.axiosGet(En(o));case 16:if(d=e.sent,H(!1),!d.error_code){e.next=21;break}return D(a("fetchBalanceError")),e.abrupt("return");case 21:E(d.cash_balance||"0");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(O.a)(b.a.mark((function e(){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(""),W(!0),n={"for-user-id":o},e.next=5,t.axiosGet(hn,{},n);case 5:if(r=e.sent,W(!1),!r.error_code){e.next=10;break}return I(a("getPaymentChannelsError")),e.abrupt("return");case 10:_(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(rn.a,null,c.a.createElement(cn.a,{lg:5},c.a.createElement(fn,{t:a,profileData:u,isLoading:L,errorMessage:C})),c.a.createElement(cn.a,{lg:7},c.a.createElement(on,{t:a,cashBalance:f,isLoading:B,errorMessage:N,defaultCurrency:i}),c.a.createElement(mn,{t:a,subAccountInfo:u,paymentChannels:y,isLoading:G,errorMessage:F})))})));t.default=Object(o.o)(Object(i.a)(["xenPlatformSubAccountDetail","commonWords"])((function(e){var t=e.t,a=e.history,i=e.match,l=e.entity,f=e.apiCall,b=e.user,E=e.business,O=e.environment,h=e.dateFormat,T=e.defaultCurrency,y=Object(o.m)(),_=y.id,g=y.tab,v=Object(r.useState)(0),C=Object(n.a)(v,2),j=C[0],A=C[1];Object(r.useEffect)((function(){A(g===m?1:0)}),[]);return c.a.createElement("div",null,c.a.createElement(s.o,{title:t("accountInformation"),goBack:function(){a.push(d)}}),c.a.createElement(u.a,{tabs:p(t),activeTab:j,changeActiveTab:function(e){A(e);var t=0===e?"profile":"activity";a.push({pathname:"/xenplatform/accounts/".concat(_,"/").concat(t)})},customCss:"page-tab-container"}),function(e){switch(e){case 0:return c.a.createElement(Tn,{apiCall:f,subAccountId:_,defaultCurrency:T});case 1:return c.a.createElement(nn,{match:i,entity:l,apiCall:f,masterAccBusiness:E,user:b,environment:O,dateFormat:h,defaultCurrency:T});default:return}}(j))})))},1573:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return s}));var n=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},r=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},o=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=c(e,n),o="IDR"===t?r.replace(/,/g,"."):r,i=a?"".concat(t," "):"",s="".concat(i).concat(o);return s},i=function(e,t,a){var n=t?o(e,t):c(e),r=n.split("-").join(""),i="".concat((null!=a?a:e>0)?"+ ":"- "," ").concat(r);return 0===e&&(i=n),i},s=function(e){return"".concat((100*e).toFixed(2),"%")}},1575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(0)),r=i(a(2)),c=i(a(6)),o=i(a(1576));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(1577);var l=function(e){var t,a=e.text,r=e.iconLeft,i=e.customCss,l=e.variant,u=(0,c.default)((s(t={"status-pill":!0},"status-pill-".concat(l),l),s(t,i,i),t));return n.default.createElement(o.default,{text:a,iconLeft:r,customCss:u})};l.propTypes={text:r.default.string,iconLeft:r.default.any,variant:r.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:r.default.string};var u=l;t.default=u},1576:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(467)},1577:function(e,t,a){},1585:function(e,t,a){var n=a(470);e.exports=function(e){return n(e).toLowerCase()}},1612:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"c",(function(){return O})),a.d(t,"b",(function(){return h})),a.d(t,"i",(function(){return g})),a.d(t,"g",(function(){return v})),a.d(t,"h",(function(){return C})),a.d(t,"l",(function(){return A})),a.d(t,"k",(function(){return x})),a.d(t,"a",(function(){return j}));var n=a(9),r=a.n(n),c=a(19),o=a(27),i=a(51),s=function(e,t,a,n,s){return function(){var l=Object(c.a)(r.a.mark((function c(l){var u;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l(a?f():m()),r.prev=1,r.next=4,e("/api/invoice-history",t,s);case 4:if(!(u=r.sent).error_code){r.next=7;break}throw u;case 7:u.docs.length>0&&(u.lastInvoiceId=Object(o.last)(u.docs).id),l(n?{type:i.l,payload:u}:{type:i.a,payload:u}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),l(p(r.t0));case 14:l(a?f():m());case 15:case"end":return r.stop()}}),c,null,[[1,11]])})));return function(e){return l.apply(this,arguments)}}()},l=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e("/api/invoices_statistics",t);case 3:if(!(c=a.sent).error_code){a.next=6;break}throw c;case 6:n({type:i.m,payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:i.m,payload:{totalCount:0}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e("/api/allowed-currency");case 3:if(!(n=t.sent).error_code){t.next=6;break}throw n;case 6:a({type:i.j,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(p(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t,a){return function(){var n=Object(c.a)(r.a.mark((function n(c){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(b()),n.next=4,e("/api/invoices_report_requests",t,{},a);case 4:if(!(o=n.sent).error_code){n.next=7;break}throw o;case 7:c({type:i.i}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c(E(n.t0));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},m=function(){return{type:i.s}},p=function(e){return{type:i.r,payload:e}},f=function(){return{type:i.q}},b=function(){return{type:i.g}},E=function(e){return{type:i.h,payload:e}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ID",a=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(c.a)(r.a.mark((function n(c){var o,s,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(T()),n.next=4,a("/api/invoices/".concat(e));case 4:if(!(o=n.sent).error_code){n.next=7;break}throw o;case 7:if("ID"!==t||"Credit Card"!==o.complete_payment_method){n.next=13;break}return s=o.credit_card_charge_id,n.next=11,a("/api/credit_card_payment/".concat(s));case 11:l=n.sent,o.cc_payment_id=l.id;case 13:c({type:i.k,payload:o}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),c(y(n.t0));case 19:c(T());case 20:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:i.f}),a.next=4,t("/api/invoice/".concat(e,"/expire"));case 4:if(!(c=a.sent).error_code){a.next=7;break}throw c;case 7:n({type:i.e,payload:c}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:i.d,payload:a.t0});case 13:n({type:i.f});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},T=function(){return{type:i.s}},y=function(e){return{type:i.r,payload:e}},_=a(3),g=function(e,t){return{type:i.n,name:e,value:t}},v=function(e){return{type:i.o,currency:e}},C=function(e){return{type:i.p,date:e}},j=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e("/api/invoices",t);case 3:if(!(c=a.sent).error_code){a.next=6;break}throw c;case 6:n({type:i.b,payload:c}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),o=Object(_.a)({isError:!0},a.t0),n(x(o));case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},A=function(e){return{type:i.u,isSuccess:e}},x=function(e){return{type:i.c,payload:e}}},1643:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},1719:function(e,t,a){var n=a(1720),r=a(288),c=n((function(e,t,a){return e+(a?" ":"")+r(t)}));e.exports=c},1720:function(e,t,a){var n=a(1721),r=a(1722),c=a(1725),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return n(c(r(t).replace(o,"")),e,"")}}},1721:function(e,t){e.exports=function(e,t,a,n){var r=-1,c=null==e?0:e.length;for(n&&c&&(a=e[++r]);++r<c;)a=t(a,e[r],r,e);return a}},1722:function(e,t,a){var n=a(1723),r=a(470),c=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(c,n).replace(o,"")}},1723:function(e,t,a){var n=a(1724)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=n},1724:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},1725:function(e,t,a){var n=a(1726),r=a(1727),c=a(470),o=a(1728);e.exports=function(e,t,a){return e=c(e),void 0===(t=a?void 0:t)?r(e)?o(e):n(e):e.match(t)||[]}},1726:function(e,t){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(a)||[]}},1727:function(e,t){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return a.test(e)}},1728:function(e,t){var a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+a+"]",r="\\d+",c="[\\u2700-\\u27bf]",o="[a-z\\xdf-\\xf6\\xf8-\\xff]",i="[^\\ud800-\\udfff"+a+r+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+o+"|"+i+")",m="(?:"+u+"|"+i+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",f="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,l].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),b="(?:"+[c,s,l].join("|")+")"+f,E=RegExp([u+"?"+o+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[n,u,"$"].join("|")+")",m+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[n,u+d,"$"].join("|")+")",u+"?"+d+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",u+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,b].join("|"),"g");e.exports=function(e){return e.match(E)||[]}},1730:function(e,t,a){var n=a(1627);e.exports=function(e,t){return n(e,t)}},1771:function(e,t,a){},1774:function(e,t,a){},1776:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(37),o=a(26),i=a(336),s=a(512),l=a(335);t.a=function(e){var t=e.label,a=e.searchGroups,n=r.a.createElement(c.a,{icon:o.E});return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(i.a,{htmlFor:t,className:"label-input"},t),a.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(s.a,null,r.a.createElement(l.a,{placeholder:e.placeholder,className:"searchbar-input",name:e.name,value:e.value,onChange:e.onChange}),r.a.createElement(s.a.Append,null,r.a.createElement(s.a.Text,{className:"no-bg"},n))),r.a.createElement("div",{className:"mb-2"}))})))}},1777:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(1778);t.a=function(e){var t=e.options,a=e.onSelect;return r.a.createElement("div",{className:"invoice-options"},r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return a(e)}},e)}))))}},1778:function(e,t,a){},1861:function(e,t,a){},1870:function(e,t,a){"use strict";var n=a(3),r=a(12),c=a(0),o=a.n(c),i=a(380),s=a(27),l=a(26),u=a(49),d=a.n(u),m=a(20),p=a.n(m),f=a(252),b=a.n(f),E=a(1681),O=a.n(E),h=a(291),T=a.n(h),y=a(116),_=a(150),g=a(189),v=function(e){return{label:e("custom"),value:"custom"}},C=(a(1771),function(e){var t=e.t,a=e.exportModalConfig,i=e.setExportModalConfig,u=e.handleClose,m=e.onExport,f=e.productPage,E=a.isExporting,h=a.isModalOpen,C=a.dateStart,j=a.dateEnd,A=a.inputFormat,x=a.outputFormat,N=a.emails,D=a.emailErrorMessage,S="transactions"===f,R=Object(c.useState)(v(t)),F=Object(r.a)(R,2),I=F[0],w=F[1],M=Object(c.useState)(""),L=Object(r.a)(M,2),P=L[0],k=L[1],U=Object(c.useState)(!1),B=Object(r.a)(U,2),H=B[0],Y=B[1],V=Object(c.useState)(!0),G=Object(r.a)(V,2),W=G[0],z=G[1],Q=new Date,X=function(e){return{today:e,start_of_month:new Date(e.getFullYear(),e.getMonth(),1),yesterday:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),seven_days_ago:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),start_of_previous_month:new Date(e.getFullYear(),e.getMonth()-1,1),end_of_previous_month:new Date(e.getFullYear(),e.getMonth(),0),three_months_ago:new Date(e.getFullYear(),e.getMonth(),e.getDate()-92)}}(Q),q=function(e,t){var a=t.today,n=t.yesterday,r=t.start_of_month,c=t.seven_days_ago,o=t.start_of_previous_month,i=t.end_of_previous_month;return[{label:e("today",{date:Object(g.j)(a)}),value:"today"},{label:e("thisMonth",{startDate:Object(g.j)(r),endDate:Object(g.j)(a)}),value:"this_month"},{label:e("thisWeek",{startDate:Object(g.j)(c),endDate:Object(g.j)(n)}),value:"this_week"},{label:e("previousMonth",{startDate:Object(g.j)(o),endDate:Object(g.j)(i)}),value:"previous_month"},{label:e("custom"),value:"custom"}]}(t,X),Z="custom"===I.value,K=Z&&!W,J=Object(s.isEmpty)(N)||D||K,$=Object(c.useState)(X.three_months_ago),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(X.today),re=Object(r.a)(ne,2),ce=re[0],oe=re[1];Object(c.useEffect)((function(){H&&oe(new Date(C.getFullYear(),C.getMonth(),C.getDate()+92))}),[C]),Object(c.useEffect)((function(){var e=new Date(j.getFullYear(),j.getMonth(),j.getDate()-92);H&&ae(e.setHours(0,0,0,0))}),[j]),Object(c.useEffect)((function(){k(""),w(v(t)),Y(!1)}),[h]);var ie=function(e,t){var r,c=new Date(Object(g.n)(t));if(isNaN(c.getTime()))z(!1);else switch(z(!0),e){case"start":r={dateStart:c},H||(r.dateEnd=c,Y(!0)),i(Object(n.a)(Object(n.a)({},a),r));break;case"end":r={dateEnd:c},H||(r.dateStart=c,Y(!0)),i(Object(n.a)(Object(n.a)({},a),r));break;default:return}},se=o.a.createElement("div",{className:"export-modal-footer"},o.a.createElement(p.a,{onClick:function(){!J&&m()},id:"export-transactions",isLoading:E,isDisabled:E||J},t("sendToEmail"))),le=Z&&o.a.createElement("div",{className:"new-transactions-export-date-picker-container"},o.a.createElement("div",{className:"new-transactions-export-date-picker"},o.a.createElement(O.a,{date:!0,value:C,inputFormat:A,outputFormat:x,onChange:function(e){ie("start",e)},max:j&&j.setHours(0,0,0,0),min:H&&te,label:t("commonWords:from"),placeholder:t("selectDate")}),o.a.createElement("div",{className:"date-divider"},"-"),o.a.createElement(O.a,{date:!0,value:j,inputFormat:A,outputFormat:x,onChange:function(e){ie("end",e)},min:H&&C,max:ce.getTime()>X.today.getTime()?X.today:ce,label:t("commonWords:to"),placeholder:t("selectDate")}))),ue=o.a.createElement("div",{className:"new-transactions-export-selector"},o.a.createElement(b.a,{label:t("dateRange"),value:I,options:q,onChange:function(e){w(e);var t={};switch(e.value){case"today":t={dateStart:Q,dateEnd:Q},i(Object(n.a)(Object(n.a)({},a),t));break;case"this_month":t={dateStart:X.start_of_month,dateEnd:Q},i(Object(n.a)(Object(n.a)({},a),t));break;case"this_week":t={dateStart:X.seven_days_ago,dateEnd:X.yesterday},i(Object(n.a)(Object(n.a)({},a),t));break;case"previous_month":t={dateStart:X.start_of_previous_month,dateEnd:X.end_of_previous_month},i(Object(n.a)(Object(n.a)({},a),t))}},searchConfig:{enabled:!1},labelTooltip:S&&{text:t("basedOnCreated")}}),Z&&o.a.createElement(y.a,{infoPanel:!0,icon:l.z,smallIcon:!0,customCss:"new-transactions-export-banner"},o.a.createElement("span",{className:"info-panel-text"},t("maximumDateRangeInfo")))),de=o.a.createElement(T.a,{label:t("sendToEmailLabel"),value:P,onChange:function(e){i(Object(n.a)(Object(n.a)({},a),{},{emailErrorMessage:""})),k(e.target.value)},errorMessage:D,customCss:"new-transactions-export-text-area",placeholder:"email@mail.com",labelTooltip:{text:t("emailInputInfo")},helperText:t("useCommaOrSpace"),isError:D,onBlur:function(){Object(s.isEmpty)(P)&&i(Object(n.a)(Object(n.a)({},a),{},{emailErrorMessage:""}))},pillsTextAreaConfig:{items:N,setItems:function(e){e.length<6?i(Object(n.a)(Object(n.a)({},a),{},{emails:e})):(i(Object(n.a)(Object(n.a)({},a),{},{emailErrorMessage:t("upToFiveEmail")})),setTimeout((function(){i(Object(n.a)(Object(n.a)({},a),{},{emailErrorMessage:""}))}),1500))},validPattern:_.EMAIL,extraAction:function(e){switch(e){case"valid":k("");break;default:P&&i(Object(n.a)(Object(n.a)({},a),{},{emailErrorMessage:t("".concat(e,"Email"))}))}}}});return o.a.createElement(d.a,{showModal:h,handleClose:u,preserveMobileView:!0,title:t("commonWords:export"),closeButton:!0,size:"sm",customCss:"new-transactions-export-modal",footer:se},o.a.createElement("div",{className:"new-transactions-export-modal-content"},ue,le,de))});C.defaultProps={exportModalConfig:{isExporting:!1,isModalOpen:!1,inputFormat:"",outputFormat:"",emails:[],emailErrorMessage:""}};t.a=Object(i.a)(["exportTransactionsModal","commonWords"])(C)},1877:function(e,t,a){var n=a(470);e.exports=function(e){return n(e).toUpperCase()}},1883:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(0),r=a.n(n),c=a(288),o=a.n(c),i=a(1575),s=a.n(i),l=a(481),u=function(e,t){switch(t){case l.a.INVITED:return r.a.createElement(s.a,{variant:"warning",text:e("xenPlatformTab:invited")});case l.a.REGISTERED:return r.a.createElement(s.a,{variant:"warning",text:e("xenPlatformTab:registered")});case l.a.AWAITING_DOCS:return r.a.createElement(s.a,{variant:"warning",text:e("xenPlatformTab:awaitingDocs")});case l.a.FORM_CONFIRMED:case l.a.PENDING_VERIFICATION:return r.a.createElement(s.a,{variant:"warning",text:e("xenPlatformTab:kycSubmitted")});case l.a.TIER_1:return r.a.createElement(s.a,{variant:"success",text:e("xenPlatformTab:invoicesOnly")});case l.a.LIVE:return r.a.createElement(s.a,{variant:"success",text:e("xenPlatformTab:live")});case l.a.LIVE_TESTMODE:return r.a.createElement(s.a,{variant:"success",text:e("xenPlatformTab:liveTestMode")});default:return r.a.createElement(s.a,{text:t})}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=o()(e.toLowerCase());switch(e){case l.b.OWNED:case l.b.MANAGED:return r.a.createElement(s.a,{customCss:t,variant:"first-level",text:a});default:return r.a.createElement(s.a,{customCss:t,text:a})}}},1944:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t={VIRTUAL_ACCOUNT:{title:"virtualAccounts",channels:[]},RETAIL_OUTLET:{title:"retailOutlets",channels:[]},EWALLET:{title:"eWallets",channels:[]},CREDIT_CARD:{title:"creditCards",channels:[]}};return e.forEach((function(e){e.is_enabled&&t[e.channel_category].channels.push(e)})),t}},1965:function(e,t,a){"use strict";var n=a(81),r=a(9),c=a.n(r),o=a(3),i=a(19),s=a(12),l=a(0),u=a.n(l),d=a(289),m=a.n(d),p=a(296),f=a.n(p),b=a(1585),E=a.n(b),O=a(380),h=a(67),T=a(1598),y=a.n(T),_=a(37),g=a(26),v=a(1583),C=a.n(v),j=a(20),A=a.n(j),x=a(297),N=a(212),D=a(191),S=a(1870),R=a(284),F=a(205),I=a(231),w=a(115),M=a.n(w),L=a(1573),P=a(54),k=(a(1774),function(e){var t=e.t,a=e.summaryData,n=e.isXenPlatform,r=a.isFetching,c=a.data,o=a.errorMessage,i=[{type:"money-in",amount:Object(L.b)(c.incoming.amount,c.currency,!1),currency:c.currency,count:c.incoming.count,title:t("totalIncomingAmount")},{type:"money-out",amount:Object(L.b)(c.outgoing.amount,c.currency,!1),currency:c.currency,count:c.outgoing.count,title:t("totalOutgoingAmount")}],s=function(e){var a=e.type,n=e.title,c=e.amount,o=e.currency,i=e.count;return u.a.createElement(R.a,null,u.a.createElement(F.a,{lg:8,className:"summary-left-content"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement(I.a,{src:"/images/icons/".concat(a,"-icon.svg"),className:"summary-card-icon"}),u.a.createElement("div",{className:"summary-content-section"},u.a.createElement("p",{className:"summary-content-title"},n),r?u.a.createElement(M.a,null):u.a.createElement("p",{className:"summary-amount-text"},u.a.createElement("span",null,o),c)))),u.a.createElement(F.a,{lg:4,className:"summary-right-content"},u.a.createElement("div",{className:"summary-content-section"},u.a.createElement("p",{className:"summary-content-title"},t("transactionsCount")),r?u.a.createElement(M.a,null):u.a.createElement("p",{className:"summary-count-text"},i))))};return n?function(e){return u.a.createElement("div",{className:"summary-card-section-xenplatform card"},u.a.createElement("div",{className:"summary-card-container-xenplatform"},e.map((function(e){return u.a.createElement("div",{className:"summary-card-xenplatform",key:e.type},s(e))}))))}(i):function(e){return u.a.createElement("div",{className:"summary-card-section",id:"summary-card-section"},u.a.createElement("div",{className:"summary-card-container"},e.map((function(e){return u.a.createElement(P.a,{customCss:"summary-card",id:"".concat(e.type,"-section"),isError:!m()(o),errorText:o,key:e.type},s(e))}))))}(i)});k.defaultProps={summaryData:{data:{currency:"",incoming:{amount:0,count:0},outgoing:{amount:0,count:0}}}};var U=Object(O.a)("newTransactions")(k),B=a(50),H=a(48),Y=a(189),V=a(31),G=a.n(V),W=a(1730),z=a.n(W),Q=a(1877),X=a.n(Q),q=a(288),Z=a.n(q),K=a(717),J=a.n(K),$=a(1575),ee=a.n($),te=a(490),ae=a(495),ne=a(28),re=H.c.TODAY,ce="/api/transaction_history_v4",oe="/api/balances_v4",ie="/api/transactions_v4_report",se="/api/transactions_v4_summary",le={VIRTUAL_ACCOUNT:"Virtual Account",EWALLET:"eWallet",CARDS:"Cards",RETAIL_OUTLET:"Retail Outlet",DIRECT_DEBIT:"Direct Debit",QR_CODE:"QR Code",CARDLESS_CREDIT:"Cardless Credit",INVOICE:"Invoice",BANK:"Bank",CASH:"Cash",XENPLATFORM:"XenPlatform",PAYLATER:"Paylater"},ue={SAHABAT_SAMPOERNA:"bss",BA_BRI:"bri",DC_BRI:"bri",DD_BRI:"bri",BA_BPI:"bpi",DC_BPI:"bpi",DD_BPI:"bpi",BA_UBP:"ubp",DC_UBP:"ubp",DD_UBP:"ubp"},de={SUCCESS:"Success",PENDING:"Pending",FAILED:"Failed",REVERSED:"Reversed",REFUNDED:"Refunded"},me={statuses:[],types:[],channel_categories:[]},pe={BATCH_DISBURSEMENT:"Batch Disbursement",DISBURSEMENT:"Disbursement",PAYMENT:"Payment",REMITTANCE:"Remittance",REMITTANCE_PAYOUT:"Remittance Payout",TRANSFER:"Transfer"},fe=["SUCCESS","PENDING","FAILED","REVERSED","REFUNDED"],be=function(e,t){return{Indonesia:{xendit:["PAYMENT","DISBURSEMENT","BATCH_DISBURSEMENT","TRANSFER"],instamoney:t===ne.a.INSTAMONEY&&!e.exclude_dashboard_page.includes("remittance")?["PAYMENT","REMITTANCE","REMITTANCE_PAYOUT"]:["PAYMENT","DISBURSEMENT","BATCH_DISBURSEMENT"]},Philippines:["PAYMENT","DISBURSEMENT","BATCH_DISBURSEMENT","TRANSFER"]}},Ee=function(e,t){return{Indonesia:{xendit:["BANK","INVOICE","VIRTUAL_ACCOUNT","EWALLET","CARDS","DIRECT_DEBIT","RETAIL_OUTLET","QR_CODE","CARDLESS_CREDIT","XENPLATFORM"],instamoney:t===ne.a.INSTAMONEY&&!e.exclude_dashboard_page.includes("remittance")?["BANK","VIRTUAL_ACCOUNT"]:["BANK","VIRTUAL_ACCOUNT","EWALLET","RETAIL_OUTLET"]},Philippines:["BANK","INVOICE","CARDS","DIRECT_DEBIT","RETAIL_OUTLET","EWALLET","PAYLATER","XENPLATFORM"]}},Oe={isFetching:!1,errorMessage:"",data:{currency:"",incoming:{amount:0,count:0},outgoing:{amount:0,count:0}}},he=function(e,t){var a=new Date(re),n=new Date(re);return a.setHours(0,0,0,0),{isExporting:!1,isModalOpen:!1,dateStart:a,dateEnd:n,inputFormat:e.date_time_picker,outputFormat:H.a.GMT_MS_Z,emails:[t.email],emailErrorMessage:""}},Te={title:"",subtitle:"",type:"",showModal:!1,additionalContent:""},ye=function(e){return[{dataField:"status",text:e("status"),formatter:Ce,headerStyle:{width:"12%"}},{dataField:"transaction_type",text:e("type"),formatter:_e,headerStyle:{width:"10%"}},{dataField:"payment_channel",text:e("channel"),formatter:ge,headerStyle:{width:"10%"}},{dataField:"account_identifier",text:e("account"),formatter:je,headerStyle:{width:"20%"}},{dataField:"amount",text:e("amount"),formatter:xe},{dataField:"reference",text:e("reference")},{dataField:"created",text:e("dateCreated"),formatter:Ae},{dataField:"",formatter:Ne,headerStyle:{width:"5%"},formatExtraData:{t:e}}]},_e=function(e){return(t=e).includes("PAYMENT")||t.includes("INVOICE")?"Payment":t.includes("TRANSFER")||t.includes("PLATFORM_FEE")?"Transfer":"BATCH_DISBURSEMENT"===t?"Batch Disbursement":t.includes("DISBURSEMENT")?"Disbursement":"REMITTANCE_PAYOUT"===t?"Remittance Payout":"REMITTANCE"===t?"Remittance":t;var t},ge=function(e){return le[e]||e},ve=function(e){return u.a.createElement("img",{src:"/images/icons/new-transaction/".concat(e,".svg"),alt:e})},Ce=function(e){var t=Z()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"SUCCESS":case"COMPLETED":case"PENDING_SETTLEMENT":case"SETTLING":return u.a.createElement(ee.a,{variant:"success",text:"Success",iconLeft:ve("success")});case"PENDING":case"AWAITING_SETTLEMENT":return u.a.createElement(ee.a,{variant:"warning",text:"Pending",iconLeft:ve("pending")});case"FAILED":return u.a.createElement(ee.a,{variant:"danger",text:"Failed",iconLeft:ve("fail")});default:return u.a.createElement(ee.a,{text:t,iconLeft:ve("default")})}},je=function(e,t){var a=t.channel_code,n=(null===a||void 0===a?void 0:a.startsWith("PH_"))?a.split("_")[1]:a,r=ue[n]||E()(n),c=u.a.createElement("img",{src:"/images/".concat(r,"-logo.svg"),width:35,alt:"channel-logo",className:"mr-8",onError:function(e){e.target&&(e.target.style="display: none")}});return u.a.createElement("div",{className:"d-flex align-items-center"},c,u.a.createElement("span",{className:"font-weight-bold color-gray-700"},e))},Ae=function(e){return G()(new Date(e)).format("D MMM YYYY, hh:mm A")},xe=function(e,t){var a=t.currency,n=t.is_money_in,r=Object(L.b)(e>0?e:0-e,a,!1),c="/images/icons/money-".concat(n?"in":"out","-icon.svg");return u.a.createElement(u.a.Fragment,null,u.a.createElement("img",{src:c,height:12,alt:"money-in-icon",className:"mr-8"}),u.a.createElement("span",{className:"font-weight-bold color-gray-700"},a," ",r))},Ne=function(e,t,a,n){var r=n.t,c=[{field:"id",text:r("commonWords:copyTransactionID"),textPressed:r("commonWords:valueCopied"),action:"copy"},{field:"reference",text:r("commonWords:copyReference"),textPressed:r("commonWords:valueCopied"),action:"copy"}];return m()(t.invoice_id)||c.push({field:"invoice_id",text:r("commonWords:copyInvoiceID"),textPressed:r("commonWords:valueCopied"),action:"copy"}),u.a.createElement(J.a,{row:t,items:c})},De=function(e,t){return e.map((function(e,a){var n=e.updated,r=e.transaction_type,c=e.amount,i=e.payment_channel,s=e.is_money_in,l=e.currency,d=e.channel_code,m=e.status,p=(null===d||void 0===d?void 0:d.startsWith("PH_"))?d.split("_")[1]:d,f=ue[p]||E()(p),b=u.a.createElement("img",{src:"images/".concat(f,"-logo.svg"),height:12,alt:"channel-logo",className:"my-auto",onError:function(e){e.target&&(e.target.style="display: none")}});return Object(o.a)(Object(o.a)({},e),{},{status:void 0,secondRowContent:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"d-flex align-items-left flex-column"},u.a.createElement("div",{className:"d-flex align-items-center mb-2"},u.a.createElement("div",{className:"mr-2",id:0===a?"first-item-status-pill":""},Ce(m)),u.a.createElement("span",{className:"text-sm font-weight-bold color-black-400 mr-8"},_e(r),","," ",ge(i)),b),u.a.createElement("div",{className:"balance-mobile-row-amount"},xe(c,{currency:l,is_money_in:s}))),u.a.createElement("div",{className:"d-flex third-row-mobile-container"},u.a.createElement("p",{className:"mb-0 color-gray-700 text-date"},G()(n).format(H.a.FULL_DATE)),u.a.createElement("div",{className:"action-button-mobile-container"},Ne(null,e,null,{t:t}))))})}))},Se=function(e,t,a,n){var r=Ee(n,a),c=r[t][a]||r[t],o={BANK:e("bank"),INVOICE:e("invoice"),VIRTUAL_ACCOUNT:e("virtualAccount"),EWALLET:e("ewallet"),CARDS:e("cards"),DIRECT_DEBIT:e("directDebit"),RETAIL_OUTLET:e("retailOutlet"),QR_CODE:e("qrCode"),CARDLESS_CREDIT:e("cardlessCredit"),PAYLATER:e("paylater"),XENPLATFORM:e("xenPlatform")};return c.map((function(e){return{type:e,label:o[e],group:"channel_categories"}}))},Re=function(e,t,a,n){var r=be(n,a),c=r[t][a]||r[t],o={PAYMENT:e("payment"),DISBURSEMENT:e("disbursement"),BATCH_DISBURSEMENT:e("batchDisbursement"),REMITTANCE:e("remittance"),REMITTANCE_PAYOUT:e("remittancePayout"),TRANSFER:e("transfer")};return c.map((function(e){return{type:e,label:o[e],group:"types"}}))},Fe=function(e,t,a,n){return[{title:X()(e("status")),children:[{type:"SUCCESS",label:e("success"),group:"statuses"},{type:"REVERSED",label:e("reversed"),group:"statuses"},{type:"REFUNDED",label:e("refunded"),group:"statuses"},{type:"FAILED",label:e("failed"),group:"statuses"},{type:"PENDING",label:e("pending"),group:"statuses"}]},{title:X()(e("type")),children:Re(e,t,a,n)},{title:X()(e("channel")),children:Se(e,t,a,n)}]},Ie=H.c.LAST_1_MONTH,we=H.c.TODAY;t.a=Object(h.o)(Object(O.a)(["newTransactions","commonWords"])((function(e){var t=e.t,a=e.apiCall,r=a.axiosGet,d=a.axiosPost,p=e.defaultCurrency,b=e.dateFormat,O=e.environment,h=e.history,T=e.user,v=e.entity,j=e.business,R=e.subAccountId,F=e.isTourMode,I=e.tourData,w=e.tourTableConfig,M=j.country_of_operation,P=j.permission,k=Object(l.useState)(""),V=Object(s.a)(k,2),G=V[0],W=V[1],Q=Object(l.useState)(!1),X=Object(s.a)(Q,2),q=X[0],Z=X[1],K=Object(l.useState)([]),J=Object(s.a)(K,2),$=J[0],ee=J[1],ne=Object(l.useState)(null),re=Object(s.a)(ne,2),ue=re[0],_e=re[1],ge=Object(l.useState)(1),ve=Object(s.a)(ge,2),Ce=ve[0],je=ve[1],Ae=Object(l.useState)(""),xe=Object(s.a)(Ae,2),Ne=xe[0],Se=xe[1],Re=Object(l.useState)(new Date(Ie)),Me=Object(s.a)(Re,2),Le=Me[0],Pe=Me[1],ke=Object(l.useState)(new Date(we)),Ue=Object(s.a)(ke,2),Be=Ue[0],He=Ue[1],Ye=Object(l.useState)(""),Ve=Object(s.a)(Ye,2),Ge=Ve[0],We=Ve[1],ze=Object(l.useState)(null),Qe=Object(s.a)(ze,2),Xe=Qe[0],qe=Qe[1],Ze=Object(l.useState)(me),Ke=Object(s.a)(Ze,2),Je=Ke[0],$e=Ke[1],et=Object(l.useState)(me),tt=Object(s.a)(et,2),at=tt[0],nt=tt[1],rt=Object(l.useState)(!1),ct=Object(s.a)(rt,2),ot=ct[0],it=ct[1],st=Object(l.useState)(!1),lt=Object(s.a)(st,2),ut=lt[0],dt=lt[1],mt=Object(l.useState)(Oe),pt=Object(s.a)(mt,2),ft=pt[0],bt=pt[1],Et=Object(l.useState)(he(b,T)),Ot=Object(s.a)(Et,2),ht=Ot[0],Tt=Ot[1],yt=Object(l.useState)(Te),_t=Object(s.a)(yt,2),gt=_t[0],vt=_t[1],Ct=q||m()(G),jt=!m()(R),At={};jt&&(At["for-user-id"]=R);var xt=u.a.createElement(_.a,{icon:g.p}),Nt=u.a.createElement("div",{className:"export-transactions-success-box"},u.a.createElement("p",{className:"date-range-title"},t("dateRange")),u.a.createElement("p",{className:"date-range-text"},"".concat(Object(Y.m)(ht.dateStart,b.date_time_picker)," - ").concat(Object(Y.m)(ht.dateEnd,b.date_time_picker))));Object(l.useEffect)((function(){F&&!jt||Dt()}),[O,F]),Object(l.useEffect)((function(){ut&&(wt(void 0,{page:1}),It()),dt(!1)}),[Le,Be,Je]),Object(l.useEffect)((function(){ut&&(clearTimeout(Xe),qe(setTimeout((function(){(0===Ge.length||Ge.length>2)&&(wt(void 0,{page:1}),It(),dt(!1))}),500)))}),[Ge]);var Dt=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.getItem("LAST_TRANSACTIONS_DATA");case 2:t=e.sent,h.location.state&&h.location.state.isFromDetailsPage&&!f()(t)?(a=JSON.parse(t),W(a.ledgerId),ee(a.transactionHistory),_e(a.totalCount),je(a.activePage),Pe(new Date(a.dateStart)),He(new Date(a.dateEnd)),We(a.searchQuery),Mt(a.filterItems),bt(Object(o.a)(Object(o.a)({},ft),{},{data:a.summary}))):St();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt();case 2:t=e.sent,Ft(void 0,t),It(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(i.a)(c.a.mark((function e(){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),bt(Object(o.a)(Object(o.a)({},ft),{},{isFetching:!0})),a={currency:p},e.next=5,r(oe,a,At);case 5:if(!(n=e.sent).error_code){e.next=11;break}return Z(!1),bt(Object(o.a)(Object(o.a)({},ft),{},{isFetching:!1})),Se(t("ERROR_FETCHING_TRANSACTIONS")),e.abrupt("return");case 11:if(m()(n)){e.next=14;break}return W(n[0].id),e.abrupt("return",n[0].id);case 14:Z(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(i.a)(c.a.mark((function e(a,n){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),Se(""),o={id:n||G,currency:p,created_from:Object(B.e)(Le,"start"),created_to:Object(B.e)(Be,"end"),page:a||1,limit:50},Ge&&(o.reference=Ge,delete o.created_from,delete o.created_to),m()(Je.statuses)||(o.statuses=Je.statuses),m()(Je.types)||(o.types=Je.types),m()(Je.channel_categories)||(o.channel_categories=Je.channel_categories),e.next=10,r(ce,o,At);case 10:if(i=e.sent,Z(!1),!i.error_code){e.next=15;break}return Se(Object(B.f)(i.error_code,t)),e.abrupt("return");case 15:ee(i.rows),_e(i.total_count);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(i.a)(c.a.mark((function e(a){var n,i,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bt(Object(o.a)(Object(o.a)({},ft),{},{isFetching:!0,errorMessage:""})),n=a||G,e.prev=2,i={id:n,currency:p,created_from:Object(B.e)(Le,"start"),created_to:Object(B.e)(Be,"end")},Ge&&(i.reference=Ge,delete i.created_from,delete i.created_to),m()(Je.statuses)||(i.statuses=Je.statuses),m()(Je.types)||(i.types=Je.types),m()(Je.channel_categories)||(i.channel_categories=Je.channel_categories),e.next=10,r(se,i,At);case 10:if(!(s=e.sent).error_code){e.next=13;break}throw s;case 13:l={isFetching:!1,data:s},bt(Object(o.a)(Object(o.a)({},ft),l)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),u={errorMessage:t("fetchTransactionsSummaryError"),isFetching:!1},bt(Object(o.a)(Object(o.a)({},ft),u));case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),wt=function(e,t){var a=t.page;Ft(a),je(a)},Mt=function(e){var t=function(t){return Object(o.a)(Object(o.a)({},t),e)};nt(t),$e(t)},Lt=function(e,t,a,n){vt({title:e,subtitle:t,type:a,showModal:!0,additionalContent:n})},Pt=function(){var e=Object(i.a)(c.a.mark((function e(){var a,n,r,i,s,l,u,f,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt(Object(o.a)(Object(o.a)({},ht),{},{isExporting:!0})),a=ht.dateStart,n=ht.dateEnd,r=ht.emails,i=be(P,v),s=Ee(P,v),l={id:G,from:Object(B.e)(a,"start"),to:Object(B.e)(n,"end"),currency:p,statuses:fe,types:i[M][v]||i[M],channel_categories:s[M][v]||s[M],transaction_channel_mapping:le,transaction_status_mapping:de,transaction_type_mapping:pe,user_timezone_offset:Object(Y.q)(),emails:r},Ge&&(l.reference=Ge),m()(Je.statuses)||(l.statuses=Je.statuses),m()(Je.types)||(l.types=Je.types),m()(Je.channel_categories)||(l.channel_categories=Je.channel_categories),e.next=11,d(ie,l,{},At);case 11:if(u=e.sent,kt(),!u.error_code){e.next=18;break}return f="API_VALIDATION_ERROR"===u.error_code&&u.errors[0].field.includes("emails"),b=f?t("invalidEmail"):Object(B.f)(u.error_code,t,{action:E()(t("commonWords:export"))}),Lt(t("commonWords:failed"),b,"danger"),e.abrupt("return");case 18:Lt(t("exportSent"),"","success",Nt);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kt=function(){!ht.isExporting&&Tt(he(b,T))},Ut=[u.a.createElement(A.a,{isDisabled:Ct,size:"sm",iconLeft:xt,onClick:function(){Tt(Object(o.a)(Object(o.a)({},ht),{},{isModalOpen:!0}))},customCss:"mr-2",id:"new-transactions-export-button"},t("commonWords:export"))],Bt={tableHeaderColumns:ye(t),tableContentRows:$,mobileTableContent:De($,t),isLoading:q,isError:!m()(Ne),isEmpty:m()($),loadingText:t("loadingTransactionHistory"),errorContent:u.a.createElement(N.a,{text:Ne}),emptyContent:u.a.createElement(x.a,{caption:t("emptyTransactionHistoryCaption"),subtitle:t("emptyTransactionsSubtitle")}),rowClasses:"table-row-vertical-align-middle",paginationConfig:{page:Ce,sizePerPage:50,totalSize:ue,onTableChange:wt,paginationTotalRenderer:function(e,a,n){return u.a.createElement("span",{className:"react-bootstrap-pagination-total color-gray-700"},t("showingTotalTransactions",{from:e,to:a,size:Object(L.d)(n||0)}))}},isClickable:!jt,onDetailsClicked:jt?null:function(e){y.a.setItem("LAST_TRANSACTIONS_DATA",JSON.stringify({ledgerId:G,transactionHistory:$,totalCount:ue,activePage:Ce,dateStart:Le,dateEnd:Be,searchQuery:Ge,filterItems:Je,summary:ft.data})),h.replace({pathname:h.location.pathname,state:{isFromDetailsPage:!0,isFromTransactions:!0}});var t=e.transaction_type,a=e.payment_channel,n=e.payment_id,r=e.status,c=e.invoice_id;if("INVOICE"===a&&h.push("/invoice/".concat(c),{isFromTransactions:!0}),"CARDS"===a){var o="/credit_cards/payment/";"REFUNDED"===r&&(o+="refunds/"),h.push("".concat(o).concat(n),{isFromTransactions:!0})}"BATCH_DISBURSEMENT"===t&&h.push("/batch_disbursements/".concat(n),{isFromTransactions:!0})}},Ht={start:Le,end:Be,inputFormat:b.date_time_picker,outputFormat:H.a.GMT_MS_Z,onChange:function(e,t){dt(!0);var a=new Date(Object(Y.n)(t));switch(e){case"start":Pe(a);break;case"end":He(a);break;default:return}}},Yt={value:Ge,onChange:function(e){e.preventDefault(),dt(!0),We(e.target.value)},placeholder:t("searchPlaceholder"),position:"inline"},Vt=function(e){var t=e.appliedGroupFilterItems,a=e.groupFilterItems,n=e.updateFilters,r=e.handleApplyFilters,c=e.handleClearAllFilters,o=e.handleToggleFilter,i=e.isFilterOpen,s=e.t,l=e.countryOfOperation,d=e.entity,m=e.permission,p=Object.keys(a).reduce((function(e,t){return e.concat(a[t])}),[]),f=u.a.createElement(ae.a,{selectedFilters:p,onChecked:n,filterGroups:Fe(s,l,d,m),withCheckAll:!0,onCheckAll:c,isApplyDisabled:z()(a,t),onApplyFilter:r,withGrouping:!0,expandType:"horizontal",handleToggleFilter:o}),b=p.length,E=u.a.createElement("span",{className:b>0?"color-primary font-weight-bold":""},"".concat(s("filter")," (").concat(b,")"));return[u.a.createElement(te.a,{displayText:E,children:[f],onClickEvent:!0,onMouseEvent:!1,customHandleToggle:o,customDropdownOpen:i})]}({appliedGroupFilterItems:Je,groupFilterItems:at,updateFilters:function(e){var t=e.checked,a=e.types,r=e.group,c=at[r]||[];c=t?c.filter((function(e){return!a.includes(e)})):c.concat(a),nt((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(n.a)({},r,c))}))},handleApplyFilters:function(){dt(!0),ee([]),Z(!0),$e(at),it(!1)},handleClearAllFilters:function(){nt(me)},handleToggleFilter:function(e){it(e)},isFilterOpen:ot,t:t,countryOfOperation:M,entity:v,permission:P}),Gt=F&&u.a.createElement("div",{id:"status-highlighter"});return u.a.createElement("div",{className:"new-transactions-content-container"},u.a.createElement(U,{summaryData:F?I.summary:ft,isXenPlatform:jt}),Gt,u.a.createElement(C.a,{stickyHeader:!0,tableConfig:F?w(ye,De):Bt,dateFilterConfig:Ht,searchBarConfig:Yt,filters:Vt,rightButtons:Ut}),u.a.createElement(S.a,{exportModalConfig:ht,setExportModalConfig:Tt,handleClose:kt,onExport:Pt,productPage:"transactions"}),u.a.createElement(D.a,Object.assign({},gt,{handleClose:function(){vt({title:"",subtitle:"",type:"",showModal:!1,additionalContent:""})}})))})))},1991:function(e,t,a){},2117:function(e,t,a){},2118:function(e,t,a){},2119:function(e,t,a){},2120:function(e,t,a){},2121:function(e,t,a){},2122:function(e,t,a){},2123:function(e,t,a){},2124:function(e,t,a){}}]);