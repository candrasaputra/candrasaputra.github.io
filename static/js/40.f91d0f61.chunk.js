(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[40],{1496:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(24),l=a(12),c=a(0),o=a.n(c),i=a(190),s=a(471),u=a(9),d=a.n(u),f=a(19),m=a(129),p=function(e,t,a){return function(){var r=Object(f.a)(d.a.mark((function r(n){var l;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(v()),r.prev=1,r.next=4,e("/api/fees",t);case 4:if(!(l=r.sent).error_code){r.next=7;break}throw l;case 7:n({type:m.i,payload:l}),n({type:m.f,payload:a}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n(y(r.t0));case 14:n(v());case 15:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()},h=function(e,t,a){return function(){var r=Object(f.a)(d.a.mark((function r(n){var l;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(E()),r.prev=1,r.next=4,e("/api/fee-rules",t);case 4:if(!(l=r.sent).error_code){r.next=7;break}throw l;case 7:n({type:m.d,payload:l}),n({type:m.a,payload:a}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n(F(r.t0));case 14:n(E());case 15:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e){return{type:m.e,payload:e}},g=function(e){return{type:m.j,payload:e}},v=function(){return{type:m.h}},y=function(e){return{type:m.g,payload:e}},E=function(){return{type:m.c}},F=function(e){return{type:m.b,payload:e}},C=a(27),O=a(380),w=a(1902),x=a.n(w),j=a(1583),S=a.n(j),T=a(80),P=a(31),_=a.n(P),k=a(151),D=a.n(k),N=a(1573),M=function(e){var t=e.t,a=(e.axiosGet,e.defaultCurrency),r=e.headerClasses,n=o.a.createElement(o.a.Fragment,null,t("reference"),o.a.createElement("span",{className:"ml-2 text-xs light-gray-icon"},o.a.createElement(D.a,{placement:"top",content:t("referenceHeaderInfo")}))),l=o.a.createElement(o.a.Fragment,null,t("dateCreated"),o.a.createElement("span",{className:"ml-2 text-xs light-gray-icon"},o.a.createElement(D.a,{placement:"right",content:t("createdHeaderInfo")}))),c=o.a.createElement(o.a.Fragment,null,t("settled"),o.a.createElement("span",{className:"ml-2 text-xs light-gray-icon"},o.a.createElement(D.a,{placement:"right",content:t("dateSettledHeaderInfo")})));return[{text:t("feeId"),dataField:"id",headerStyle:{width:"15%"},headerClasses:r},{text:n,dataField:"transaction.external_id",headerStyle:{width:"14%"},headerClasses:r},{dataField:"created",text:l,headerStyle:{width:"12%"},formatter:H,headerClasses:r},{text:t("destination"),dataField:"destination_account_id",formatter:function(e){return L(e)},headerStyle:{width:"10%"},headerClasses:r},{text:t("transactionAmount"),dataField:"transaction.amount",formatter:function(e){return G(t,e,a)},headerStyle:{width:"10%"},headerClasses:r},{text:t("total"),dataField:"amount",formatter:function(e){return G(t,e,a)},headerStyle:{width:"12%"},headerClasses:r},{text:c,dataField:"date_settled",headerStyle:{width:"12%"},formatter:H,headerClasses:r},{dataField:"status",text:t("status"),formatter:Q,formatExtraData:{t:t},headerStyle:{width:"10%"},headerClasses:r},{dataField:"failure",text:"",formatter:function(e){return I(e)},formatExtraData:{t:t},headerStyle:{width:"5%"}}]},R=function(e){var t=e.t,a=(e.defaultCurrency,e.headerClasses);return[{text:t("feeRuleName"),formatter:U,formatExtraData:{t:t},headerStyle:{width:"30%"},headerClasses:a},{text:t("feeRuleId"),dataField:"id",formatExtraData:{t:t},headerStyle:{width:"20%%"},headerClasses:a},{text:t("totalPlatfomFeeOnRule"),dataField:"routes[0]",formatter:function(e){return A(t,e)},headerStyle:{width:"25%"},headerClasses:a},{dataField:"created",text:t("dateCreated"),headerStyle:{width:"25%"},formatter:H,headerClasses:a}]},L=function(e){return"".concat(e.slice(1,2),"\xb7\xb7\xb7\xb7").concat(e.slice(-4))},A=function(e,t){var a=t.currency,r=t.amount,n=t.unit,l=r&&"FLAT"===n;return r&&"PERCENT"===n?"".concat(r,"%"):l?G(e,r,a):"-"},G=function(e,t,a){var r=o.a.createElement("div",{className:"light-gray-icon color-black-300"},"".concat(e("dataUnavailable")," "),o.a.createElement(D.a,{size:"sm",placement:"right",content:e("dataUnavailableInfo")}));return t?Object(N.b)(t,a,!0):r},I=function(e){return Object(C.isEmpty)(e)?"":o.a.createElement("span",{className:"light-gray-icon"},o.a.createElement(D.a,{size:"sm",placement:"bottom",content:e.message}))},U=function(e,t,a,r){var n=t.name,l=t.description;return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"font-weight-normal mb-0 color-black"},n),o.a.createElement("p",{className:"font-weight-normal mb-0 color-black-300"},Object(C.startCase)(Object(C.toLower)(l))))},H=function(e,t,a,r){var n=t.created,l=_()(new Date(n)).format("D MMM YYYY"),c=_()(new Date(n)).format("hh:mm A");return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"mb-0 font-weight-normal"},l),o.a.createElement("p",{className:"mb-0 font-weight-normal color-black-300"},c))},Q=function(e,t,a,r){var n=e,l=r.t;return V(l,n)},z=a(1575),B=a.n(z),Y={COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REFUNDED:"REFUNDED"},V=function(e,t){switch(t){case Y.COMPLETED:return o.a.createElement(B.a,{variant:"success",text:e("platformFee:completed")});case Y.FAILED:return o.a.createElement(B.a,{variant:"danger",text:e("platformFee:failed")});case Y.PENDING:return o.a.createElement(B.a,{variant:"warning",text:e("platformFee:pending")});case Y.REFUNDED:return o.a.createElement(B.a,{text:e("platformFee:refunded")});default:return o.a.createElement(B.a,{text:t})}},W=function(e){var t=e.page;return{currentOffset:(t-1)*e.sizePerPage,page:t}},J=Object.values(Y),q=function(e){return[{children:[{type:Y.COMPLETED,label:e("completed")},{type:Y.FAILED,label:e("failed")},{type:Y.PENDING,label:e("pending")},{type:Y.REFUNDED,label:e("refunded")}]}]},Z=function(e){return[{title:e("platformFees")},{title:e("feeRules")}]},$=Object(O.a)(["platformFee","commonWords"])((function(e){var t=e.t,a=e.axiosGet,r=e.feeRules,n=e.errorMessage,l=e.defaultCurrency,c=e.handleSearch,i=e.handlePageChange,s=r.loading,u=r.page,d=r.items,f=r.total,m=r.searchQuery,p={isClickable:!1,tableHeaderColumns:R({t:t,axiosGet:a,defaultCurrency:l,headerClasses:"align-middle"}),tableContentRows:d,isLoading:s,isError:!Object(C.isEmpty)(n),isEmpty:Object(C.isEmpty)(d),loadingText:t("loadingFeeRules"),errorContent:o.a.createElement(T.t,{text:n}),emptyContent:o.a.createElement(T.r,{caption:t("emptyFeeRulesCaption"),subtitle:t("emptyFeeRulesSubtitle")}),paginationConfig:{page:u,sizePerPage:20,totalSize:f,onTableChange:i,paginationTotalRenderer:function(e,a,r){return o.a.createElement("span",{className:"react-bootstrap-pagination-total color-ash-dark"},t("showingTotalFees",{from:e,to:a,size:r}))}}},h={value:m,onChange:c,tooltip:t("searchBarTooltip"),placeholder:t("searchPlaceholder"),position:"inline",customCss:"filter-item w-60 ml-auto"};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"bg-white p-4"},t("feeRulesInfo")),o.a.createElement(S.a,{stickyHeader:!0,tableConfig:p,searchBarConfig:h}))})),K=a(26),X=a(37),ee=a(97),te=Object(O.a)(["platformFee","xenPlatformError"])((function(e){var t=e.t,a=o.a.createElement("p",{className:"color-charcoal font-weight-bold mb-1"},o.a.createElement(ee.Link,{to:"/xenplatform/accounts",className:"text-decoration-none"},o.a.createElement(X.a,{icon:K.c}),t("xenPlatformHeaderLink")),"/ ".concat(t("platformFees")));return o.a.createElement("div",{className:"bg-white p-4 d-flex align-items-center justify-content-between"},a)})),ae=a(48),re=Object(O.a)(["platformFee","commonWords"])((function(e){var t=e.t,a=e.axiosGet,r=e.platformFees,n=e.errorMessage,l=e.defaultCurrency,c=e.dateStart,i=e.dateEnd,s=e.dateFormat,u=e.handleChangeDate,d=e.platformFeeStatuses,f=e.handleSearch,m=e.handleUpdateFilters,p=e.handleCheckAllFilters,h=e.handlePageChange,b=r.loading,g=r.page,v=r.items,y=r.total,E=r.searchQuery,F=function(e){var t=e.platformFeeStatuses,a=e.handleUpdateFilters,r=e.handleCheckAllFilters,n=e.platformFeeStatusesFilterGroups,l=e.t,c=o.a.createElement(T.w,{selectedFilters:t,onChecked:a,onCheckAll:r,filterGroups:n,withCheckAll:!0,withGrouping:!1});return[o.a.createElement(T.q,{displayText:l("status"),children:[c]})]}({platformFeeStatuses:d,handleUpdateFilters:m,handleCheckAllFilters:p,platformFeeStatusesFilterGroups:q(t),t:t}),O={start:c,end:i,inputFormat:s.date_time_picker,outputFormat:ae.a.GMT_MS_Z,onChange:u},w={isClickable:!1,tableHeaderColumns:M({t:t,axiosGet:a,defaultCurrency:l,headerClasses:"align-middle"}),tableContentRows:v,isLoading:b,isError:!Object(C.isEmpty)(n),isEmpty:Object(C.isEmpty)(v),loadingText:t("loadingPlatformFees"),errorContent:o.a.createElement(T.t,{text:n}),emptyContent:o.a.createElement(T.r,{caption:t("emptyPlatformFeesCaption"),subtitle:t("emptyPlatformFeeSubtitle")}),paginationConfig:{page:g,sizePerPage:20,totalSize:y,onTableChange:h,paginationTotalRenderer:function(e,a,r){return o.a.createElement("span",{className:"react-bootstrap-pagination-total color-ash-dark"},t("showingTotalFees",{from:e,to:a,size:r}))}}},x={value:E,onChange:f,tooltip:t("searchBarTooltip"),placeholder:t("searchPlaceholder"),position:"inline",customCss:"filter-item c-search-field ml-auto"};return o.a.createElement(S.a,{stickyHeader:!0,filters:F,dateFilterConfig:O,tableConfig:w,searchBarConfig:x})})),ne=(a(2116),a(468)),le=a(189),ce=ae.c.LAST_1_MONTH,oe=ae.c.TODAY,ie=Object(s.b)((function(e){return Object(r.a)({},e.platformFee)}),(function(e){return Object(i.b)({getPlatformFeeList:p,setPlatformFeeSearchQuery:g,getFeeRulesList:h,setFeeRulesSearchQuery:b},e)}));t.default=Object(O.a)(["platformFee","commonWords"])(ie((function(e){var t=e.t,a=e.apiCall.axiosGet,r=e.defaultCurrency,i=e.dateFormat,s=e.getPlatformFeeList,u=e.setPlatformFeeSearchQuery,d=e.getFeeRulesList,f=e.setFeeRulesSearchQuery,m=e.platformFees,p=e.feeRules,h=Object(c.useState)(0),b=Object(l.a)(h,2),g=b[0],v=b[1],y=Object(c.useState)(null),E=Object(l.a)(y,2),F=E[0],O=E[1],w=Object(c.useState)(null),j=Object(l.a)(w,2),S=j[0],T=j[1],P=Object(c.useState)(J),_=Object(l.a)(P,2),k=_[0],D=_[1],N=Object(c.useState)(""),M=Object(l.a)(N,2),R=M[0],L=M[1],A=Object(c.useState)(""),G=Object(l.a)(A,2),I=G[0],U=G[1],H=Object(c.useState)(new Date(ce)),Q=Object(l.a)(H,2),z=Q[0],B=Q[1],Y=Object(c.useState)(new Date(oe)),V=Object(l.a)(Y,2),q=V[0],K=V[1],X=Object(c.useState)(!1),ee=Object(l.a)(X,2),ae=ee[0],ie=ee[1],se=Object(c.useState)(!1),ue=Object(l.a)(se,2),de=ue[0],fe=ue[1],me=m.searchQuery,pe=p.searchQuery;Object(c.useEffect)((function(){switch(g){case 0:he({});break;case 1:be({});break;default:return}}),[g]),Object(c.useEffect)((function(){clearTimeout(F),O(setTimeout((function(){(!me||me.length>2)&&ae&&he({})}),500))}),[me]),Object(c.useEffect)((function(){clearTimeout(S),T(setTimeout((function(){(!pe||pe.length>2)&&de&&be({})}),500))}),[pe]),Object(c.useEffect)((function(){ae&&he({})}),[z,q,k]);var he=function(e){var r=e.offset,n=void 0===r?0:r,l=e.page,c=void 0===l?1:l,o=e.limit,i=void 0===o?20:o,u=function(e){var t=e.platformFeeStatuses,a=e.offset,r=e.searchQuery,n=e.didUpdateFilter,l=e.dateStart,c=e.dateEnd,o={statuses:t,limit:e.limit,offset:a};return n&&(o.from=l,o.to=c),Object(C.isEmpty)(r)||(o.search=r,delete o.from,delete o.to),o}({platformFeeStatuses:k,offset:n,didUpdateFilter:ae,dateStart:Object(le.c)(z,"start"),dateEnd:Object(le.c)(q,"end"),searchQueryPlatformFee:me,limit:i});Object(C.isEmpty)(me)||(u.search=me),s(a,u,c);var d=m.error,f=m.errorObj;d&&f.error_code&&L(Object(ne.a)(f.error_code,t))},be=function(e){var r=e.offset,n=void 0===r?0:r,l=e.page,c=void 0===l?1:l,o=e.limit,i=function(e){var t=e.offset,a=e.searchQueryFeeRules,r={limit:e.limit,offset:t};return Object(C.isEmpty)(a)||(r.search=a),r}({offset:n,searchQueryFeeRules:pe,limit:void 0===o?20:o});d(a,i,c);var s=p.error,u=p.errorObj;s&&u.error_code&&U(Object(ne.a)(u.error_code,t))},ge=o.a.createElement(re,{axiosGet:a,dateEnd:q,dateFormat:i,dateStart:z,defaultCurrency:r,errorMessage:R,handleChangeDate:function(e,t){switch(e){case"start":B(new Date(Object(le.l)(t,"from")));break;case"end":K(new Date(Object(le.l)(t,"to")))}ie(!0)},handleCheckAllFilters:function(){var e=Object(C.isEmpty)(k)?J:[];D(e),ie(!0)},handlePageChange:function(e,t){var a=W(t),r=a.currentOffset,n=a.page;he({offset:r,page:n})},handleSearch:function(e){e.preventDefault(),u(e.target.value),ie(!0)},handleUpdateFilters:function(e){var t=Object(n.a)(k);k.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),D(t),ie(!0)},platformFeeStatuses:k,platformFees:m}),ve=o.a.createElement($,{axiosGet:a,defaultCurrency:r,errorMessage:I,handlePageChange:function(e,t){var a=W(t),r=a.currentOffset,n=a.page;be({offset:r,page:n})},handleSearch:function(e){e.preventDefault(),f(e.target.value),fe(!0)},feeRules:p});return o.a.createElement(o.a.Fragment,null,o.a.createElement(te,null),o.a.createElement(x.a,{tabSwitcherConfig:{tabs:Z(t),activeTab:g,changeActiveTab:function(e){v(e)}},stickyHeader:!0,isMobileView:!0},function(e){switch(e){case 0:return ge;case 1:return ve;default:return}}(g)))})))},1573:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return i}));var r=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},n=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},c=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=l(e,r),c="IDR"===t?n.replace(/,/g,"."):n,o=a?"".concat(t," "):"",i="".concat(o).concat(c);return i},o=function(e,t,a){var r=t?c(e,t):l(e),n=r.split("-").join(""),o="".concat((null!=a?a:e>0)?"+ ":"- "," ").concat(n);return 0===e&&(o=r),o},i=function(e){return"".concat((100*e).toFixed(2),"%")}},1575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(0)),n=o(a(2)),l=o(a(6)),c=o(a(1576));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(1577);var s=function(e){var t,a=e.text,n=e.iconLeft,o=e.customCss,s=e.variant,u=(0,l.default)((i(t={"status-pill":!0},"status-pill-".concat(s),s),i(t,o,o),t));return r.default.createElement(c.default,{text:a,iconLeft:n,customCss:u})};s.propTypes={text:n.default.string,iconLeft:n.default.any,variant:n.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:n.default.string};var u=s;t.default=u},1576:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(467)},1577:function(e,t,a){},1769:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(1699)},1902:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CardTableSwitcher=void 0;var r=i(a(0)),n=i(a(2)),l=i(a(1769)),c=i(a(1905)),o=i(a(1910));function i(e){return e&&e.__esModule?e:{default:e}}a(1911);var s=function(e){var t=e.tabSwitcherConfig,a=e.children,n=e.stickyHeader,i=e.title,s=e.rightButtons,u=t.tabs,d=t.activeTab,f=t.changeActiveTab,m=t.scrollable,p=t.customCss,h=(0,o.default)().width<768;return r.default.createElement("div",{className:"card-table-switcher-container ".concat(p||"")},r.default.createElement(l.default,{customCss:"tab-switcher-section".concat(n?" sticky-top":"")},i&&r.default.createElement("p",{className:"tab-switcher-title"},i),r.default.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.default.createElement(c.default,{tabs:u,activeTab:d,changeActiveTab:f,scrollable:m,isMobileView:h}),s&&r.default.createElement("div",{className:"tab-switcher-buttons"},s.map((function(e,t){return r.default.createElement("div",{className:"ml-3",key:"right-button-".concat(t)},e)}))))),r.default.createElement("div",{className:"card-table-section"},a))};t.CardTableSwitcher=s,s.propTypes={tabSwitcherConfig:n.default.shape({tabs:n.default.array,activeTab:n.default.number,changeActiveTab:n.default.func,disabledText:n.default.string,scrollable:n.default.bool,customCss:n.default.string}),children:n.default.node,stickyHeader:n.default.bool,rightButtons:n.default.array},s.defaultProps={tableSwitcherConfig:{tabs:[],changeActiveTab:function(){},activeTab:0},rightButtons:[]};var u=s;t.default=u},1905:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(1906)},1906:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TabSwitcher=void 0;var r=i(a(0)),n=i(a(2)),l=i(a(1907)),c=i(a(1908)),o=i(a(6));function i(e){return e&&e.__esModule?e:{default:e}}a(1909);var s=function(e){var t,a,n,i=e.tabs,s=e.activeTab,u=e.changeActiveTab,d=e.scrollable,f=e.isMobileView,m=e.customCss,p=(0,o.default)((n=m,(a=m)in(t={"tab-switcher-container":!0,"tab-switcher-scrollable":d,"justify-content-around":f})?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t));return r.default.createElement("div",{className:p},i.map((function(e,t){var a=e.title,n=e.disabled,i=e.disabledText,d=e.id,f=e.counter,m=t===s,p=void 0!==f,h=(0,o.default)({"tab-switcher-item-container":!0,active:m,disabled:n}),b="tab-switcher-item font-weight-bold ".concat(m?"color-primary":"color-black-300"),g=r.default.createElement("div",{className:b},a,p&&r.default.createElement(c.default,{text:f,customCss:"tab-switcher-counter"}));return r.default.createElement("div",{key:t,className:h,id:d,onClick:function(){return!n&&u(t)}},n&&i?r.default.createElement(l.default,{placement:"top",content:i},g):g)})))};t.TabSwitcher=s,s.propTypes={tabs:n.default.array,activeTab:n.default.number,changeActiveTab:n.default.func,scrollable:n.default.bool,customCss:n.default.string},s.defaultProps={tabs:[],scrollable:!1};var u=s;t.default=u},1907:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(151)},1908:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(387)},1909:function(e,t,a){},1910:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(709)},1911:function(e,t,a){},2116:function(e,t,a){}}]);