(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[88],{1529:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t(9),s=t.n(r),i=t(19),l=t(12),o=t(0),c=t.n(o),u=t(67),m=t(380),d=t(174),b=t(1585),p=t.n(b),E=t(80),f=t(1581),h=t(27),g=t(149),_=t.n(g),N=t(291),O=t.n(N),S=t(474),v=t.n(S),I=t(20),C=t.n(I),D=t(1886),P=t(1579),x=t(150),T=P.h().shape({legal_name:P.i().trim().required("required"),email:P.i().trim().email("errorMessages:emailFormatError").required("required"),phone_number:P.i().trim().min(9).matches(x.PHONE_NUMBER_REGEX).required("required"),address:P.i().trim().required("required"),city:P.i().trim().required("required"),state:P.i().trim().required("required"),postal_code:P.i().trim().matches(x.numeric,"errorMessages:fieldMustBeNumeric").required("required"),name:P.i().trim().required("required"),website:P.i().trim().required("required")}),y=function(e){var a=e.t,t=e.handleNextPage,r=e.inputDetailsData,s=Object(n.a)({},r),i=function(e){return c.a.createElement(E.c,{label:a(e),isRequired:!0})};return c.a.createElement(f.a,{initialValues:s,enableReinitialize:!0,onSubmit:function(e,a){var n=a.setSubmitting;t(e),n(!1)},validationSchema:T},(function(e){var t=e.values,n=e.errors,r=e.handleChange,s=e.handleSubmit,l=e.setFieldTouched,o=e.setFieldValue,u=e.touched,m=function(e){return u[e]&&a(n[e])};return c.a.createElement(E.gb,{onSubmit:s},c.a.createElement(_.a,{defaultValue:t.legal_name,useDefaultValue:!0,label:i("fullnameLabel"),name:"legal_name",onBlur:function(){return l("legal_name")},placeholder:a("fullnamePlaceholder"),errorMessage:m("legal_name"),onChange:r,customCss:"mb-3"}),c.a.createElement(_.a,{defaultValue:t.email,useDefaultValue:!0,label:i("emailAddressLabel"),name:"email",onBlur:function(){return l("email")},placeholder:a("emailAddressPlaceholder"),errorMessage:m("email"),onChange:r,customCss:"mb-3"}),c.a.createElement(v.a,{defaultCountry:"ID",name:"phone_number",value:t.phone_number,label:i("hpNumberLabel"),placeholder:a("hpNumberPlaceholder"),onBlur:function(){return l("phone_number")},errorMessage:m("phone_number"),onChange:function(e){return o("phone_number",e)},customCss:"mt-4 mb-3",block:!0}),c.a.createElement(O.a,{value:t.address,label:i("addressLabel"),name:"address",onBlur:function(){return l("address")},placeholder:a("addressPlaceholder"),errorMessage:m("address"),onChange:r,customCss:"mb-3"}),c.a.createElement(_.a,{defaultValue:t.city,useDefaultValue:!0,label:i("cityLabel"),name:"city",onBlur:function(){return l("city")},placeholder:a("cityPlaceholder"),errorMessage:m("city"),onChange:r,customCss:"mb-3"}),c.a.createElement(_.a,{defaultValue:t.state,useDefaultValue:!0,label:i("stateLabel"),name:"state",onBlur:function(){return l("state")},placeholder:a("statePlaceholder"),errorMessage:u.state&&a(n.state),onChange:r,customCss:"mb-3"}),c.a.createElement(_.a,{defaultValue:t.postal_code,useDefaultValue:!0,label:i("postalCodeLabel"),name:"postal_code",onBlur:function(){return l("postal_code")},placeholder:a("postalCodePlaceholder"),errorMessage:m("postal_code"),onChange:r,customCss:"mb-3"}),c.a.createElement(_.a,{defaultValue:t.name,useDefaultValue:!0,label:i("businessNameLabel"),name:"name",onBlur:function(){return l("name")},placeholder:a("businessNamePlaceholder"),errorMessage:m("name"),onChange:r,customCss:"mb-3"}),c.a.createElement(_.a,{defaultValue:t.website,useDefaultValue:!0,label:i("websiteOrInstagramLabel"),name:"website",onBlur:function(){return l("website")},placeholder:a("websiteOrInstagramPlaceholder"),errorMessage:m("website"),onChange:r,customCss:"mb-3"}),c.a.createElement("div",{className:"d-flex mt-5"},c.a.createElement(C.a,{id:D.BUTTON_ID.SUBMIT_XENI_DETAILS,type:"submit",customCss:"input-details-footer-button",children:a("commonWords:next"),disabled:!Object(h.isEmpty)(n)||Object(h.isEmpty)(t)})))}))},j=t(1565),w=t(231),M=t(284),L=t(205),U=t(26),B=function(e){var a={};return e.forEach((function(e){var t=e.master_document.document_name.split(" ").join("_").toLowerCase();a[t]=P.h().required("required")})),P.h().shape(a)},R=function(e){var a=e.t,t=e.requirements,n=e.handleBackPage,r=e.submitXeniBusinessDetails,o=e.isSubmittingBusinessDetails,u=e.uploadXeniBusinessFile,m=t.permutations,d=c.a.createElement(j.a,{i18nKey:"xeniRegistration:fileFormat"},"Format ",c.a.createElement("i",null,"file")," harus dalam .jpg, .png atau .pdf dan tidak melebihi 8 mb"),b=function(e,t){return c.a.createElement("div",{className:"d-flex align-items-center justify-content-center w-100"},e?c.a.createElement("div",{className:"d-flex py-2 px-3"},c.a.createElement(w.a,{src:D.ICONS.FILE_UPLOADED_SOURCE}),c.a.createElement("p",{className:"font-weight-600 ml-3 my-0 text-break"},e)):c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{src:D.ICONS.FILE_UPLOAD_SOURCE}),c.a.createElement("p",{className:"font-weight-600 color-primary ml-3 my-0"},a("uploadWithDocName",{docName:t}))))},p=function(){var e=Object(i.a)(s.a.mark((function e(a,t){var n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitting,i={common_company_detail_documents:[]},Object.keys(a).forEach((function(e){i.common_company_detail_documents.push(a[e])})),e.next=6,r(i);case 6:n(!1);case 7:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.E,{warningPanel:!0,smallIcon:!0,icon:U.v,text:d}),c.a.createElement(f.a,{initialValues:{},enableReinitialize:!0,onSubmit:function(e,a){var t=a.setSubmitting;return p(e,t)},validationSchema:B(m)},(function(e){var t=e.values,r=e.errors,s=e.handleSubmit,i=e.setFieldValue;return c.a.createElement(E.gb,{onSubmit:s,customCss:"mt-sm"},m.map((function(e,n){var s=e.master_document,o=s.document_name,m=o.split(" ").join("_").toLowerCase(),d=t[m]&&t[m].file_name;return c.a.createElement(M.a,{key:n,className:"mb-sm"},c.a.createElement(L.a,{md:6,className:"mb-1"},c.a.createElement(E.c,{label:o,isRequired:!0})),c.a.createElement(L.a,{md:6},c.a.createElement(E.v,{key:n,name:m,accept:"image/jpeg, image/png, application/pdf",content:b(d,o),customCss:"file-uploader ".concat(d?"file-uploaded":""),uploadFunction:function(e){var a=Object(l.a)(e,1)[0];return u(a,m)},onFileChange:function(e){i(m,{master_document_id:s.id,file_address:e.id,file_name:e.name})},errorMessage:a(r[m])})))})),c.a.createElement("div",{className:"d-flex mt-5"},c.a.createElement(C.a,{isLoading:o,variant:"secondary",disabled:o,customCss:"footer-buttons",children:a("commonWords:back"),onClick:function(){return n()}}),c.a.createElement(C.a,{id:D.BUTTON_ID.SUBMIT_XENI_DETAILS,type:"submit",isLoading:o,customCss:"footer-buttons",children:a("commonWords:start"),disabled:o||!Object(h.isEmpty)(r)||Object(h.isEmpty)(t)})))})))},q=function(e){var a=e.t;return c.a.createElement("div",{className:"xeni-success-container"},c.a.createElement(w.a,{src:D.IMAGES.XENDIT_LOGO,className:"company-logo"}),c.a.createElement(w.a,{src:D.IMAGES.SUCCESS,className:"success-image"}),c.a.createElement("h4",{className:"mb-4"},a("successfulRegistration")),c.a.createElement("p",null,a("verifyingYourRegistration")),c.a.createElement("div",{className:"footer-button-wrapper"},c.a.createElement(C.a,{id:D.BUTTON_ID.RETURN_TO_XENI_APP,href:D.PATH.XENI_APP,customCss:"w-100",children:a("toMainPage")})))},A=(t(2180),t(50));a.default=Object(u.o)(Object(m.a)(["xeniRegistration","commonWords","errorMessages"])((function(e){var a=e.t,t=e.location,r=e.apiCall,u=r.axiosGet,m=r.axiosPost,b=Object(o.useState)(!1),f=Object(l.a)(b,2),h=f[0],g=f[1],_=Object(o.useState)(1),N=Object(l.a)(_,2),O=N[0],S=N[1],v=Object(o.useState)({}),I=Object(l.a)(v,2),C=I[0],P=I[1],x=Object(o.useState)({}),T=Object(l.a)(x,2),j=T[0],w=T[1],M=Object(o.useState)(!1),L=Object(l.a)(M,2),U=L[0],B=L[1],k=Object(o.useState)({title:"",subtitle:"",type:"",showModal:!1}),F=Object(l.a)(k,2),X=F[0],V=F[1];Object(o.useEffect)((function(){d.a.changeLanguage("id"),Q(),W()}),[]);var W=function(){var e=new URLSearchParams(t.search).has("success");g(e)},G=function(e,a,t){V({title:e,subtitle:a,type:t,showModal:!0})},Y=function(e){var a=O+1;w(e),S(a)},H=function(){S(O-1)},Q=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(D.ENDPOINTS.XENI_REQUIREMENTS);case 2:if(!(t=e.sent).error_code){e.next=6;break}return G(a("commonWords:oops"),a("errorMessages:unableToProcessYourRequest"),"danger"),e.abrupt("return");case 6:P(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(s.a.mark((function e(t){var r,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),r=Object(n.a)(Object(n.a)({},j),t),e.next=4,m(D.ENDPOINTS.CREATE_XENI,r);case 4:if(!(i=e.sent).error_code){e.next=11;break}return l="TOO_MANY_REQUESTS"===i.error_code?Object(A.f)(i.error_code,a,{action:p()(a("commonWords:submit"))}):a("errorMessages:unableToProcessYourRequest"),G(a("commonWords:oops"),l,"danger"),e.abrupt("return");case 11:window.history.replaceState(null,null,"?success"),g(!0);case 12:B(!1);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file_content",t),r.append("doc_type",n),e.next=5,m(D.ENDPOINTS.UPLOAD_XENI_BUSINESS_FILE,r);case 5:if(!(i=e.sent).error_code){e.next=10;break}return l="TOO_MANY_REQUESTS"===i.error_code?Object(A.f)(i.error_code,a,{action:p()(a("commonWords:submit"))}):a("errorMessages:unableToProcessYourRequest"),G(a("commonWords:oops"),l,"danger"),e.abrupt("return",i);case 10:return i.name=t.name,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),K=[{title:a("inputDetails")},{title:a("uploadDocuments")}];return c.a.createElement(c.a.Fragment,null,h?c.a.createElement(q,{t:a}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"xeni-stepper"},c.a.createElement("h5",{className:"color-black-500 mt-3"},a("completeYourProfile")),c.a.createElement(E.cb,{steps:K,current:O-1,direction:"vertical"})),c.a.createElement("div",{className:"xeni-content bg-light-grey"},function(){switch(O){case 1:return c.a.createElement(y,{t:a,handleNextPage:Y,inputDetailsData:j});case 2:return c.a.createElement(R,{t:a,requirements:C,handleBackPage:H,uploadXeniBusinessFile:J,submitXeniBusinessDetails:z,isSubmittingBusinessDetails:U})}}())),c.a.createElement(E.j,Object.assign({},X,{handleClose:function(){V({title:"",subtitle:"",type:"",showModal:!1})}})))})))},1585:function(e,a,t){var n=t(470);e.exports=function(e){return n(e).toLowerCase()}},1886:function(e,a){e.exports={ENDPOINTS:{XENI_REQUIREMENTS:"/api/xeni-requirements",UPLOAD_XENI_BUSINESS_FILE:"/api/upload-xeni-business-file",CREATE_XENI:"/api/create-xeni"},BUTTON_ID:{SUBMIT_XENI_DETAILS:"submit-xeni-details",SUBMIT_XENI_DOCUMENTS:"submit-xeni-documents",RETURN_TO_XENI_APP:"return-to-xeni-app"},ICONS:{FILE_UPLOAD_SOURCE:"/images/icons/icon-file-upload.svg",FILE_UPLOADED_SOURCE:"/images/icons/icon-file-uploaded.svg"},IMAGES:{XENDIT_LOGO:"/images/xendit-blue-logo.svg",SUCCESS:"/images/home-activate-icon.png"},PATH:{XENI_APP:"https://xenikeyboard.page.link/xBrf274Z5pH3Vsj2A"}}},2180:function(e,a,t){}}]);