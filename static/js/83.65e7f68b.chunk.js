(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[83],{1520:function(t,e,a){"use strict";a.r(e);var n=a(24),r=a(9),c=a.n(r),o=a(3),i=a(19),s=a(12),u=a(0),d=a.n(u),l=a(31),f=a.n(l),m=a(27),p=a(380),b=a(1598),_=a.n(b),O="/api/remittance_payouts",h=function(t){return{width:"5%",items:[{field:"external_id",text:t("commonWords:copyExternalID"),textPressed:t("commonWords:valueCopied"),action:"copy"}]}},j=a(288),v=a.n(j),x=a(1575),g=a.n(x),D=function(t){return[{dataField:"status",text:t("status"),formatter:function(t){return function(t){var e=function(t){return t.replace(/_/g," ")}(v()(null===t||void 0===t?void 0:t.toLowerCase()));switch(t){case"COMPLETED":return d.a.createElement(g.a,{text:e,variant:"success"});case"FAILED":return d.a.createElement(g.a,{text:e,variant:"danger"});default:return d.a.createElement(g.a,{text:e,variant:"warning"})}}(t)}},{dataField:"created",text:t("dateCreated"),type:"text"},{dataField:"transaction_id",text:t("transactionID"),type:"text"},{dataField:"recipient_customer_id",text:t("recipientCustomerID"),type:"text"},{dataField:"external_id",text:t("externalId"),type:"text"},{dataField:"amount",text:t("amount"),type:"text"}]},y=a(1573),C=a(1583),M=a.n(C),E=a(80),T=a(48),S=function(t){var e=t.searchQuery,a=t.updateSearchQuery,n=t.startDate,r=t.endDate,c=t.updateDate,o=t.dateFormat,i=t.onClickLoadMore,s=t.withLoadMore,u=t.errorMessage,l=t.isLoading,f=t.remittancePayoutsData,p=t.onDetailsClicked,b=t.t,_={start:n,end:r,inputFormat:o.date_time_picker,outputFormat:T.a.GMT_MS_Z,onChange:c,customCss:"filter-item"},O={value:e,onChange:a,tooltip:b("searchBarTooltip"),tooltipPlacement:"bottom",placeholder:b("searchBarPlaceholder"),position:"inline",customCss:"filter-item"},j={isClickable:!0,tableHeaderColumns:D(b),tableContentRows:f,withLoadMore:s,onClickLoadMore:i,loadMoreText:b("commonComponents:tableMore"),isLoading:l.transactions,isLoadingMore:l.refetch,isError:!Object(m.isEmpty)(u),isEmpty:Object(m.isEmpty)(f),loadingText:b("loadingText"),errorContent:d.a.createElement(E.t,{text:u}),emptyContent:d.a.createElement(E.r,{caption:b("emptyCaption"),subtitle:b("emptySubtitle")}),actionButtonConfig:h(b),onDetailsClicked:function(t){return p(t.id)}};return d.a.createElement(M.a,{stickyHeader:!0,dateFilterConfig:_,searchBarConfig:O,tableConfig:j})};S.defaultProps={dateFormat:{date_time_picker:T.a.DD_MM_YY},isLoading:{transactions:!1,refetch:!1},statuses:[]};var k=Object(p.a)(["remittancePayouts","commonComponents"])(S),L=a(50),w=a(189),F=a(473);e.default=Object(p.a)(["remittancePayouts","errorMessages","commonComponents"])((function(t){var e=t.t,a=t.apiCall.axiosGet,r=t.history,l=t.environment,p=t.dateFormat,b=T.c.TODAY,h=T.c.LAST_1_MONTH,j=T.c.TIMEZONE,v=Object(u.useState)(new Date(b)),x=Object(s.a)(v,2),g=x[0],D=x[1],C=Object(u.useState)(new Date(h)),M=Object(s.a)(C,2),E=M[0],S=M[1],P=Object(u.useState)(void 0),A=Object(s.a)(P,2),I=A[0],Y=A[1],N=Object(u.useState)(void 0),R=Object(s.a)(N,2),Q=R[0],B=R[1],U=Object(u.useState)([]),J=Object(s.a)(U,2),H=J[0],z=J[1],G=Object(u.useState)({transactions:!1,refetch:!1}),W=Object(s.a)(G,2),Z=W[0],q=W[1],$=Object(u.useState)(!1),K=Object(s.a)($,2),V=K[0],X=K[1],tt=Object(u.useState)(""),et=Object(s.a)(tt,2),at=et[0],nt=et[1],rt=Object(u.useState)(null),ct=Object(s.a)(rt,2),ot=ct[0],it=ct[1],st=Object(u.useState)(!1),ut=Object(s.a)(st,2),dt=ut[0],lt=ut[1];Object(u.useEffect)((function(){clearTimeout(ot),it(setTimeout((function(){(!I||I.length>2)&&bt(),lt(!1)}),500))}),[I]),Object(u.useEffect)((function(){dt&&(bt(),lt(!1))}),[E,g]),Object(u.useEffect)((function(){ft()}),[l]);var ft=function(){var t=Object(i.a)(c.a.mark((function t(){var e,a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.location.state&&r.location.state.isFromDetailsPage,q((function(t){return Object(o.a)(Object(o.a)({},t),{},{transactions:!0})})),t.next=4,_.a.getItem("LAST_REMITTANCE_PAYOUTS");case 4:if(a=t.sent,!e||Object(m.isNull)(a)){t.next=19;break}return n=JSON.parse(a),B(n.lastTimestamp),X(n.hasNext),_t("start",n.startDate),_t("end",n.endDate),q((function(t){return Object(o.a)(Object(o.a)({},t),{},{transactions:!1})})),Y(n.searchQuery),z(n.remittancePayoutsData),r.replace({pathname:r.location.pathname,state:{}}),t.next=17,_.a.removeItem("LAST_REMITTANCE_PAYOUTS");case 17:t.next=20;break;case 19:bt();case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),mt=function(t,e){var a=t.data,r=t.meta,c=function(t){return t.map((function(t){return{account_number:t.account_number,amount:Object(y.d)(t.amount),bank_code:t.bank_code,created:f()(t.created).format("DD MMM, YYYY hh:mm A"),description:t.description,external_id:t.external_id,id:t.id,purpose_code:t.purpose_code,recipient_customer_details:t.recipient_customer_details,recipient_customer_id:t.recipient_customer_id,sender_customer_id:t.sender_customer_id,source_of_funds:t.source_of_funds,status:t.status,transaction_id:t.transaction_id,updated:f()(t.updated).format("DD MMM, YYYY hh:mm A")}}))}(a),i=r.last_timestamp||"",s=e?[].concat(Object(n.a)(H),Object(n.a)(c)):c;z(s),X(r.last_timestamp),B(i),q((function(t){return Object(o.a)(Object(o.a)({},t),{},{transactions:!1,refetch:!1})}))},pt=function(){var t=Object(i.a)(c.a.mark((function t(n){var r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={from:Object(w.c)(E,"start"),to:Object(w.c)(g,"end"),last_timestamp:n?Q:void 0},I&&(r.search_query=I.trim(),delete r.from,delete r.to),nt(""),!n&&q((function(t){return Object(o.a)(Object(o.a)({},t),{},{transactions:!0})})),t.prev=4,t.next=7,a(O,r);case 7:if(!(i=t.sent).error_code){t.next=10;break}throw i;case 10:t.next=19;break;case 12:if(t.prev=12,t.t0=t.catch(4),q((function(t){return Object(o.a)(Object(o.a)({},t),{},{transactions:!1})})),i.error_code!==F.a.REQUEST_ABORTED){t.next=17;break}return t.abrupt("return");case 17:return nt(Object(L.f)(t.t0.error_code,e)),t.abrupt("return");case 19:mt(i,n);case 20:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}(),bt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pt(t)},_t=function(t,e){switch(Y(""),t){case"start":S(new Date(f()(e).tz(j).format()));break;case"end":D(new Date(f()(e).tz(j).format()));break;default:return}lt(!0)};return d.a.createElement(k,{searchQuery:I,updateSearchQuery:function(t){t.preventDefault();var e=t.target.value;Y(e),lt(!0)},startDate:E,endDate:g,updateDate:_t,dateFormat:p,onClickLoadMore:function(){q((function(t){return Object(o.a)(Object(o.a)({},t),{},{refetch:!0})})),bt(!0)},withLoadMore:V,errorMessage:at,isLoading:Z,remittancePayoutsData:H,onDetailsClicked:function(t){_.a.setItem("LAST_REMITTANCE_PAYOUTS",JSON.stringify({remittancePayoutsData:H,lastTimestamp:Q,hasNext:V,startDate:E,endDate:g,searchQuery:I})),r.replace({pathname:r.location.pathname,state:{isFromDetailsPage:!0}}),r.push("/remittance-payouts/".concat(t))}})}))},1573:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"e",(function(){return s}));var n=function(t,e){return"IDR"!==e&&e?t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):t.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},r=function(t){return t.toLocaleString("en-US").replace(/,/g,".")},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.toLocaleString("en-US",{minimumFractionDigits:e?2:0})},o=function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=c(t,n),o="IDR"===e?r.replace(/,/g,"."):r,i=a?"".concat(e," "):"",s="".concat(i).concat(o);return s},i=function(t,e,a){var n=e?o(t,e):c(t),r=n.split("-").join(""),i="".concat((null!=a?a:t>0)?"+ ":"- "," ").concat(r);return 0===t&&(i=n),i},s=function(t){return"".concat((100*t).toFixed(2),"%")}},1575:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(0)),r=i(a(2)),c=i(a(6)),o=i(a(1576));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a(1577);var u=function(t){var e,a=t.text,r=t.iconLeft,i=t.customCss,u=t.variant,d=(0,c.default)((s(e={"status-pill":!0},"status-pill-".concat(u),u),s(e,i,i),e));return n.default.createElement(o.default,{text:a,iconLeft:r,customCss:d})};u.propTypes={text:r.default.string,iconLeft:r.default.any,variant:r.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:r.default.string};var d=u;e.default=d},1576:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),t.exports=a(467)},1577:function(t,e,a){}}]);