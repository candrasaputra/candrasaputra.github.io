(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[67],{1545:function(e,t,a){"use strict";a.r(t);var n=a(9),o=a.n(n),r=a(19),i=a(12),c=a(0),l=a.n(c),s=a(380),u=a(289),d=a.n(u),f=a(284),m=a(205),p=a(1769),g=a.n(p),b=a(727),E=a.n(b),v=a(20),h=a.n(v),x=a(174),y=a(189),C=function(e){var t=e.item,a=e.handleClickNotification,n=x.a.language,o="notifications-item-container ".concat(t.is_read?"read":"unread");return l.a.createElement("div",{className:o,onClick:function(){return a(t.target_url,t.id,t.is_read)}},l.a.createElement("p",{className:"text-body-3 color-black-400 mb-04"},t.type," \u30fb ",Object(y.h)(t.created)),l.a.createElement("p",{className:"text-body-2 font-weight-600 mb-04"},t.title[n]),l.a.createElement("p",{className:"text-body-3 color-black-400"},t.message[n]))},O=function(e){var t=e.t,a=e.isMobileView,n=e.notifications,o=e.totalNotifications,r=e.errorMessage,i=e.currentPage,c=e.pageSize,s=e.handlePageChange,u=e.isLoading,p=e.getAllNotifications,b=e.handleClickNotification,v=function(e,a,n){return l.a.createElement("span",{className:"react-bootstrap-pagination-total color-black-400"},t("showingTotalNotifications",{from:e,to:a,size:n}))},x={page:i,sizePerPage:c,totalSize:o,onTableChange:s,paginationTotalRenderer:v},y=l.a.createElement(E.a,{paginationConfig:x,isMobileView:a,data:{onPageChange:function(e){x.onTableChange(e)}}}),O=l.a.createElement("div",{className:"resolution-pagination-wrapper"},a?y:l.a.createElement(f.a,{className:"p-16"},l.a.createElement(m.a,{md:6},v((i-1)*c+1,Math.min(i*c,o),o)),y)),N=n.map((function(e){return l.a.createElement(C,{item:e,handleClickNotification:b})})),j=l.a.createElement("p",{className:"mb-20 ml-1"},t("loadingNotifications")),k=l.a.createElement("div",{className:"notification-error-container"},l.a.createElement("div",null,l.a.createElement("img",{src:"/images/icons/notification-empty.svg",alt:"notif-empty"}),l.a.createElement("p",{className:"text-body-2 color-black-400 mt-4"},t("noNotification")))),T=l.a.createElement("div",{className:"notification-error-container"},l.a.createElement("div",null,l.a.createElement("img",{src:"/images/icons/notification-error.svg",alt:"notif-error"}),l.a.createElement("p",{className:"text-body-2 color-black-400 mt-4"},r),l.a.createElement(h.a,{onClick:p,variant:"ghost"},t("commonWords:refresh"))));return l.a.createElement(g.a,{customCss:"notifications-card-container",isError:r,errorContent:T,isLoading:u,loadingText:j,isEmpty:d()(n),emptyContent:k},N,O)};O.defaultProps={notifications:[]};var N=O,j="/api/notifications",k=a(80),T=a(50),P=a(150),_=(a(2170),function(e){var t=e.t,a=e.apiCall,n=a.axiosGet,s=a.axiosPost,u=a.axiosPatch,d=e.isMobileView,f=e.history,m=e.notify,p=Object(c.useState)(!1),g=Object(i.a)(p,2),b=g[0],E=g[1],v=Object(c.useState)(1),h=Object(i.a)(v,2),x=h[0],y=h[1],C=Object(c.useState)(20),O=Object(i.a)(C,2),_=O[0],w=(O[1],Object(c.useState)([])),M=Object(i.a)(w,2),S=M[0],B=M[1],L=Object(c.useState)(0),R=Object(i.a)(L,2),V=R[0],A=R[1],z=Object(c.useState)(0),F=Object(i.a)(z,2),I=F[0],H=F[1],W=Object(c.useState)(""),G=Object(i.a)(W,2),J=G[0],U=G[1];Object(c.useEffect)((function(){q()}),[x]);var q=function(){var e=Object(r.a)(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),a={page:x,limit:_},e.next=4,n(j,a);case 4:if(r=e.sent,E(!1),!r.error_code){e.next=9;break}return U(t("errorFetch")),e.abrupt("return");case 9:B(r.notifications),A(r.total_count),H(r.unread_count);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(o.a.mark((function e(a,n,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(P.URL_WITH_HTTP_OR_HTTPS_PROTOCOL_PATTERN.test(a)?window.open(a,"_blank"):f.push(a),r){e.next=9;break}return e.next=7,Object(T.p)(u,n,q);case 7:(null===(i=e.sent)||void 0===i?void 0:i.isError)&&m({type:"error",message:t("notificationCenter:errorReadOneNotification")});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.o)(s,q);case 2:(null===(a=e.sent)||void 0===a?void 0:a.isError)&&m({type:"error",message:t("notificationCenter:errorReadAllNotification")});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=b||J||0===I,X=l.a.createElement("p",{className:"text-body-3 mb-0 my-auto".concat(Q?" disabled":""),onClick:K},t("markAllAsRead")),Y=d?l.a.createElement(k.o,{title:t("notifications"),goBack:function(){return f.goBack()},children:X}):l.a.createElement("div",{className:"notification-center-header"},l.a.createElement("h3",null,t("notifications")),X);return l.a.createElement(l.a.Fragment,null,Y,l.a.createElement(N,{t:t,isMobileView:d,notifications:S,totalNotifications:V,totalUnread:I,errorMessage:J,currentPage:x,pageSize:_,handlePageChange:function(e){y(e)},isLoading:b,getAllNotifications:q,handleClickNotification:D}))});_.defaultProps={apiCall:{axiosGet:function(){},axiosPost:function(){},axiosPatch:function(){}}};t.default=Object(s.a)(["notificationCenter","commonWords"])(_)},1699:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),o=l(a(2)),r=a(34),i=l(a(6)),c=l(a(1903));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}a(1904);var u=function(e){var t,a=e.customCss,o=e.noBorder,l=e.title,u=e.headerButton,d=e.isLoading,f=e.loadingIcon,m=e.loadingText,p=e.isError,g=e.errorContent,b=e.isTestMode,E=e.testVariant,v=e.testModeText,h=e.testModeTextColor,x=e.isEmpty,y=e.emptyContent,C=e.onClick,O=s(e,["customCss","noBorder","title","headerButton","isLoading","loadingIcon","loadingText","isError","errorContent","isTestMode","testVariant","testModeText","testModeTextColor","isEmpty","emptyContent","onClick"]),N=(0,i.default)({"generic-card":!0,"generic-card-no-border":o,"generic-card-test-mode-border":b}),j=b&&"border-"+E,k="bg-"+E,T=l&&n.default.createElement("div",{className:"generic-card-title"},l);t=u?n.default.createElement("div",{className:"d-flex justify-content-between"},T,u):T;var P=n.default.createElement("div",{className:"generic-card-test-mode-label ".concat(k)},n.default.createElement("span",{className:"test-mode-text-".concat(h)},v));return n.default.createElement(r.Card,{className:"".concat(N," ").concat(a," ").concat(j),onClick:C},b&&P,n.default.createElement(r.Card.Body,null,d?n.default.createElement("div",{className:"d-flex align-items-center justify-content-center"},f||n.default.createElement(c.default,null),n.default.createElement("span",{className:"card-loading-text"},"\xa0",m)):p?n.default.createElement(n.default.Fragment,null,g):x?n.default.createElement(n.default.Fragment,null,t,y):n.default.createElement(n.default.Fragment,null,t,O.children)))};u.propTypes={customCss:o.default.string,noBorder:o.default.bool,title:o.default.oneOfType([o.default.string,o.default.node]),headerButton:o.default.node,isLoading:o.default.bool,loadingIcon:o.default.node,loadingText:o.default.string,isError:o.default.bool,errorContent:o.default.node,isTestMode:o.default.bool,testVariant:o.default.string,testModeText:o.default.string,testModeTextColor:o.default.string,isEmpty:o.default.bool,emptyContent:o.default.node,onClick:o.default.func};var d=u;t.default=d},1769:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(1699)},1903:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(115)},1904:function(e,t,a){},2170:function(e,t,a){}}]);