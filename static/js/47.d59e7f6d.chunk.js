(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[47],{1502:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),i=a(19),o=a(12),c=a(0),s=a.n(c),l=a(27),u=a(380),p=a(67),d=a(80),m=a(479),b=a.n(m),f=a(81),E=a(3),T=a(24),h=a(28),g=a(20),O=a.n(g),x=a(1573),v=a(1729),I=a(1642),y="/api/batch_remittances",_="/api/batch_remittance_files",S="/api/balances",N="/api/deposit_virtual_accounts",C="/api/top_up_flow_setting",A="/api/top_up_token",D="/api/pin_authorization_tokens",R=function(e){return"/batch-remittances/".concat(e)},w={NEEDS_APPROVAL:["NEEDS_APPROVAL","VERIFYING","HAS_ERRORS"],APPROVED:["COMPLETED","CHECK","PENDING","FAILED"]},j={NAME:["NEEDS_APPROVAL","APPROVED"],TITLE:[{title:"Needs Approval"},{title:"Approved"}]},L="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",M="/images/icons/download-bd-template-icon-purple.svg",k={purple:"/images/icons/file-icon-purple.svg",grey:"/images/icons/file-icon-grey.svg"},U=(a(1885),Object(u.a)(["batchRemittances","bcaTopUpInstructions","mandiriTopUpInstructions"])((function(e){var t=e.t,a=e.apiCall,n=e.onSuccessCreateBatch,u=e.isMobileView,p=e.user.can_edit,m=e.entity,b=e.environment,g=Object(c.useState)([]),y=Object(o.a)(g,2),_=y[0],D=y[1],R=Object(c.useState)(""),w=Object(o.a)(R,2),j=w[0],L=w[1],M=Object(c.useState)(""),k=Object(o.a)(M,2),U=k[0],B=k[1],P=Object(c.useState)(""),W=Object(o.a)(P,2),F=W[0],H=W[1],V=Object(c.useState)(!1),K=Object(o.a)(V,2),X=K[0],z=K[1],Y=Object(c.useState)(!1),q=Object(o.a)(Y,2),Q=q[0],J=q[1],Z=Object(c.useState)(!1),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(!1),ne=Object(o.a)(ae,2),re=ne[0],ie=ne[1],oe=Object(c.useState)({MANDIRI:!1,BCA:!1}),ce=Object(o.a)(oe,2),se=ce[0],le=ce[1],ue=Object(c.useState)(0),pe=Object(o.a)(ue,2),de=pe[0],me=pe[1],be=Object(c.useState)(""),fe=Object(o.a)(be,2),Ee=fe[0],Te=fe[1],he=Object(c.useState)(!1),ge=Object(o.a)(he,2),Oe=ge[0],xe=ge[1],ve=Object(c.useState)(!1),Ie=Object(o.a)(ve,2),ye=Ie[0],_e=Ie[1],Se="DEVELOPMENT"===b;Object(c.useEffect)((function(){De(),Ne()}),[]);var Ne=function(){var e=Object(i.a)(r.a.mark((function e(){var n,i,c,s,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(""),z(!0),e.next=4,Promise.all([a.axiosGet(N),a.axiosGet(C)]);case 4:if(n=e.sent,i=Object(o.a)(n,2),c=i[0],s=i[1],z(!1),!c.error_code&&!s.error_code){e.next=12;break}return H(t("errorMessages:unexpectedError")),e.abrupt("return");case 12:l=c.map((function(e){return{bankCode:e.bank_code,number:e.virtual_account_number,name:e.name}})),(s.should_use_new_top_up_flow||m===h.a.INSTAMONEY)&&(u={bankCode:I.b[m].BANK_CODE,number:I.b[m].NUMBER,name:I.b[m].NAME},l=[].concat(Object(T.a)(l),[u]),Ce()),D([].concat(Object(T.a)(_),Object(T.a)(l)));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(""),J(!0),e.next=4,a.axiosGet(A);case 4:t=e.sent,J(!1),L(t.token);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(i.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(""),te(!0),e.next=4,a.axiosPost(A);case 4:if(!(n=e.sent).error_code){e.next=8;break}return B(t("errorMessages:unexpectedError")),e.abrupt("return");case 8:te(!1),L(n.token);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(i.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(""),xe(!0),e.next=4,a.axiosGet(S);case 4:if(n=e.sent,xe(!1),!n.error_code){e.next=9;break}return Te(t("fetchBalanceError")),e.abrupt("return");case 9:me(n.cash_balance);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(d.z,{preserveMobile:!0},s.a.createElement("div",{className:"account-balance-container"},s.a.createElement("div",null,s.a.createElement("p",{className:"m-0 color-ash-dark text-fair font-weight-bold"},t("yourCashBalance")),Oe?s.a.createElement("div",{className:"mt-2"},s.a.createElement(d.X,{size:"lg"})):Ee?s.a.createElement("p",{className:"font-weight-bold m-0"},Ee):function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"text-lg color-ash-dark font-weight-bold mr-2"},e),s.a.createElement("span",{className:"text-lg font-weight-bold"},Object(x.d)(t)))}("IDR",de)),s.a.createElement("div",{className:"account-balance-button-group"},s.a.createElement(O.a,{onClick:function(){!Se&&ie(!0)},isDisabled:Se},t("topup")),p&&s.a.createElement(O.a,{customCss:"account-balance-button ml-3",onClick:function(){_e(!0)}},t("createBatch")))),s.a.createElement(v.a,{banks:_,whitelistPrefix:j,generateWhitelistPrefix:Ae,showModal:re,handleClose:function(){return ie(!1)},onHowToTopUpClick:function(e){ie(!1),le((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(f.a)({},e,!0))}))},isFetchingTopUpBalance:X,isFetchingWhitelistPrefix:Q,isGeneratingPrefix:ee,fetchTopUpBalanceError:F,whitelistPrefixError:U}),!Object(l.isEmpty)(_)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.eb,{title:t("mandiriTopUpInstructions:instructionsTitle"),content:Object(I.c)(t,_[0].number,m),showModal:se.MANDIRI,handleClose:function(){return le((function(e){return Object(E.a)(Object(E.a)({},e),{},{MANDIRI:!1})}))}}),s.a.createElement(d.eb,{title:t("bcaTopUpInstructions:instructionsTitle"),content:Object(I.a)(t,I.b.NUMBER,m,j||t("prefixNotGenerated")),showModal:se.BCA,handleClose:function(){return le((function(e){return Object(E.a)(Object(E.a)({},e),{},{BCA:!1})}))}}),s.a.createElement(G,{showModal:ye,handleClose:function(){_e(!1)},apiCall:a,isMobileView:u,onSuccessCreateBatch:function(e){_e(!1),n(e)},entity:m})))}))),B=a(49),P=a.n(B),W=a(149),F=a.n(W),H=a(468),G=Object(u.a)(["batchRemittances","errorMessages","commonWords"])((function(e){var t=e.t,a=e.showModal,n=e.handleClose,u=e.apiCall,p=e.isMobileView,m=e.onSuccessCreateBatch,b=Object(c.useState)(""),f=Object(o.a)(b,2),E=f[0],T=f[1],h=Object(c.useState)({}),g=Object(o.a)(h,2),x=g[0],v=g[1],I=Object(c.useState)(!1),S=Object(o.a)(I,2),N=S[0],C=S[1],A=Object(c.useState)(""),D=Object(o.a)(A,2),R=D[0],w=D[1],j=Object(c.useState)(""),U=Object(o.a)(j,2),B=U[0],W=U[1],G=function(){v({}),T(""),W("")},V=function(e){e.stopPropagation(),G()},K=s.a.createElement("div",{className:"file-upload-content-section"},s.a.createElement("div",{className:"bd-file-icon-container"},s.a.createElement("img",{src:k.grey,alt:"bd-file-icon",className:"bd-file-icon"})),s.a.createElement(d.X,null)),X=function(){var e=Object(i.a)(r.a.mark((function e(a){var n,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W(""),n=a[0],i=Object(l.isEmpty)(n.type)?L:n.type,!Object(l.isEmpty)(a)&&i===L){e.next=6;break}return W(t("FILE_NOT_EXCEL_ERROR")),e.abrupt("return");case 6:return e.next=8,u.axiosPost(_);case 8:if(!(o=e.sent).error_code){e.next=12;break}return W(Object(H.a)(o.error_code,t)),e.abrupt("return");case 12:return e.abrupt("return",z({id:o.id,url:o.upload_url,file:n}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(r.a.mark((function e(a){var n,i,o,c,s,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.id,i=a.url,o=a.file,c=o.name,s=o.type,e.next=4,u.axiosPlainRequest(i,{method:"PUT",processData:!1,data:o,headers:{"Content-Type":Object(l.isEmpty)(s)?L:s,"x-amz-acl":"authenticated-read"}});case 4:if(!(p=e.sent).error_code){e.next=8;break}return W(Object(H.a)(p.error_code,t)),e.abrupt("return");case 8:return e.abrupt("return",{id:n,name:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),a={reference:E,file_id:x.id},e.next=4,u.axiosPost(y,a);case 4:if(!(n=e.sent).error_code){e.next=9;break}return C(!1),W(Object(H.a)(n.error_code,t)),e.abrupt("return");case 9:C(!1),G(),m({total:n.total_uploaded_count,amount:n.total_uploaded_amount});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){G(),n()},Q=s.a.createElement("div",{className:"cb-modal-footer"},s.a.createElement(O.a,{onClick:q,variant:"secondary",customCss:p?"":"mr-3"},t("commonWords:cancel")),s.a.createElement(O.a,{onClick:Y,isLoading:N,isDisabled:Object(l.isEmpty)(x)||!E},t("commonWords:create"))),J=s.a.createElement("div",{className:"d-flex align-items-center mb-3"},s.a.createElement("div",{className:"create-batch-bullets"},"1"),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("img",{src:M,alt:"download-bd-template-icon",height:16}),s.a.createElement("a",{className:"download-template-button",href:"https://instamoney-prod-public.s3.amazonaws.com/instamoney_br_template_v0.xlsx",target:"_blank",rel:"noopener noreferrer"},t("downloadTemplate")))),Z=s.a.createElement("div",{className:"mb-3"},s.a.createElement("div",{className:"create-batch-bullets"},"2"),s.a.createElement("div",{className:"d-flex flex-column align-items-start"},s.a.createElement("p",{className:"mb-1 font-weight-bold text-left"},t("uploadFilled")),s.a.createElement(d.v,{name:"br_file",customCss:"cb-file-uploader ".concat(x.name&&!B?"cb-file-uploaded":""," ").concat(B?"cb-file-upload-error":""),content:function(e){var a=k.grey;return e&&(a=k.purple),s.a.createElement("div",{className:"file-upload-content-section"},s.a.createElement("div",{className:"clear-file-section"},s.a.createElement(O.a,{onClick:V,variant:"secondary",customCss:"cb-close-button",isDisabled:Object(l.isEmpty)(x)&&Object(l.isEmpty)(E)},s.a.createElement("div",{className:"cb-close-button-text"},s.a.createElement("img",{src:"/images/icons/x-icon.svg",alt:"x-icon"}),s.a.createElement("span",{className:"color-ash-dark"},t("commonWords:clear"))))),!B&&s.a.createElement("div",{className:"bd-file-icon-container"},s.a.createElement("img",{src:a,alt:"bd-file-icon",className:"bd-file-icon"})),e?s.a.createElement("p",{className:"font-weight-bold m-0"},e):s.a.createElement("p",{className:"font-weight-bold m-0 text-center"},t("clickThisArea")))}(x.name),uploadFunction:function(e){return X(e,"bdFile")},uploadingContent:K,onFileChange:function(e){if(e){var t=e.id,a=e.name;v({id:t,name:a}),T(a.split(".")[0])}}}),B&&s.a.createElement("p",{className:"color-danger my-1 text-left"},B))),$=s.a.createElement("div",{className:"mb-3"},s.a.createElement("div",{className:"create-batch-bullets"},"3"),s.a.createElement("div",{className:"d-flex flex-column align-items-start"},s.a.createElement(F.a,{label:t("batchReference"),labelTooltip:{text:t("referenceTooltip")},onChange:function(e){e.preventDefault(),w(""),T(e.target.value)},value:E,placeholder:"e.g. batch-001-2019",errorMessage:R})));return s.a.createElement(P.a,{showModal:a,handleClose:q,preserveMobileView:!0,title:t("createBatch"),closeButton:!0,size:"sm",footer:Q,customCss:"create-batch-modal"},J,Z,$)})),V=a(37),K=a(26),X=a(1583),z=a.n(X),Y=a(1575),q=a.n(Y),Q=a(189),J=a(1667),Z=a(288),$=a.n(Z),ee=function(e){return e.replace(/_/g," ")},te=function(e){var t=$()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case J.b.COMPLETED:return s.a.createElement(q.a,{text:t,variant:"success"});case J.b.CHECK:case J.b.PENDING:return s.a.createElement(q.a,{text:t,variant:"warning"});case J.b.FAILED:case J.b.DELETED:return s.a.createElement(q.a,{text:t,variant:"danger"});case J.b.HAS_ERRORS:return s.a.createElement(q.a,{text:$()(J.a.HAS_ERRORS.toLowerCase()),variant:"danger"});case J.b.NEEDS_USER_VALIDATION:case J.b.NEEDS_APPROVAL:return s.a.createElement(q.a,{text:$()(ee(e).toLowerCase()),variant:"warning"});case J.b.UNVALIDATED:return s.a.createElement(q.a,{text:$()(J.a.UNVALIDATED.toLowerCase())});default:return s.a.createElement(q.a,{text:$()(ee(e).toLowerCase())})}},ae=function(e){return Object(l.isUndefined)(e)?"":Object(x.d)(e)},ne=function(e){return[{dataField:"status",text:e("status"),formatter:te},{dataField:"created",text:e("dateCreated"),formatter:Q.h},{dataField:"uploader_name",text:e("uploader"),type:"text"},{dataField:"reference",text:e("reference"),type:"text"},{dataField:"items_count",text:e("noOfTransactions"),type:"text"},{dataField:"items_amount",text:e("total"),formatter:ae}]},re=function(e){return{width:"5%",items:[{field:"reference",text:e("commonWords:copyReference"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},ie=Object(u.a)(["batchRemittances","commonComponents","commonWords"])((function(e){var t=e.t,a=e.user,n=a.can_approve,r=a.can_edit,i=e.batchRemittances,o=e.withLoadMore,c=e.isLoading,u=e.errorMessage,p=e.onClickLoadMore,m=e.onDetailsClicked,b=e.onClickDelete,f=e.onClickApprove,E=e.isActionDisabled,T=e.onSelectRow,h=e.onSelectAllRow,g=e.isDeleting,x=e.isApproving,v={isClickable:!0,tableHeaderColumns:ne(t),tableContentRows:i,selectRowMode:"checkbox",onSelectRow:T,onSelectAllRow:h,withLoadMore:o,onClickLoadMore:p,loadMoreText:t("commonComponents:tableMore"),isLoading:c.batchRemittances,isLoadingMore:c.refetch,isError:!Object(l.isEmpty)(u),isEmpty:Object(l.isEmpty)(i),loadingText:t("loadingText"),errorContent:s.a.createElement(d.t,{text:u}),actionButtonConfig:re(t),emptyContent:s.a.createElement(d.r,{caption:t("emptyCaption"),subtitle:t("emptySubtitle")}),onDetailsClicked:function(e){return m(e.id)}};return s.a.createElement("div",{className:"br-table-container"},s.a.createElement(z.a,{stickyHeader:!0,tableConfig:v,rightButtons:function(){var e=[];return n&&e.push(s.a.createElement(O.a,{variant:"primary",iconLeft:s.a.createElement(V.a,{icon:K.K}),onClick:b,isDisabled:E,isLoading:g},t("commonWords:delete"))),r&&e.push(s.a.createElement(O.a,{variant:"primary",iconLeft:s.a.createElement(V.a,{icon:K.i}),onClick:f,isDisabled:E,isLoading:x},t("approve"))),e}()}))})),oe=Object(u.a)(["batchRemittances","commonWords"])((function(e){var t=e.t,a=e.batchRemittances,n=e.withLoadMore,r=e.isLoading,i=e.errorMessage,o=e.onClickLoadMore,c=e.onDetailsClicked,u={isClickable:!0,tableHeaderColumns:ne(t),tableContentRows:a,withLoadMore:n,onClickLoadMore:o,loadMoreText:t("commonComponents:tableMore"),isLoading:r.batchRemittances,isLoadingMore:r.refetch,isError:!Object(l.isEmpty)(i),isEmpty:Object(l.isEmpty)(a),loadingText:t("loadingText"),errorContent:s.a.createElement(d.t,{text:i}),actionButtonConfig:re(t),emptyContent:s.a.createElement(d.r,{caption:t("emptyCaption"),subtitle:t("emptySubtitle")}),onDetailsClicked:function(e){return c(e.id)}};return s.a.createElement("div",{className:"br-table-container"},s.a.createElement(z.a,{stickyHeader:!0,tableConfig:u}))})),ce=a(50),se="SET_LOADING_NEEDS_APPROVAL_REMITTANCES",le="HANDLE_ERROR_FETCH_REMITTANCES",ue="SET_BATCH_REMITTANCES",pe="SET_SELECTED_ROW",de="SET_ALL_SELECTED_ROW",me="SET_CONFIRMATION_MODAL_CONFIG",be="SET_DELETION_STATE",fe="SET_APPROVAL_STATE",Ee="RESET_BATCH_REMITTANCES_TABLE",Te={batchRemittances:[],hasNext:!1,page:1,selectedRemittanceIds:[],errorMessage:"",isLoading:{batchRemittances:!1,refetch:!1,export:!1},confirmationModalConfig:{title:"",subtitle:"",type:"",showModal:!1},deletion:{isDeleting:!1,showDeleteModal:!1},approval:{isApproving:!1,showPinModal:!1,pin:"",isSubmittingPin:!1,pinErrorMessage:""}},he=function(e,t){var a=t.type,n=t.payload;switch(a){case se:var r=n.refetch,i={refetch:r,batchRemittances:!r};return Object(E.a)(Object(E.a)({},e),{},{errorMessage:"",isLoading:Object(E.a)(Object(E.a)({},e.isLoading),i)});case ue:var o=n.refetch,c=n.batchRemittances,s=n.hasNext,l=o?[].concat(Object(T.a)(e.batchRemittances),Object(T.a)(c)):c,u=s?e.page+1:e.page;return Object(E.a)(Object(E.a)({},e),{},{isLoading:Object(E.a)(Object(E.a)({},e.isLoading),{batchRemittances:!1,refetch:!1}),batchRemittances:l,page:u,hasNext:s});case le:var p=n.errorMessage;return Object(E.a)(Object(E.a)({},e),{},{errorMessage:p,isLoading:Object(E.a)(Object(E.a)({},e.isLoading),{},{batchRemittances:!1,refetch:!1})});case pe:var d=n.row,m=n.isSelect,b=Object(T.a)(e.selectedRemittanceIds);return m?b.push(d.id):b=b.filter((function(e){return e!==d.id})),Object(E.a)(Object(E.a)({},e),{},{selectedRemittanceIds:b});case de:var f=n.isSelect,h=e.batchRemittances.map((function(e){return e.id})),g=[].concat(Object(T.a)(e.selectedRemittanceIds),Object(T.a)(h));return Object(E.a)(Object(E.a)({},e),{},{selectedRemittanceIds:f?g:[]});case me:return Object(E.a)(Object(E.a)({},e),{},{confirmationModalConfig:n});case be:var O=e.deletion;return Object(E.a)(Object(E.a)({},e),{},{deletion:Object(E.a)(Object(E.a)({},O),n)});case fe:var x=e.approval;return Object(E.a)(Object(E.a)({},e),{},{approval:Object(E.a)(Object(E.a)({},x),n)});case Ee:return Object(E.a)(Object(E.a)({},e),{},{batchRemittances:[],page:1,hasNext:!1,selectedRemittanceIds:[],errorMessage:""});default:return e}};t.default=Object(p.o)(Object(u.a)(["batchRemittances","commonWords"])((function(e){var t=e.t,a=e.apiCall,n=a.axiosGet,u=a.axiosPost,p=a.axiosPlainRequest,m=a.axiosPatch,f=e.user,E=e.environment,T=e.isMobileView,h=e.entity,g=e.history,O=Object(c.useState)(0),x=Object(o.a)(O,2),v=x[0],I=x[1],_=Object(c.useReducer)(he,Te),S=Object(o.a)(_,2),N=S[0],C=S[1],A=N.batchRemittances,L=N.hasNext,M=N.page,k=N.selectedRemittanceIds,B=N.errorMessage,P=N.isLoading,W=N.confirmationModalConfig,F=N.deletion,H=F.showDeleteModal,G=F.isDeleting,V=N.approval,K=V.showPinModal,X=V.isApproving,z=V.isSubmittingPin,Y=V.pinErrorMessage,q=V.pin;Object(c.useEffect)((function(){if(g.location.state){var e=g.location.state,t=e.isFromDetailsPage,a=e.activeTab;I(t?a:0)}}),[]),Object(c.useEffect)((function(){Q()}),[E,v]);var Q=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C({type:Ee}),Z({refetch:!1,page:1});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(r.a.mark((function e(a){var i,o,c,s,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.refetch,o=a.page,c=void 0===o?1:o,C({type:se,payload:{refetch:i}}),s=j.NAME[v],l={statuses:w[s],page:c,environment:E},e.next=6,n(y,l);case 6:if(!(u=e.sent).error_code){e.next=10;break}return C({type:le,payload:{errorMessage:Object(ce.f)(u.error_code,t)}}),e.abrupt("return");case 10:C({type:ue,payload:{refetch:i,batchRemittances:u.docs,hasNext:u.has_next}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){Z({refetch:!0,page:M})},ee=function(e,t){C({type:pe,payload:{row:e,isSelect:t}})},te=function(e){C({type:de,payload:{isSelect:e}})},ae=function(e){g.push({pathname:R(e),state:{activeTab:v}})},ne=function(){C({type:be,payload:{showDeleteModal:!0}})},re=function(){C({type:fe,payload:{showPinModal:!0}})},ge=function(e,t,a,n){C({type:me,payload:{title:e,subtitle:t,type:a,showModal:!0,additionalContent:n}})},Oe=function(){var e=Object(i.a)(r.a.mark((function e(){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C({type:be,payload:{isDeleting:!0}}),e.prev=1,n=k.map((function(e){return{id:e,status:J.b.DELETED}})),e.next=5,m(y,n);case 5:if(!(a=e.sent).error_code){e.next=8;break}throw a;case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),C({type:be,payload:{isDeleting:!1,showDeleteModal:!1}}),ge(t("commonWords:failed"),Object(ce.f)(e.t0.error_code,t),"danger"),e.abrupt("return");case 15:C({type:be,payload:{isDeleting:!1,showDeleteModal:!1}}),i=a.length||"All",ge(t("commonWords:done"),t("deleteSuccess",{totalItemsDeleted:i}),"success"),Q();case 19:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(i.a)(r.a.mark((function e(a){var n,i,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C({type:fe,payload:{isApproving:!0,showPinModal:!1,pinErrorMessage:""}}),e.prev=1,i=k.map((function(e){return{id:e,status:J.b.PENDING}})),o={"X-PIN-AUTHORIZATION-TOKEN":a},e.next=6,m(y,i,{},o);case 6:if(!(n=e.sent).error_code){e.next=9;break}throw n;case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(1),C({type:fe,payload:{isApproving:!1}}),ge(t("commonWords:failed"),Object(ce.f)(e.t0.error_code,t),"danger"),e.abrupt("return");case 16:C({type:fe,payload:{isApproving:!1}}),c=n.length>1?t("pluralApproveSuccess"):t("singularApproveSuccess"),ge(t("commonWords:done"),c,"success"),Q();case 20:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C({type:fe,payload:{isSubmittingPin:!0}}),e.prev=1,e.next=4,u(D,{pin:q});case 4:if(!(a=e.sent).error_code){e.next=7;break}throw a;case 7:xe(a.pin_authorization_token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),C({type:fe,payload:{pinErrorMessage:Object(ce.f)(e.t0.error_code,t)}});case 13:C({type:fe,payload:{isSubmittingPin:!1,pin:""}});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(U,{apiCall:{axiosGet:n,axiosPost:u,axiosPlainRequest:p},isMobileView:T,onSuccessCreateBatch:function(){ge(t("batchCreated"),"","success",t("batchCreateSuccess")),Q()},user:f,entity:h,environment:E}),s.a.createElement(d.z,{customCss:"mb-0 br-tab-switcher",customBodyCss:"p-4 mb-0"},s.a.createElement(b.a,{tabs:j.TITLE,changeActiveTab:function(e){return I(e)},activeTab:v})),function(e){switch(e){case 0:return s.a.createElement(ie,{user:f,batchRemittances:A,onSelectRow:ee,onSelectAllRow:te,withLoadMore:L,isLoading:P,errorMessage:B,onClickLoadMore:$,onDetailsClicked:ae,onClickDelete:ne,onClickApprove:re,isActionDisabled:Object(l.isEmpty)(k),isDeleting:G,isApproving:X});case 1:return s.a.createElement(oe,{batchRemittances:A,withLoadMore:L,isLoading:P,errorMessage:B,onClickLoadMore:$,onDetailsClicked:ae});default:return}}(v),s.a.createElement(d.j,Object.assign({},W,{handleClose:function(){C({type:me,payload:{title:"",subtitle:"",type:"",showModal:!1}})}})),s.a.createElement(d.e,{history:g,isPinModalOpen:K,isMobileView:T,isPinSet:f.is_pin_set,onSubmit:ve,handleClose:function(){C({type:fe,payload:{pinErrorMessage:"",showPinModal:!1,pin:""}})},onChangeMobile:function(e){C({type:fe,payload:{pinErrorMessage:"",pin:e.target.value}})},errorMessage:Y,isLoading:z,pin:q,setPin:function(e){C({type:fe,payload:{pin:e,pinErrorMessage:""}})}}),s.a.createElement(d.n,{showModal:H,isDeleting:G,handleClose:function(){C({type:be,payload:{showDeleteModal:!1}})},onDeleteClicked:Oe,type:"batchRemittances"}))})))},1573:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return s}));var n=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},r=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},o=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=i(e,n),o="IDR"===t?r.replace(/,/g,"."):r,c=a?"".concat(t," "):"",s="".concat(c).concat(o);return s},c=function(e,t,a){var n=t?o(e,t):i(e),r=n.split("-").join(""),c="".concat((null!=a?a:e>0)?"+ ":"- "," ").concat(r);return 0===e&&(c=n),c},s=function(e){return"".concat((100*e).toFixed(2),"%")}},1575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(a(0)),r=c(a(2)),i=c(a(6)),o=c(a(1576));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(1577);var l=function(e){var t,a=e.text,r=e.iconLeft,c=e.customCss,l=e.variant,u=(0,i.default)((s(t={"status-pill":!0},"status-pill-".concat(l),l),s(t,c,c),t));return n.default.createElement(o.default,{text:a,iconLeft:r,customCss:u})};l.propTypes={text:r.default.string,iconLeft:r.default.any,variant:r.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:r.default.string};var u=l;t.default=u},1576:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=a(467)},1577:function(e,t,a){},1642:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c}));var n={xendit:{entity_name:"Xendit"},instamoney:{entity_name:"Instamoney"}},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=n[a],o=i.entity_name;return[{title:"ATM",instructions:[{text:e("bcaTopUpInstructions:atmStep1")},{text:e("bcaTopUpInstructions:atmStep2")},{text:e("bcaTopUpInstructions:atmStep3")},{text:e("bcaTopUpInstructions:atmStep4")},{text:e("bcaTopUpInstructions:atmStep5",{entity_name:o}),additionalData:t,additionalDataLabel:e("bcaTopUpInstructions:accountNumber",{entity_name:o})},{text:e("bcaTopUpInstructions:atmStep6")},{text:e("bcaTopUpInstructions:atmStep7")},{text:e("bcaTopUpInstructions:atmStep8"),additionalData:r,additionalDataLabel:e("bcaTopUpInstructions:whitelistPrefix")},{text:e("bcaTopUpInstructions:atmStep9")},{text:e("bcaTopUpInstructions:atmStep10")},{text:e("bcaTopUpInstructions:atmStep11")}]},{title:"i-BANKING",instructions:[{text:e("bcaTopUpInstructions:iBankingStep1")},{text:e("bcaTopUpInstructions:iBankingStep2")},{text:e("bcaTopUpInstructions:iBankingStep3")},{text:e("bcaTopUpInstructions:iBankingStep4"),additionalData:r,additionalDataLabel:e("bcaTopUpInstructions:whitelistPrefix")},{text:e("bcaTopUpInstructions:iBankingStep5")},{text:e("bcaTopUpInstructions:iBankingStep6")},{text:e("bcaTopUpInstructions:iBankingStep7")},{text:e("bcaTopUpInstructions:iBankingStep8")}]},{title:"M-BANKING",instructions:[{text:e("bcaTopUpInstructions:mBankingStep1")},{text:e("bcaTopUpInstructions:mBankingStep2")},{text:e("bcaTopUpInstructions:mBankingStep3")},{text:e("bcaTopUpInstructions:mBankingStep4",{entity_name:o}),additionalData:t,additionalDataLabel:e("bcaTopUpInstructions:accountNumber",{entity_name:o})},{text:e("bcaTopUpInstructions:mBankingStep5")},{text:e("bcaTopUpInstructions:mBankingStep6")},{text:e("bcaTopUpInstructions:mBankingStep7")},{text:e("bcaTopUpInstructions:mBankingStep8"),additionalData:r,additionalDataLabel:e("bcaTopUpInstructions:whitelistPrefix")},{text:e("bcaTopUpInstructions:mBankingStep9")}]}]},i={xendit:{BANK_CODE:"BCA",NUMBER:"0703053707",NAME:"PT Sinar Digital Terdepan"},instamoney:{BANK_CODE:"BCA",NUMBER:"0700110800",NAME:"PT Syaftraco"}},o={xendit:{company_code:"88608",company_name:"PT SINAR DIGITAL TERDEPAN",entity_name:"Xendit",service_provider:"Xendit 88608"},instamoney:{company_code:"89251",company_name:"89251 INSTAMONEY",entity_name:"Instamoney",service_provider:"Instamoney 89251"}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=o[a],r=n.company_code,i=n.company_name,c=n.entity_name,s=n.service_provider;return[{title:"ATM",instructions:[{text:e("mandiriTopUpInstructions:atmStep1")},{text:e("mandiriTopUpInstructions:atmStep2")},{text:e("mandiriTopUpInstructions:atmStep3")},{text:e("mandiriTopUpInstructions:atmStep4",{company_code:r,company_name:i}),additionalData:r,additionalDataLabel:e("mandiriTopUpInstructions:companyCode",{entity_name:c})},{text:e("mandiriTopUpInstructions:atmStep5",{entity_name:c}),additionalData:t,additionalDataLabel:e("mandiriTopUpInstructions:vaNumber",{entity_name:c})},{text:e("mandiriTopUpInstructions:atmStep6")},{text:e("mandiriTopUpInstructions:atmStep7")},{text:e("mandiriTopUpInstructions:atmStep8")},{text:e("mandiriTopUpInstructions:atmStep9")},{text:e("mandiriTopUpInstructions:atmStep10")}]},{title:"i-BANKING",instructions:[{text:e("mandiriTopUpInstructions:iBankingStep1")},{text:e("mandiriTopUpInstructions:iBankingStep2")},{text:e("mandiriTopUpInstructions:iBankingStep3")},{text:e("mandiriTopUpInstructions:iBankingStep4")},{text:e("mandiriTopUpInstructions:iBankingStep5")},{text:e("mandiriTopUpInstructions:iBankingStep6",{service_provider:s})},{text:e("mandiriTopUpInstructions:iBankingStep7")},{text:e("mandiriTopUpInstructions:iBankingStep8",{entity_name:c}),additionalData:t,additionalDataLabel:e("mandiriTopUpInstructions:vaNumber",{entity_name:c})},{text:e("mandiriTopUpInstructions:iBankingStep9")},{text:e("mandiriTopUpInstructions:iBankingStep10")},{text:e("mandiriTopUpInstructions:iBankingStep11")},{text:e("mandiriTopUpInstructions:iBankingStep12")},{text:e("mandiriTopUpInstructions:iBankingStep13")}]},{title:"M-BANKING",instructions:[{text:e("mandiriTopUpInstructions:mBankingStep1")},{text:e("mandiriTopUpInstructions:mBankingStep2")},{text:e("mandiriTopUpInstructions:mBankingStep3")},{text:e("mandiriTopUpInstructions:mBankingStep4")},{text:e("mandiriTopUpInstructions:mBankingStep5",{service_provider:s})},{text:e("mandiriTopUpInstructions:mBankingStep6")},{text:e("mandiriTopUpInstructions:mBankingStep7",{entity_name:c}),additionalData:t,additionalDataLabel:e("mandiriTopUpInstructions:vaNumber",{entity_name:c})},{text:e("mandiriTopUpInstructions:mBankingStep8")},{text:e("mandiriTopUpInstructions:mBankingStep9")},{text:e("mandiriTopUpInstructions:mBankingStep10")},{text:e("mandiriTopUpInstructions:mBankingStep11")}]}]}},1661:function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"k",(function(){return s})),a.d(t,"m",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"j",(function(){return d})),a.d(t,"l",(function(){return m})),a.d(t,"e",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"i",(function(){return E}));var n=a(28),r={SELECTED_BANK_ACCOUNT:{id:"",bank_code:"",account_number:"",account_name:""},WITHDRAWAL_BODY:function(e){return{bank_account_id:"",amount:"",end_date:"",withdrawal_type:e?"FULL_WITHDRAWAL":"CUSTOM_WITHDRAWAL"}}},i={GET_BALANCE:"/api/balances",GET_TRANSACTIONS:"/api/transaction-history",POST_TRANSACTION_REPORT_REQUESTS:"/api/transaction_report_requests",VIRTUAL_ACCOUNT_DEPOSIT:"/api/deposit_virtual_accounts",TOP_UP_FLOW_SETTING:"/api/top_up_flow_setting",TOP_UP_TOKEN:"/api/top_up_token",BANK_ACCOUNTS:"/api/bank-accounts",WITHDRAWALS:"/api/withdrawals",WITHDRAWAL_TYPE:"/api/autowithdrawal-settings"},o={xendit:["INCOMING_PAYMENT","DEPOSIT","REFUND","INCOMING_TRANSFER","CARD","DISBURSEMENT","WITHDRAWAL","OTHER","EWALLET","RETAIL_OUTLET","QR_CODE","DIRECT_DEBIT"],instamoney:["INCOMING_PAYMENT","DEPOSIT","WITHDRAWAL","REFUND","INCOMING_TRANSFER","DISBURSEMENT","EWALLET","RETAIL_OUTLET","DIRECT_DEBIT","OTHER"]},c={CASH:"CASH",HOLDING:"HOLDING"},s={FULL_WITHDRAWAL:"FULL_WITHDRAWAL",CUSTOM_WITHDRAWAL:"CUSTOM_WITHDRAWAL"},l=function(e,t){var a=function(e){return[{type:"INCOMING_PAYMENT",label:e("paymentsFilter")},{type:"DEPOSIT",label:e("depositsFilter")},{type:"REFUND",label:e("refundsFilter")},{type:"INCOMING_TRANSFER",label:e("transfersFilter")},{type:"CARD",label:e("cardsFilter"),entity:n.a.XENDIT},{type:"EWALLET",label:e("ewalletFilter")},{type:"QR_CODE",label:"QR",entity:n.a.XENDIT},{type:"RETAIL_OUTLET",label:e("retailOutletFilter")},{type:"DIRECT_DEBIT",label:e("directDebitFilter")}]}(e),r=function(e){return[{type:"DISBURSEMENT",label:e("disbursementsFilter")},{type:"WITHDRAWAL",label:e("withdrawalsFilter")},{type:"OTHER",label:e("othersFilter")}]}(e);return[{title:e("moneyIn"),children:a.filter((function(e){return!e.entity||e.entity===t}))},{title:e("moneyOut"),children:r.filter((function(e){return!e.entity||e.entity===t}))}]},u={xendit:{BANK_CODE:"BCA",NUMBER:"0703053707",NAME:"PT Sinar Digital Terdepan"},instamoney:{BANK_CODE:"BCA",NUMBER:"0700110800",NAME:"PT Syaftraco"}},p={BCA:"/images/bca-logo.svg",MANDIRI:"/images/mandiri-logo.svg"},d=5e5,m=function(e){return{width:"5%",items:[{field:"id",text:e("commonWords:copyTransactionID"),textPressed:e("commonWords:valueCopied"),action:"copy"},{field:"reference",text:e("commonWords:copyReference"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},b={xendit:{CASH:"totalBalance",HOLDING:"totalPending"},instamoney:{CASH:"totalBalance",HOLDING:"totalInTransit"}},f={title:"",subtitle:"",type:"",showModal:!1},E={exportCash:{name:"export",counterLabel:"counterExportCash",lastLabel:"lastRatingExportCash",radioKey:"easyDescExportCash",feedbackKey:"improvedDescExportCash"},withdrawal:{name:"withdrawal",counterLabel:"counterWithdrawal",lastLabel:"lastRatingWithdrawal",radioKey:"easyDescWithdrawal",feedbackKey:"improvedDescWithdrawal"}}},1662:function(e,t,a){},1667:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n={COMPLETED:"COMPLETED",PENDING:"PENDING",FAILED:"FAILED",DELETED:"DELETED",HAS_ERRORS:"HAS_ERRORS",CHECK:"CHECK",NEEDS_USER_VALIDATION:"NEEDS_USER_VALIDATION",NEEDS_APPROVAL:"NEEDS_APPROVAL",UNVALIDATED:"UNVALIDATED",VERIFYING:"VERIFYING"},r={HAS_ERRORS:"FIX ERRORS",UNVALIDATED:"VALIDATING"}},1729:function(e,t,a){"use strict";var n=a(12),r=a(0),i=a.n(r),o=a(27),c=a(380),s=a(231),l=a(20),u=a.n(l),p=a(49),d=a.n(p),m=a(80),b=a(472),f=a.n(b),E=a(697),T=a.n(E),h=a(1661),g=(a(1662),function(e){var t=e.t,a=e.showModal,c=e.onHowToTopUpClick,l=e.handleClose,p=e.banks,b=e.whitelistPrefix,E=e.isFetchingTopUpBalance,g=e.isFetchingWhitelistPrefix,O=e.isGeneratingPrefix,x=e.fetchTopUpBalanceError,v=e.generateWhitelistPrefix,I=e.whitelistPrefixError,y=Object(r.useState)(0),_=Object(n.a)(y,2),S=_[0],N=_[1],C=i.a.createElement(u.a,{customCss:"cash-tab-modal-button",onClick:l},t("commonWords:okay"));return i.a.createElement(d.a,{title:t("topUpBalanceModalTitle"),showModal:a,handleClose:l,customCssBody:"text-left",footer:C,largeHeader:!0,leftAligned:!0,closeButton:!0,scrollable:!0,preserveMobileView:!0},i.a.createElement("p",null,t("topUpBalanceModalSubtitle")),E?i.a.createElement("div",{className:"d-flex"},i.a.createElement(m.X,{size:"lg"}),i.a.createElement("span",{className:"ml-2"},t("loadingTopUpModal"))):x?i.a.createElement(m.u,{message:x}):!Object(o.isEmpty)(p)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"d-flex mb-4"},p.map((function(e,t){return i.a.createElement("div",{key:t,className:"topup-bank-selector ".concat(t===S?"active":""),onClick:function(){return N(t)}},i.a.createElement(s.a,{src:h.a[e.bankCode],width:60}))}))),i.a.createElement("div",{className:"d-flex justify-content-between align-items-start"},i.a.createElement("div",null,i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("paymentMethod")),i.a.createElement("p",{className:"color-ash-dark"},p[S].bankCode)),i.a.createElement(u.a,{size:"sm",variant:"secondary",onClick:function(){return c(p[S].bankCode)}},t("howToTopUp"))),i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("accountName")),i.a.createElement("p",{className:"color-ash-dark"},p[S].name),i.a.createElement("div",{className:"mb-3"},i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("accountNumber")),i.a.createElement(f.a,{useDefaultValue:!0,defaultValue:p[S].number,value:p[S].number,disabled:!0,copyText:t("commonWords:copy"),copiedText:t("commonWords:copied"),labelInterval:1e3})),"BCA"===p[S].bankCode&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb-4"},i.a.createElement("p",{className:"m-0 mb-1 font-weight-bold"},t("whitelistPrefixDescription")),Object(o.isEmpty)(b)?i.a.createElement(T.a,{disabled:!0,useDefaultValue:!0,onActionClicked:v,value:t("prefixNotGenerated"),defaultValue:t("prefixNotGenerated"),actionLabel:t("commonWords:generate"),errorMessage:I,isLoading:g||O}):i.a.createElement(f.a,{disabled:!0,useDefaultValue:!0,value:b,defaultValue:b,errorMessage:I,isLoading:g||O,copyText:t("commonWords:copy"),copiedText:t("commonWords:copied"),labelInterval:1e3})),i.a.createElement("div",{className:"topup-whitelist-info p-3 mb-3"},t("whitelistInformation")))))});g.defaultProps={t:function(){},showModal:!1,banks:[],whitelistPrefix:"",fetchTopUpBalanceError:"",whitelistPrefixError:""},t.a=Object(c.a)(["transactions","commonWords"])(g)},1885:function(e,t,a){}}]);