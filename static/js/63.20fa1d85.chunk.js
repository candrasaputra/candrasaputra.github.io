(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[63],{1491:function(e,t,a){"use strict";a.r(t);var n=a(24),c=a(9),r=a.n(c),o=a(19),s=a(12),i=a(0),l=a.n(i),u=a(97),d=a(67),m=a(380),b=a(27),f=a(108),p=a.n(f),h=a(26),w=a(284),v=a(205),E=a(80),k=a(1946),g=a(50),j=function(e){return"/api/bank-accounts/".concat(e)},x="/api/bank-accounts",O="/api/autowithdrawal-settings",_="/api/settlement_disbursements",C="/api/withdrawal_report_request",y="/settings",N="/cash",W="/balance",S={xendit:"cashTab",instamoney:"transactionTab",balance:"balanceTab"},A=a(37),M=a(20),B=a.n(M),D=a(231),T=function(e,t,a,n){return l.a.createElement("div",{className:"float-right"},l.a.createElement(D.a,{src:"/images/icons/icon_delete.svg",className:"cursor-pointer",onClick:function(){return n.onDeleteClick(t)}}))},F=function(e,t,a,n){var c=l.a.createElement(D.a,{width:20,onClick:function(){n.onExportClick(t,a)},style:{cursor:"pointer"},src:"/images/icons/blue-cloud-icon.svg"});return t.isExporting?l.a.createElement("div",{className:"withdrawal-export-button ml-5"},l.a.createElement(E.X,null)):n.isMobileView?c:l.a.createElement("div",{className:"withdrawal-export-button",style:{cursor:"pointer"},onClick:function(){n.onExportClick(t,a)}},c," ",l.a.createElement("span",null,n.text))},L=function(e,t,a){var n=[{dataField:"bank_code",text:e("bankTableHeader"),type:"text",headerStyle:{width:"20%"}},{dataField:"account_number",text:e("accountNumberTableHeader"),type:"text",headerStyle:{width:"35%"}},{dataField:"account_name",text:e("accountNameTableHeader"),type:"text",headerStyle:{width:"35%"}}];if(a){var c={dataField:"delete_button",text:"",formatter:T,formatExtraData:{onDeleteClick:t}};n.push(c)}return n},R=a(3),I=a(31),q=a.n(I),V=a(48),H=a(1573),P=function(e){return e.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{created:q()(e.created).format(V.a.DATE_WITHOUT_SECONDS),amount:Object(H.d)(e.amount)})}))},U=a(290),X=a.n(U),z=function(e){var t=e.tableContentRows,a=e.t,n=e.onDeleteClick,c=e.user,r=L(a,n,c.can_administer),o=l.a.createElement("p",{className:"text-md color-ash-dark mt-5 text-center"},a("bankAccountsTableEmpty"));return l.a.createElement("div",{className:"mt-3"},Object(b.isEmpty)(t)?o:l.a.createElement(X.a,{noBorder:!0,customCss:"dev-table",tableHeaderColumns:r,tableContentRows:t}))},J=(a(1956),function(e){var t=e.headers,a=e.tableContentRows,n=e.emptyText,c=e.button,r=l.a.createElement("div",{className:"empty-dev-table p-5"},l.a.createElement("p",{className:"mb-0"},n)),o=l.a.createElement("div",{className:"withdrawal-mobile-view-table"},a.map((function(e){return function(e){return l.a.createElement("div",{className:"d-flex align-items-center justify-content-between mobile-table-row-item"},l.a.createElement("div",null,function(){var a=[];return t.forEach((function(t,n){var c=t.dataField;e[c]&&a.push(l.a.createElement("p",{className:"m-0 ".concat(0===n?"text-fair":"")},e[c]))})),a}()),c(e))}(e)})));return l.a.createElement("div",{className:"mt-3"},o,Object(b.isEmpty)(a)&&r)}),Y=Object(m.a)("settingsWithdrawal")((function(e){var t=e.t,a=e.openAddBankModal,n=e.isLoadingBankAccounts,c=e.bankAccounts,r=e.onDeleteClick,o=e.user,s=e.navRef,i=e.isMobileView,u=o.can_administer&&l.a.createElement(B.a,{customCss:"add-bank-button",iconLeft:l.a.createElement(A.a,{className:"add-bank-plus-icon",icon:h.C}),onClick:a,variant:"secondary"},t("addBank")),d=L(t,r,o.can_administer);return l.a.createElement("section",{id:"bank-accounts",className:"settings-page-card-first",ref:s},l.a.createElement(E.z,{customCss:"p-3 mt-0",isLoading:n,loadingText:t("loadingBankAccounts"),preserveMobile:!0},l.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},l.a.createElement("p",{className:"text-md font-weight-bold m-0"},t("bankAccounts")),u),i?l.a.createElement(J,{tableContentRows:c,t:t,button:function(e){return o.can_administer&&T(0,e,0,{onDeleteClick:r})},headers:d,emptyText:t("bankAccountsTableEmpty")}):l.a.createElement(z,{tableContentRows:c,t:t,onDeleteClick:r,isLoading:n,user:o})))})),G=a(49),K=a.n(G),$=a(252),Q=a.n($),Z=a(149),ee=a.n(Z),te="/api/bank-accounts",ae="/api/bank-accounts/bank-codes",ne=[],ce=function(e){return Object(b.each)(e,(function(e){if(!Object(b.isUndefined)(e.swift_code)){var t={label:e.name,value:e.code};ne.push(t)}})),ne},re=(a(2162),Object(m.a)(["settingsWithdrawal","errorMessages","commonWords"])((function(e){var t=e.showModal,a=e.handleClose,n=e.apiCall,c=n.axiosGet,u=n.axiosPost,d=e.onAddBankAccountDone,m=e.csrfToken,f=e.t,p=Object(i.useState)({accountName:"",accountNumber:"",selectedBank:""}),h=Object(s.a)(p,2),w=h[0],v=h[1],k=Object(i.useState)([]),j=Object(s.a)(k,2),x=j[0],O=j[1],_=Object(i.useState)(!1),C=Object(s.a)(_,2),y=C[0],N=C[1],W=Object(i.useState)(!1),S=Object(s.a)(W,2),A=S[0],M=S[1],D=Object(i.useState)(""),T=Object(s.a)(D,2),F=T[0],L=T[1],I=Object(i.useState)(""),q=Object(s.a)(I,2),V=q[0],H=q[1],P=Object(i.useState)(""),U=Object(s.a)(P,2),X=U[0],z=U[1],J=Object(i.useState)(""),Y=Object(s.a)(J,2),G=Y[0],$=Y[1],Z=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,c(ae);case 4:if(!(t=e.sent).errors){e.next=7;break}throw t;case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),N(!1),e.abrupt("return");case 13:N(!1),O(ce(t));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e,t){var a=Object(R.a)({},w);switch(t){case"bank":var n=e.value;a.selectedBank=n,$("");break;case"account_name":var c=e.target.value;a.accountName=c,z("");break;case"account_number":var r=e.target.value;a.accountNumber=r,H("")}v(a)},re=function(){var e=w.accountName,t=w.accountNumber,a=""!==e,n=""!==t,c=""!==w.selectedBank,r=/^[0-9]+$/.test(t);return n?r||H(f("invalidAccountNumber")):H(f("fieldEmptyError")),a||z(f("fieldEmptyError")),c||$(f("fieldEmptyError")),a&&n&&c&&r},oe=F&&l.a.createElement(E.u,{message:F,className:"my-2"}),se=function(){v({accountName:"",accountNumber:"",selectedBank:""}),a()},ie=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),re()){e.next=4;break}return M(!1),e.abrupt("return");case 4:return L(""),t=w.accountName,a=w.accountNumber,n=w.selectedBank,c={bank_code:n,account_name:t,account_number:a},o={"x-csrf-token":m},e.prev=8,e.next=11,u(te,c,{},o);case 11:if(!(s=e.sent).error_code){e.next=14;break}throw s;case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(8),M(!1),L(Object(g.f)(e.t0.error_code,f)),setTimeout((function(){L("")}),3e3),e.abrupt("return");case 22:M(!1),se(),d(c);case 25:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(){return e.apply(this,arguments)}}(),le=l.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},l.a.createElement(B.a,{onClick:se,variant:"secondary",customCss:"mr-3"},f("commonWords:cancel")),l.a.createElement(B.a,{onClick:ie,isLoading:A},f("commonWords:add")));Object(i.useEffect)((function(){O(ce()),Z()}),[]);var ue=w.accountName,de=w.accountNumber;return l.a.createElement(K.a,{showModal:t,handleClose:se,customCss:"add-bank-account-modal",preserveMobileView:!0,size:"sm",title:f("addBankAccountTitle"),footer:le},y?l.a.createElement(E.z,{isLoading:y,loadingText:f("fetchingBankCodes")}):l.a.createElement("div",{className:"xendit-bank-account-modal-form text-left"},oe,l.a.createElement(Q.a,{label:f("addBABankNameField"),defaultValue:null===w||void 0===w?void 0:w.selectedBank,customCss:"mt-1",options:x,onChange:function(e){ne(e,"bank")},isError:!Object(b.isEmpty)(G),errorMessage:G}),l.a.createElement(ee.a,{label:f("accountNumberTableHeader"),type:"text",value:de,onChange:function(e){ne(e,"account_number")},errorMessage:V,placeholder:"527XXXXXXX"}),l.a.createElement(ee.a,{label:f("accountNameTableHeader"),value:ue,onChange:function(e){ne(e,"account_name")},errorMessage:X,placeholder:"John Doe"})))}))),oe=function(e){var t=e.t,a=e.showModal,n=e.isDeleting,c=e.handleClose,r=e.onDeleteClicked,o=e.bankAccountData,s=o.bank_code,i=o.account_name,u=o.account_number,d=l.a.createElement("div",{className:"bank-data-success-box"},l.a.createElement("p",{className:"text-fair m-0"},s),l.a.createElement("p",{className:"m-0"},i),l.a.createElement("p",{className:"m-0"},u));return l.a.createElement(E.j,{title:t("commonWords:wait"),type:"info",subtitle:t("deleteBankAccountConfirmation"),showModal:a,additionalContent:d,buttonText:t("commonWords:remove"),buttonType:"destructive",withCancel:!0,isButtonLoading:n,handleClose:r,handleCancel:c})};oe.defaultProps={bankAccountData:{bank_code:"",account_name:"",account_number:""}};var se=Object(m.a)(["settingsWithdrawal","commonWords"])(oe),ie=a(1770),le=function(e){var t=e.t,a=e.isSaving,n=e.isLoading,c=e.errorMessage,r=e.errorAW,o=e.bankAccounts,s=e.currentFrequency,i=e.currentBankAccountId,u=e.currentMinimumWithdrawalBalance,d=e.setCurrentFrequency,m=e.setCurrentBankAccount,b=e.setMinimumWithdrawalBalance,f=e.onSaveAutoWithdrawal,p=e.navRef,h=e.oldAutoWithdrawalSettings,w=e.canEdit,v=[{label:t("withdrawDaily"),value:"DAILY"},{label:t("withdrawWeekly"),value:"WEEKLY"},{label:t("withdrawBiweekly"),value:"BIWEEKLY"},{label:t("withdrawMonthly"),value:"MONTH_END"}],k=l.a.createElement("div",{className:"mb-4"},l.a.createElement(E.E,{text:t("autoWithdrawalBannerText"),infoPanel:!0})),g=s===h.frequency&&i===h.bankAccountId&&u===h.minimumBalance,j=o.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{value:e.id,label:e.bank_code+" "+e.account_number+" "+e.account_name})}));return l.a.createElement("section",{id:"auto-withdrawal",className:"settings-page-card",ref:p},l.a.createElement(E.z,{isLoading:n,loadingText:t("loadingAutoWithdrawal"),errorMessage:c,customCss:"p-3 mt-0"},l.a.createElement("p",{className:"font-weight-bold text-md"},t("autoWithdrawal")),k,r&&l.a.createElement(E.u,{message:r}),l.a.createElement(E.gb,{onSubmit:function(e){e.preventDefault(),f()},method:"POST",customCss:"max-width-480"},l.a.createElement("p",{className:"text-fair font-weight-bold mt-2 mb-2"},t("scheduleAutomatic")),l.a.createElement("p",null,t("chooseFrequency")),l.a.createElement(Q.a,{customCss:"mb-10",label:t("autoWithdrawalFrequency"),options:v,defaultValue:s,onChange:d,disabled:!w,searchConfig:{enabled:!1}}),l.a.createElement(Q.a,{options:j,customCss:"withdrawal-bank-selector mb-10",defaultValue:i,onChange:m,customFormatter:{option:ie.a,selected:function(e,a){return Object(ie.b)(e,a,t,j)}},label:t("destinationAccount"),disabled:!w,searchConfig:{enabled:j.length>4}}),l.a.createElement("div",{className:"common-divider my-4"}),l.a.createElement("p",{className:"text-fair font-weight-bold mt-2 mb-2"},t("minimumBalance")),l.a.createElement("p",null,t("setMinimumAmount")),l.a.createElement(ee.a,{useDefaultValue:!0,defaultValue:u,onChange:function(e){e.preventDefault(),b(Number(e.target.value))},customCss:"mb-10",label:t("minimumBalanceLabel"),type:"number",min:0,disabled:!w}),w&&l.a.createElement(B.a,{customCss:"w-auto mt-10",block:!0,isLoading:a,type:"submit",isDisabled:g},t("commonWords:save")))))};le.defaultProps={oldAutoWithdrawalSettings:{frequency:"",bankAccountId:"",minimumBalance:0},bankAccounts:[]};var ue=Object(m.a)(["settingsWithdrawal","commonWords","transactions"])(le),de=Object(m.a)("settingsWithdrawal")((function(e){var t=e.fullWithdrawals,a=e.onExportClick,n=function(e,t){return[{dataField:"created",text:e("date"),type:"text"},{dataField:"account_holder_name",text:e("accountNameTableHeader"),type:"text"},{dataField:"id",text:e("withdrawalID"),type:"text"},{dataField:"buttons",formatter:F,formatExtraData:{onExportClick:t,text:e("settingsWithdrawal:download")}}]}(e.t,a);return l.a.createElement(X.a,{noBorder:!0,customCss:"dev-table",tableHeaderColumns:n,tableContentRows:P(t)})})),me=function(e){var t=e.fullWithdrawals,a=e.isLoadingReports,n=e.onExportClick,c=e.errorMessage,r=e.t,o=e.navRef,s=e.isMobileView,i=function(e){return F(0,e,null,{onExportClick:n,isMobileView:s})},d=[{dataField:"account_holder_name"},{dataField:"created"},{dataField:"id"}];return l.a.createElement("section",{id:"withdrawal-reports",className:"settings-page-card",ref:o},l.a.createElement(E.z,{loadingText:r("loadingReports"),isLoading:a,customCss:"p-3 mt-0",errorMessage:c},l.a.createElement("p",{className:"font-weight-bold text-md"},r("withdrawalReports")),l.a.createElement("p",{className:"mb-4"},r("pendingWithdrawals"),l.a.createElement(u.Link,{to:"/pending"},r("pendingTab")),r("whenCompleted")),t.length?s?l.a.createElement(J,{tableContentRows:P(t),t:r,button:i,headers:d}):l.a.createElement(de,{fullWithdrawals:P(t),onExportClick:n}):l.a.createElement("p",{className:"text-md color-ash-dark mt-5 text-center"},r("emptyFullWithdrawals"))))};me.defaultProps={fullWithdrawals:[]};var be=Object(m.a)("settingsWithdrawal")(me);t.default=Object(d.o)(Object(m.a)(["settingsWithdrawal","settingsMain","errorMessages","autoWithdrawal","commonComponents","commonWords"])((function(e){var t=e.apiCall,a=t.axiosGet,c=t.axiosDelete,d=t.axiosPost,m=e.history,f=e.user,A=e.environment,M=e.business,B=e.businessSettings,D=e.t,T=e.isMobileView,F=e.entity,L=e.balanceSwitcherConfig,R=f.email,I=B.should_allow_auto_withdrawal,q=B.withdrawal_type,V=Object(i.useState)(!1),H=Object(s.a)(V,2),P=H[0],U=H[1],X=Object(i.useState)(!1),z=Object(s.a)(X,2),J=z[0],G=z[1],K=Object(i.useState)([]),$=Object(s.a)(K,2),Q=$[0],Z=$[1],ee=Object(i.useState)(!1),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(i.useState)(!1),oe=Object(s.a)(ce,2),ie=oe[0],le=oe[1],de=Object(i.useState)({}),me=Object(s.a)(de,2),fe=me[0],pe=me[1],he=Object(i.useState)(""),we=Object(s.a)(he,2),ve=we[0],Ee=we[1],ke=Object(i.useState)([]),ge=Object(s.a)(ke,2),je=ge[0],xe=ge[1],Oe=Object(i.useState)(""),_e=Object(s.a)(Oe,2),Ce=_e[0],ye=_e[1],Ne=Object(i.useState)(""),We=Object(s.a)(Ne,2),Se=We[0],Ae=We[1],Me=Object(i.useState)(0),Be=Object(s.a)(Me,2),De=Be[0],Te=Be[1],Fe=Object(i.useState)(!1),Le=Object(s.a)(Fe,2),Re=Le[0],Ie=Le[1],qe=Object(i.useState)(""),Ve=Object(s.a)(qe,2),He=Ve[0],Pe=Ve[1],Ue=Object(i.useState)({}),Xe=Object(s.a)(Ue,2),ze=Xe[0],Je=Xe[1],Ye=Object(i.useState)(""),Ge=Object(s.a)(Ye,2),Ke=Ge[0],$e=Ge[1],Qe=Object(i.useState)(!1),Ze=Object(s.a)(Qe,2),et=Ze[0],tt=Ze[1],at=Object(i.useState)(!1),nt=Object(s.a)(at,2),ct=nt[0],rt=nt[1],ot=Object(i.useState)([]),st=Object(s.a)(ot,2),it=st[0],lt=st[1],ut=Object(i.useState)(!1),dt=Object(s.a)(ut,2),mt=dt[0],bt=dt[1],ft=Object(i.useState)(!1),pt=Object(s.a)(ft,2),ht=pt[0],wt=pt[1],vt=Object(i.useState)(0),Et=Object(s.a)(vt,2),kt=Et[0],gt=Et[1],jt=Object(i.useState)({title:"",subtitle:"",type:"",showModal:!1}),xt=Object(s.a)(jt,2),Ot=xt[0],_t=xt[1],Ct=Object(i.useState)(!1),yt=Object(s.a)(Ct,2),Nt=yt[0],Wt=yt[1];Object(k.a)(M.id,M.environment,(function(e){Wt(e)}));var St=Nt&&"FULL_WITHDRAWAL"===q&&!I,At=Object(i.useRef)(),Mt=Object(i.useRef)(),Bt=Object(i.useRef)(),Dt=[{name:D("bankAccounts"),section:"bank-accounts",ref:At}];I&&Dt.push({name:D("autoWithdrawal"),section:"auto-withdrawal",ref:Mt}),St&&Dt.splice(1,0,{name:D("withdrawalReports"),section:"withdrawal-reports",ref:Bt});var Tt=function(e,t,a,n){_t({title:e,subtitle:t,type:a,showModal:!0,additionalContent:n})},Ft=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,a(x);case 4:if(!(t=e.sent).errors){e.next=7;break}throw t;case 7:Ee(t.response_headers["x-csrf-token"]),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),G(!1),e.abrupt("return");case 14:G(!1),Z(t),xe(t);case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(!0),t={"x-csrf-token":ve},e.prev=2,e.next=5,c("".concat(j(fe.id)),{},{},t);case 5:if(!(a=e.sent).error_code){e.next=8;break}throw a;case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),le(!1),ne(!1);case 14:le(!1),ne(!1),Tt(D("commonWords:success"),D("bankAccountRemoved"),"success",Ht(fe)),Ft();case 18:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){Ft(),I&&Rt()}),[A]),Object(i.useEffect)((function(){St&&qt()}),[St]);var Rt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt(!0),e.next=3,a(O);case 3:if(t=e.sent,n=t.auto_withdrawal_bank_account_id,c=t.auto_withdrawal_frequency,o=t.auto_withdrawal_minimum_balance,!t.error_code){e.next=9;break}return $e(Object(g.f)(t.error_code,D)),tt(!1),e.abrupt("return");case 9:c&&(ye(n),Ae(c),Te(o)),Je({bankAccountId:n||"",frequency:c||"",minimumBalance:o||0}),tt(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),It=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe(""),Se&&Ce){e.next=4;break}return Pe(D("autoWithdrawal:allFieldsError")),e.abrupt("return");case 4:if(!(De<0)){e.next=7;break}return Pe(D("autoWithdrawal:negativeNumberError")),e.abrupt("return");case 7:return Ie(!0),t={auto_withdrawal_frequency:Se,auto_withdrawal_bank_account_id:Ce,auto_withdrawal_minimum_balance:De},e.next=11,d(O,t);case 11:if(!(a=e.sent).error_code){e.next=15;break}return Pe(a.error_code),e.abrupt("return");case 15:Je({bankAccountId:Ce||"",frequency:Se||"",minimumBalance:De||""}),Ie(!1),Tt(D("commonWords:saved"),D("autoWithdrawal:successMessage"),"success");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rt(!0),t={withdrawal_type:"FULL_WITHDRAWAL"},e.next=4,a(_,t);case 4:if(n=e.sent,rt(!1),!n.error_code){e.next=8;break}return e.abrupt("return");case 8:c=n.filter((function(e){return"COMPLETED"===e.status})),o=n.filter((function(e){return"FAILED"===e.status})),s=Object(b.difference)(n,c,o),c.sort().reverse(),lt(c),gt(s.length);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(o.a)(r.a.mark((function e(t,a){var c,o,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p()().utcOffset(),o={start_date:t.start_date,end_date:t.end_date,user_offset:c},(s=Object(n.a)(it))[a].isExporting=!0,lt(s),e.next=7,d(C,o);case 7:if(i=e.sent,bt(!0),!i.error_code){e.next=12;break}return wt(!0),e.abrupt("return");case 12:wt(!1),(s=Object(n.a)(it))[a].isExporting=!1,lt(s);case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ht=function(e){var t=e.bank_code,a=e.account_name,n=e.account_number;return l.a.createElement("div",{className:"bank-data-success-box"},l.a.createElement("p",{className:"text-fair m-0"},t),l.a.createElement("p",{className:"m-0"},a),l.a.createElement("p",{className:"m-0"},n))},Pt=L.balance?W:N,Ut=L.balance?D(S.balance):D(S[F]),Xt=f.can_withdraw&&l.a.createElement("div",{className:"withdrawal-settings-banner-container"},l.a.createElement(E.E,{icon:h.e,text:l.a.createElement(l.a.Fragment,null,D("withdrawFromCashTab"),l.a.createElement(u.Link,{to:Pt},Ut)),infoPanel:!0}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.o,{title:D(T?"settingsMain:withdrawals":"settingsMain:backToSettings"),goBack:function(){return m.push(y)},bottomStickContent:T&&l.a.createElement(E.U,{items:Dt,isLoading:et})}),l.a.createElement(w.a,null,!T&&l.a.createElement(v.a,{lg:2,className:"px-0"},l.a.createElement(E.U,{items:Dt,isLoading:et})),l.a.createElement("div",{className:T?"":"col-lg-10"},l.a.createElement("div",{className:T?"":"container"},Xt,l.a.createElement(Y,{openAddBankModal:function(){U(!0)},isLoadingBankAccounts:J,bankAccounts:Q,onDeleteClick:function(e){pe(e),ne(!0)},user:f,navRef:At,isMobileView:T}),St&&l.a.createElement(be,{fullWithdrawals:it,pendingWithdrawalCount:kt,isLoadingReports:ct,onExportClick:Vt,navRef:Bt,isMobileView:T}),I&&l.a.createElement(ue,{bankAccounts:je,currentBankAccountId:Ce,currentFrequency:Se,currentMinimumWithdrawalBalance:De,setCurrentFrequency:function(e){Ae(e.value)},setCurrentBankAccount:function(e){ye(e.value)},setMinimumWithdrawalBalance:Te,onSaveAutoWithdrawal:It,isSaving:Re,isLoading:et,errorMessage:Ke,errorAW:He,navRef:Mt,oldAutoWithdrawalSettings:ze,canEdit:f.can_administer})))),l.a.createElement(re,Object.assign({showModal:P,handleClose:function(){U(!1)},onAddBankAccountDone:function(e){Ft(),Tt(D("commonWords:success"),D("bankAccountAdded"),"success",Ht(e))},csrfToken:ve},e)),l.a.createElement(se,{showModal:ae,handleClose:function(){return ne(!1)},onDeleteClicked:Lt,isDeleting:ie,bankAccountData:fe}),l.a.createElement(E.j,Object.assign({},Ot,{handleClose:function(){_t({title:"",subtitle:"",type:"",showModal:!1}),pe({})},buttonText:D("commonWords:okay")})),ht?l.a.createElement(E.j,{type:"danger",title:D("exportFailed"),handleClose:function(){bt(!1)},showModal:mt,subtitle:D("exportErrorMessage")}):l.a.createElement(E.j,{type:"success",handleClose:function(){bt(!1)},title:D("commonComponents:exportStarted"),subtitle:D("commonComponents:exportSuccessInfo",{email:R}),showModal:mt}))})))},1573:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return i}));var n=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},c=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},o=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=r(e,n),o="IDR"===t?c.replace(/,/g,"."):c,s=a?"".concat(t," "):"",i="".concat(s).concat(o);return i},s=function(e,t,a){var n=t?o(e,t):r(e),c=n.split("-").join(""),s="".concat((null!=a?a:e>0)?"+ ":"- "," ").concat(c);return 0===e&&(s=n),s},i=function(e){return"".concat((100*e).toFixed(2),"%")}},1770:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a(0),c=a.n(n),r=function(e){var t=e.bank_code,a=e.account_number,n=e.account_name;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"font-weight-bold"},t),c.a.createElement("div",null,a),c.a.createElement("div",null,n))},o=function(e,t,a,n){var r=e||t,o=n.find((function(e){return e.id===r})),s=null===o||void 0===o?void 0:o.bank_code,i=null===o||void 0===o?void 0:o.account_number,l=null===o||void 0===o?void 0:o.account_name;return c.a.createElement("div",{className:"w-100"},o?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"font-weight-bold"},s),c.a.createElement("div",null,i),c.a.createElement("div",null,l)):c.a.createElement("div",{className:"color-black-300"},0===n.length?a("transactions:noBank"):"Select..."))}},1946:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(293),c=function(e,t,a){var c={environment:t,name:"fullWithdrawalReport"},r={key:e};Object(n.a)(c,r,a)}},1956:function(e,t,a){},2162:function(e,t,a){}}]);