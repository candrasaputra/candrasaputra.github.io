(this["webpackJsonpxendit-dashboard-ui"]=this["webpackJsonpxendit-dashboard-ui"]||[]).push([[54],{1517:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(9),c=n.n(r),i=n(19),o=n(12),l=n(0),u=n.n(l),s=n(31),d=n.n(s),p=n(27),f=n(471),m=n(190),v=n(67),b=n(380),y=n(511),h=n(284),x=n(205),E=n(20),_=n.n(E),D=n(1573),g=function(e,t,n,a,r,c,i){return[{label:e("originalAmt"),value:Object(D.a)(Number(n),t)},{label:[e("discount")," - ",r," ",u.a.createElement("b",null,c)],value:i},{label:e("finalAmt"),value:Object(D.a)(Number(a),t)}]},O=n(293),I=n(98),j=n(167),C=n(1630),A=n(1612),k=n(80),w=n(472),N=n.n(w),P=(n(2084),function(e){var t=e.title,n=e.items;return u.a.createElement("div",{className:"amount-history mb-4"},u.a.createElement(k.p,{title:t,items:n}))}),S=Object(b.a)(["invoiceDetails","invoiceCommon"])((function(e){var t=e.t,n=e.payload,a=[{label:t("name"),value:"".concat(n.first_name," ").concat(n.last_name),shouldHide:!(n.first_name&&n.last_name)},{label:t("invoiceCommon:email"),value:n.email,shouldHide:!n.email},{label:t("phoneNumber"),value:n.phone_number,shouldHide:!n.phone_number},{label:t("address"),value:n.address,shouldHide:!n.address}];return u.a.createElement(k.p,{title:t("userDetail"),items:a})})),T=n(49),R=n.n(T),L=Object(b.a)()((function(e){var t=e.t,n=e.showModal,a=e.isLoading,r=e.handleClose,c=e.onVoidClicked,i=u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{onClick:r,variant:"secondary",customCss:"float-right",isDisabled:a},t("invoiceDetails:cancel")),u.a.createElement(_.a,{onClick:c,customCss:"float-left",isLoading:a,variant:"destructive"},t("invoiceDetails:void")));return u.a.createElement(R.a,{title:t("invoiceDetails:voidInvoice"),titleCentered:!0,size:"sm",showModal:n,footer:i,handleClose:r},u.a.createElement("p",{className:"color-charcoal"},t("invoiceDetails:areYouSure")))})),F=Object(f.b)((function(e){return Object(a.a)({},e.invoiceDetails)}),(function(e){return Object(m.b)({fetchDetails:A.c,expireInvoice:A.b},e)}));t.default=Object(v.o)(Object(b.a)(["invoiceDetails","invoiceCommon","commonWords"])(F((function(e){var t=e.t,n=e.apiCall,a=n.axiosGet,r=n.axiosPost,s=e.history,f=e.match,m=e.fetchDetails,v=e.expireInvoice,b=e.loading,E=e.expiring,A=e.error,w=e.errorObj,T=e.business,R=T.id,F=T.environment,B=T.country_of_operation,M=e.invoice,H=M.status,Y=M.amount,G=M.currency,V=M.description,W=M.invoice_url,U=M.external_id,J=M.payer_email,X=M.complete_payment_method,z=M.payment_destination,q=M.paid_at,K=M.settled_at,$=M.expiry_date,Q=M.is_vat_enabled,Z=M.fees_paid_amount,ee=M.vat_paid_amount,te=M.adjusted_received_amount,ne=M.on_demand_payload,ae=M.cc_payment_id,re=M.credit_card_charge_id,ce=M.promotions,ie=e.environment,oe="Credit Card"===X,le=X&&Object(p.includes)(X.toUpperCase(),"DIRECT DEBIT"),ue=!Object(p.isEmpty)(ce),se=ue?ce[0]:{},de=se.original_amount,pe=se.discount_amount,fe=se.discount_percent,me=se.final_amount,ve=se.reference_id,be=se.promo_code,ye=Object(l.useState)(!1),he=Object(o.a)(ye,2),xe=he[0],Ee=he[1],_e=Object(l.useState)(!1),De=Object(o.a)(_e,2),ge=De[0],Oe=De[1],Ie=Object(l.useState)(t("commonWords:copy")),je=Object(o.a)(Ie,2),Ce=(je[0],je[1],Object(l.useState)(I.b[B])),Ae=Object(o.a)(Ce,1)[0],ke=Object(l.useState)(!1),we=Object(o.a)(ke,2),Ne=we[0],Pe=we[1];Object(l.useEffect)((function(){Ee(!0),m(f.params.id,Ae,a)}),[f.params.id,H]),Object(l.useEffect)((function(){xe&&s.push("/invoices"),We()}),[ie]);var Se,Te,Re=Object(C.i)(H),Le=function(e){return d()(e).format(C.e)},Fe=function(e,t){return Object(D.a)(Number(e),t)},Be=ee||0,Me="\n    ".concat(G," ").concat(Fe(Y,G)),He=le?Z:Z-Be,Ye=le?Z+Be:Z,Ge=u.a.createElement(N.a,{disabled:!0,useDefaultValue:!0,defaultValue:W,type:"text",copyText:t("commonWords:copy"),copiedText:t("commonWords:copied")}),Ve=Object(O.c)(ie,F),We=function(){var e={environment:Ve,name:"cardsT4Migration"},t={key:R};Object(O.a)(e,t,(function(e){Pe(!e&&"ID"===Ae)}))},Ue=[{label:t("urlLink"),value:Ge},{label:t("invoiceCommon:extId"),value:U},{label:t("invoiceCommon:email"),value:J},{label:t("paymentChannel"),value:X?oe?u.a.createElement(_.a,{rounded:!0,onClick:function(){var e=Ne?ae:re;s.push({pathname:j.e.ccChargeDetails(e)})},customCss:"btn-sm font-weight-bold"},X):X:"-"},{label:t("paymentDestination"),value:z,shouldHide:!z},{label:t("datePaid"),value:q?Le(q):"-"},{label:t("dateSettled"),value:K?Le(K):"-"},{label:t("expiryDate"),value:Le($)},{label:t("invoiceCommon:desc"),value:V},{label:t("feesAmount"),value:Fe(He,G),shouldHide:!Z},{label:t("vatAmount"),value:Fe(Be,G),shouldHide:!(Q&&Be>0)}],Je=function(e,t){return u.a.createElement("span",{className:"color-".concat(t)},e)},Xe=[{label:t("invAmount"),value:Je(Fe(Y,G),"green")},{label:t("invFees"),value:Je("- ".concat(Fe(Ye,G)),"red")},{label:t("receivedAmt"),value:Je(Fe(te,G),"green")}];Object(p.isEmpty)(be)?(Se=t("reference"),Te=ve):(Se=t("code"),Te=be);var ze=function(e,t,n){return t?"- ".concat(Object(D.a)(Number(t),e)):"- ".concat(n,"%")}(G,pe,fe),qe=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f.params.id,r);case 2:Oe(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=u.a.createElement(_.a,{size:"md",isLoading:E,onClick:function(){return Oe(!0)},variant:"secondary"},t("void"));return u.a.createElement(u.a.Fragment,null,u.a.createElement(k.o,{title:t("invoiceDetails"),goBack:function(){s.location.state&&s.location.state.isFromTransactions?s.push({pathname:j.e.transactionsPage,state:{isFromDetailsPage:!0}}):s.goBack()},children:"PENDING"===H&&Ke}),b||A?u.a.createElement(k.z,{isLoading:b,loadingText:t("loadingDetails"),isError:A,errorText:A&&w.error_code}):u.a.createElement(y.a,null,u.a.createElement(h.a,null,u.a.createElement(x.a,{lg:6},u.a.createElement(k.p,{title:t("trxAmt"),items:Ue,amountValue:Me,label:Re})),u.a.createElement(x.a,{lg:6},Z&&0!==Z?u.a.createElement(P,{title:t("amtHistory"),items:Xe}):null,oe&&ue&&u.a.createElement(P,{title:t("promotionDetails"),items:g(t,G,de,me,Se,Te,ze)}),ne&&u.a.createElement(S,{payload:ne})))),u.a.createElement(L,{showModal:ge,isLoading:E,handleClose:function(){return Oe(!1)},onVoidClicked:qe}))}))))},1573:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l}));var a=function(e,t){return"IDR"!==t&&t?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},r=function(e){return e.toLocaleString("en-US").replace(/,/g,".")},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toLocaleString("en-US",{minimumFractionDigits:t?2:0})},i=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=c(e,a),i="IDR"===t?r.replace(/,/g,"."):r,o=n?"".concat(t," "):"",l="".concat(o).concat(i);return l},o=function(e,t,n){var a=t?i(e,t):c(e),r=a.split("-").join(""),o="".concat((null!=n?n:e>0)?"+ ":"- "," ").concat(r);return 0===e&&(o=a),o},l=function(e){return"".concat((100*e).toFixed(2),"%")}},1575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(0)),r=o(n(2)),c=o(n(6)),i=o(n(1576));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1577);var u=function(e){var t,n=e.text,r=e.iconLeft,o=e.customCss,u=e.variant,s=(0,c.default)((l(t={"status-pill":!0},"status-pill-".concat(u),u),l(t,o,o),t));return a.default.createElement(i.default,{text:n,iconLeft:r,customCss:s})};u.propTypes={text:r.default.string,iconLeft:r.default.any,variant:r.default.oneOf(["success","danger","warning","first-level","second-level"]),customCss:r.default.string};var s=u;t.default=s},1576:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),e.exports=n(467)},1577:function(e,t,n){},1612:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return D})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"k",(function(){return C})),n.d(t,"a",(function(){return I}));var a=n(9),r=n.n(a),c=n(19),i=n(27),o=n(51),l=function(e,t,n,a,l){return function(){var u=Object(c.a)(r.a.mark((function c(u){var s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u(n?m():p()),r.prev=1,r.next=4,e("/api/invoice-history",t,l);case 4:if(!(s=r.sent).error_code){r.next=7;break}throw s;case 7:s.docs.length>0&&(s.lastInvoiceId=Object(i.last)(s.docs).id),u(a?{type:o.l,payload:s}:{type:o.a,payload:s}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),u(f(r.t0));case 14:u(n?m():p());case 15:case"end":return r.stop()}}),c,null,[[1,11]])})));return function(e){return u.apply(this,arguments)}}()},u=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e("/api/invoices_statistics",t);case 3:if(!(c=n.sent).error_code){n.next=6;break}throw c;case 6:a({type:o.m,payload:c}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:o.m,payload:{totalCount:0}});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},s=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e("/api/allowed-currency");case 3:if(!(a=t.sent).error_code){t.next=6;break}throw a;case 6:n({type:o.j,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(f(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(v()),a.next=4,e("/api/invoices_report_requests",t,{},n);case 4:if(!(i=a.sent).error_code){a.next=7;break}throw i;case 7:c({type:o.i}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),c(b(a.t0));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},p=function(){return{type:o.s}},f=function(e){return{type:o.r,payload:e}},m=function(){return{type:o.q}},v=function(){return{type:o.g}},b=function(e){return{type:o.h,payload:e}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ID",n=arguments.length>2?arguments[2]:void 0;return function(){var a=Object(c.a)(r.a.mark((function a(c){var i,l,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(x()),a.next=4,n("/api/invoices/".concat(e));case 4:if(!(i=a.sent).error_code){a.next=7;break}throw i;case 7:if("ID"!==t||"Credit Card"!==i.complete_payment_method){a.next=13;break}return l=i.credit_card_charge_id,a.next=11,n("/api/credit_card_payment/".concat(l));case 11:u=a.sent,i.cc_payment_id=u.id;case 13:c({type:o.k,payload:i}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),c(E(a.t0));case 19:c(x());case 20:case"end":return a.stop()}}),a,null,[[0,16]])})));return function(e){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:o.f}),n.next=4,t("/api/invoice/".concat(e,"/expire"));case 4:if(!(c=n.sent).error_code){n.next=7;break}throw c;case 7:a({type:o.e,payload:c}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:o.d,payload:n.t0});case 13:a({type:o.f});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(){return{type:o.s}},E=function(e){return{type:o.r,payload:e}},_=n(3),D=function(e,t){return{type:o.n,name:e,value:t}},g=function(e){return{type:o.o,currency:e}},O=function(e){return{type:o.p,date:e}},I=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e("/api/invoices",t);case 3:if(!(c=n.sent).error_code){n.next=6;break}throw c;case 6:a({type:o.b,payload:c}),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),i=Object(_.a)({isError:!0},n.t0),a(C(i));case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e){return{type:o.u,isSuccess:e}},C=function(e){return{type:o.c,payload:e}}},1630:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return x}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["IDR"],n={date:[{children:[{type:"paid",label:e("paidDate")},{type:"created",label:e("createdDate")},{type:"expired",label:e("expiryDate")}]}],status:[{title:"Status",children:[{type:"SETTLED",label:"Settled"},{type:"PAID",label:"Paid"},{type:"PENDING",label:"Pending"},{type:"EXPIRED",label:"Expired"}]}],channel:[{title:e("paymentChannel"),children:[{type:"CREDIT_CARD",label:"Credit Card"},{type:"BNI",label:"BNI"},{type:"BNI_SYR",label:"BNI Syariah"},{type:"BRI",label:"BRI"},{type:"MANDIRI",label:"Mandiri"},{type:"BCA",label:"BCA"},{type:"PERMATA",label:"Permata"},{type:"ALFAMART",label:"Alfamart"},{type:"INDOMARET",label:"Indomaret"},{type:"7ELEVEN",label:"7 Eleven"},{type:"OVO",label:"OVO"},{type:"DANA",label:"DANA"},{type:"SHOPEEPAY",label:"SHOPEEPAY"},{type:"LINKAJA",label:"LINKAJA"},{type:"DC_BRI",label:"Direct Debit (BRI)"},{type:"BA_BPI",label:"Direct Debit (BPI)"}]}],type:[{title:e("createdFrom"),children:[{type:"API_GATEWAY",label:"API"},{type:"DASHBOARD",label:"Dashboard"},{type:"INTEGRATION",label:"Integration"},{type:"ON_DEMAND",label:"On Demand"},{type:"RECURRING",label:"Recurring"}]}],currency:[{children:t.map((function(e){return{type:e,label:e}}))}]};return n},r=n(0),c=n.n(r),i=n(151),o=n.n(i),l=n(1575),u=n.n(l),s=n(288),d=n.n(s),p=function(e){var t=d()(null===e||void 0===e?void 0:e.toLowerCase());switch(e){case"PAID":case"SETTLED":return c.a.createElement(u.a,{text:t,variant:"success"});case"EXPIRED":return c.a.createElement(u.a,{text:t});default:return c.a.createElement(u.a,{text:"Unpaid",variant:"warning"})}},f=function(e,t){var n=c.a.createElement(c.a.Fragment,null,e("extId"),c.a.createElement("span",{className:"ml-2 text-xs light-gray-icon"},c.a.createElement(o.a,{placement:"top",content:e("invoiceCreateForm:displayedInvoiceNo")})));return[{dataField:"status",text:e("status"),formatter:function(e){return p(e)}},{dataField:"created",text:e("date"),type:"text"},{dataField:"extid",text:n,type:"text"},{dataField:"email",text:e("payerEmail"),type:"text"},{dataField:"desc",text:e("desc"),type:"text"},{dataField:"amount",text:e("amount",{curr:t}),type:"text"}]},m=function(e){return{width:"5%",items:[{field:"extid",text:e("commonWords:copyExternalID"),textPressed:e("commonWords:valueCopied"),action:"copy"}]}},v="DD MMM, YYYY hh:mm A",b={STATUS:"status",CHANNEL:"channel",TYPE:"type"},y={PENDING:"PENDING",PAID:"PAID",SETTLED:"SETTLED",EXPIRED:"EXPIRED"},h="YYYY-MM-DDTHH:mm:ss.SSS",x="/images/invoice-create.svg"},2084:function(e,t,n){}}]);